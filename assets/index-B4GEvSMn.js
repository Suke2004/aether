var Ep=e=>{throw TypeError(e)};var au=(e,t,r)=>t.has(e)||Ep("Cannot "+r);var O=(e,t,r)=>(au(e,t,"read from private field"),r?r.call(e):t.get(e)),we=(e,t,r)=>t.has(e)?Ep("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ce=(e,t,r,n)=>(au(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ft=(e,t,r)=>(au(e,t,"access private method"),r);var Ra=(e,t,r,n)=>({set _(s){ce(e,t,s,r)},get _(){return O(e,t,n)}});function s_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Sv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ev={exports:{}},mc={},kv={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),o_=Symbol.for("react.portal"),i_=Symbol.for("react.fragment"),a_=Symbol.for("react.strict_mode"),l_=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),u_=Symbol.for("react.context"),d_=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),h_=Symbol.for("react.memo"),p_=Symbol.for("react.lazy"),kp=Symbol.iterator;function m_(e){return e===null||typeof e!="object"?null:(e=kp&&e[kp]||e["@@iterator"],typeof e=="function"?e:null)}var Cv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nv=Object.assign,jv={};function Qo(e,t,r){this.props=e,this.context=t,this.refs=jv,this.updater=r||Cv}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tv(){}Tv.prototype=Qo.prototype;function Uf(e,t,r){this.props=e,this.context=t,this.refs=jv,this.updater=r||Cv}var Bf=Uf.prototype=new Tv;Bf.constructor=Uf;Nv(Bf,Qo.prototype);Bf.isPureReactComponent=!0;var Cp=Array.isArray,Pv=Object.prototype.hasOwnProperty,zf={current:null},Rv={key:!0,ref:!0,__self:!0,__source:!0};function Ov(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Pv.call(t,n)&&!Rv.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:xa,type:e,key:o,ref:i,props:s,_owner:zf.current}}function g_(e,t){return{$$typeof:xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wf(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function v_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Np=/\/+/g;function lu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?v_(""+e.key):t.toString(36)}function dl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case xa:case o_:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+lu(i,0):n,Cp(s)?(r="",e!=null&&(r=e.replace(Np,"$&/")+"/"),dl(s,t,r,"",function(u){return u})):s!=null&&(Wf(s)&&(s=g_(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Np,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Cp(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+lu(o,a);i+=dl(o,t,r,l,s)}else if(l=m_(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+lu(o,a++),i+=dl(o,t,r,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Oa(e,t,r){if(e==null)return e;var n=[],s=0;return dl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function y_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},fl={transition:null},w_={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:fl,ReactCurrentOwner:zf};function Av(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Oa,forEach:function(e,t,r){Oa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Oa(e,function(){t++}),t},toArray:function(e){return Oa(e,function(t){return t})||[]},only:function(e){if(!Wf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Qo;ve.Fragment=i_;ve.Profiler=l_;ve.PureComponent=Uf;ve.StrictMode=a_;ve.Suspense=f_;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w_;ve.act=Av;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nv({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=zf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Pv.call(t,l)&&!Rv.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:xa,type:e.type,key:s,ref:o,props:n,_owner:i}};ve.createContext=function(e){return e={$$typeof:u_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c_,_context:e},e.Consumer=e};ve.createElement=Ov;ve.createFactory=function(e){var t=Ov.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:d_,render:e}};ve.isValidElement=Wf;ve.lazy=function(e){return{$$typeof:p_,_payload:{_status:-1,_result:e},_init:y_}};ve.memo=function(e,t){return{$$typeof:h_,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=fl.transition;fl.transition={};try{e()}finally{fl.transition=t}};ve.unstable_act=Av;ve.useCallback=function(e,t){return St.current.useCallback(e,t)};ve.useContext=function(e){return St.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return St.current.useDeferredValue(e)};ve.useEffect=function(e,t){return St.current.useEffect(e,t)};ve.useId=function(){return St.current.useId()};ve.useImperativeHandle=function(e,t,r){return St.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return St.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return St.current.useReducer(e,t,r)};ve.useRef=function(e){return St.current.useRef(e)};ve.useState=function(e){return St.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return St.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return St.current.useTransition()};ve.version="18.3.1";kv.exports=ve;var m=kv.exports;const W=Sv(m),gc=s_({__proto__:null,default:W},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_=m,b_=Symbol.for("react.element"),__=Symbol.for("react.fragment"),S_=Object.prototype.hasOwnProperty,E_=x_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k_={key:!0,ref:!0,__self:!0,__source:!0};function Iv(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)S_.call(t,n)&&!k_.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:b_,type:e,key:o,ref:i,props:s,_owner:E_.current}}mc.Fragment=__;mc.jsx=Iv;mc.jsxs=Iv;Ev.exports=mc;var c=Ev.exports,Mv={exports:{}},Bt={},Dv={exports:{}},Lv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,T){var k=E.length;E.push(T);e:for(;0<k;){var S=k-1>>>1,A=E[S];if(0<s(A,T))E[S]=T,E[k]=A,k=S;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var T=E[0],k=E.pop();if(k!==T){E[0]=k;e:for(var S=0,A=E.length,L=A>>>1;S<L;){var z=2*(S+1)-1,K=E[z],Y=z+1,R=E[Y];if(0>s(K,k))Y<A&&0>s(R,K)?(E[S]=R,E[Y]=k,S=Y):(E[S]=K,E[z]=k,S=z);else if(Y<A&&0>s(R,k))E[S]=R,E[Y]=k,S=Y;else break e}}return T}function s(E,T){var k=E.sortIndex-T.sortIndex;return k!==0?k:E.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,f=null,p=3,h=!1,b=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=E)n(u),T.sortIndex=T.expirationTime,t(l,T);else break;T=r(u)}}function _(E){if(g=!1,x(E),!b)if(r(l)!==null)b=!0,V(C);else{var T=r(u);T!==null&&q(_,T.startTime-E)}}function C(E,T){b=!1,g&&(g=!1,v(P),P=-1),h=!0;var k=p;try{for(x(T),f=r(l);f!==null&&(!(f.expirationTime>T)||E&&!U());){var S=f.callback;if(typeof S=="function"){f.callback=null,p=f.priorityLevel;var A=S(f.expirationTime<=T);T=e.unstable_now(),typeof A=="function"?f.callback=A:f===r(l)&&n(l),x(T)}else n(l);f=r(l)}if(f!==null)var L=!0;else{var z=r(u);z!==null&&q(_,z.startTime-T),L=!1}return L}finally{f=null,p=k,h=!1}}var N=!1,j=null,P=-1,D=5,I=-1;function U(){return!(e.unstable_now()-I<D)}function B(){if(j!==null){var E=e.unstable_now();I=E;var T=!0;try{T=j(!0,E)}finally{T?Z():(N=!1,j=null)}}else N=!1}var Z;if(typeof y=="function")Z=function(){y(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=B,Z=function(){J.postMessage(null)}}else Z=function(){w(B,0)};function V(E){j=E,N||(N=!0,Z())}function q(E,T){P=w(function(){E(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,V(C))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var k=p;p=T;try{return E()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,T){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var k=p;p=E;try{return T()}finally{p=k}},e.unstable_scheduleCallback=function(E,T,k){var S=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?S+k:S):k=S,E){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=k+A,E={id:d++,callback:T,priorityLevel:E,startTime:k,expirationTime:A,sortIndex:-1},k>S?(E.sortIndex=k,t(u,E),r(l)===null&&E===r(u)&&(g?(v(P),P=-1):g=!0,q(_,k-S))):(E.sortIndex=A,t(l,E),b||h||(b=!0,V(C))),E},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(E){var T=p;return function(){var k=p;p=T;try{return E.apply(this,arguments)}finally{p=k}}}})(Lv);Dv.exports=Lv;var C_=Dv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=m,Ut=C_;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $v=new Set,Fi={};function Ps(e,t){Mo(e,t),Mo(e+"Capture",t)}function Mo(e,t){for(Fi[e]=t,e=0;e<t.length;e++)$v.add(t[e])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=Object.prototype.hasOwnProperty,j_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jp={},Tp={};function T_(e){return ad.call(Tp,e)?!0:ad.call(jp,e)?!1:j_.test(e)?Tp[e]=!0:(jp[e]=!0,!1)}function P_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R_(e,t,r,n){if(t===null||typeof t>"u"||P_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function Hf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vf,Hf);lt[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vf,Hf);lt[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vf,Hf);lt[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function qf(e,t,r,n){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R_(t,r,s,n)&&(r=null),n||s===null?T_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xr=N_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Aa=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),ld=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),Uv=Symbol.for("react.context"),Gf=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),ud=Symbol.for("react.suspense_list"),Qf=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Bv=Symbol.for("react.offscreen"),Pp=Symbol.iterator;function ai(e){return e===null||typeof e!="object"?null:(e=Pp&&e[Pp]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,cu;function wi(e){if(cu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cu=t&&t[1]||""}return`
`+cu+e}var uu=!1;function du(e,t){if(!e||uu)return"";uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{uu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wi(e):""}function O_(e){switch(e.tag){case 5:return wi(e.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 2:case 15:return e=du(e.type,!1),e;case 11:return e=du(e.type.render,!1),e;case 1:return e=du(e.type,!0),e;default:return""}}function dd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xs:return"Fragment";case Js:return"Portal";case ld:return"Profiler";case Kf:return"StrictMode";case cd:return"Suspense";case ud:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uv:return(e.displayName||"Context")+".Consumer";case Fv:return(e._context.displayName||"Context")+".Provider";case Gf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qf:return t=e.displayName||null,t!==null?t:dd(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return dd(e(t))}catch{}}return null}function A_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dd(t);case 8:return t===Kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I_(e){var t=zv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ia(e){e._valueTracker||(e._valueTracker=I_(e))}function Wv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fd(e,t){var r=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Rp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vv(e,t){t=t.checked,t!=null&&qf(e,"checked",t,!1)}function hd(e,t){Vv(e,t);var r=Mn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pd(e,t.type,r):t.hasOwnProperty("defaultValue")&&pd(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Op(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pd(e,t,r){(t!=="number"||Rl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xi=Array.isArray;function ho(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function md(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ap(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(xi(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mn(r)}}function Hv(e,t){var r=Mn(t.value),n=Mn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ip(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ma,Kv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ma=Ma||document.createElement("div"),Ma.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ma.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ui(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M_=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(e){M_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ni[t]=Ni[e]})});function Gv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ni.hasOwnProperty(e)&&Ni[e]?(""+t).trim():t+"px"}function Qv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Gv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var D_=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vd(e,t){if(t){if(D_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function yd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=null;function Yf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xd=null,po=null,mo=null;function Mp(e){if(e=Sa(e)){if(typeof xd!="function")throw Error(F(280));var t=e.stateNode;t&&(t=bc(t),xd(e.stateNode,e.type,t))}}function Yv(e){po?mo?mo.push(e):mo=[e]:po=e}function Jv(){if(po){var e=po,t=mo;if(mo=po=null,Mp(e),t)for(e=0;e<t.length;e++)Mp(t[e])}}function Xv(e,t){return e(t)}function Zv(){}var fu=!1;function ey(e,t,r){if(fu)return e(t,r);fu=!0;try{return Xv(e,t,r)}finally{fu=!1,(po!==null||mo!==null)&&(Zv(),Jv())}}function Bi(e,t){var r=e.stateNode;if(r===null)return null;var n=bc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var bd=!1;if(Hr)try{var li={};Object.defineProperty(li,"passive",{get:function(){bd=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{bd=!1}function L_(e,t,r,n,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ji=!1,Ol=null,Al=!1,_d=null,$_={onError:function(e){ji=!0,Ol=e}};function F_(e,t,r,n,s,o,i,a,l){ji=!1,Ol=null,L_.apply($_,arguments)}function U_(e,t,r,n,s,o,i,a,l){if(F_.apply(this,arguments),ji){if(ji){var u=Ol;ji=!1,Ol=null}else throw Error(F(198));Al||(Al=!0,_d=u)}}function Rs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ty(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dp(e){if(Rs(e)!==e)throw Error(F(188))}function B_(e){var t=e.alternate;if(!t){if(t=Rs(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Dp(s),e;if(o===n)return Dp(s),t;o=o.sibling}throw Error(F(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function ry(e){return e=B_(e),e!==null?ny(e):null}function ny(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ny(e);if(t!==null)return t;e=e.sibling}return null}var sy=Ut.unstable_scheduleCallback,Lp=Ut.unstable_cancelCallback,z_=Ut.unstable_shouldYield,W_=Ut.unstable_requestPaint,qe=Ut.unstable_now,V_=Ut.unstable_getCurrentPriorityLevel,Jf=Ut.unstable_ImmediatePriority,oy=Ut.unstable_UserBlockingPriority,Il=Ut.unstable_NormalPriority,H_=Ut.unstable_LowPriority,iy=Ut.unstable_IdlePriority,vc=null,Tr=null;function q_(e){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(vc,e,void 0,(e.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:Q_,K_=Math.log,G_=Math.LN2;function Q_(e){return e>>>=0,e===0?32:31-(K_(e)/G_|0)|0}var Da=64,La=4194304;function bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ml(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=bi(a):(o&=i,o!==0&&(n=bi(o)))}else i=r&~s,i!==0?n=bi(i):o!==0&&(n=bi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-hr(t),s=1<<r,n|=e[r],t&=~s;return n}function Y_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-hr(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=Y_(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Sd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ay(){var e=Da;return Da<<=1,!(Da&4194240)&&(Da=64),e}function hu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ba(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hr(t),e[t]=r}function X_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-hr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Xf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-hr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ee=0;function ly(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cy,Zf,uy,dy,fy,Ed=!1,$a=[],Cn=null,Nn=null,jn=null,zi=new Map,Wi=new Map,pn=[],Z_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $p(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function ci(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Sa(t),t!==null&&Zf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eS(e,t,r,n,s){switch(t){case"focusin":return Cn=ci(Cn,e,t,r,n,s),!0;case"dragenter":return Nn=ci(Nn,e,t,r,n,s),!0;case"mouseover":return jn=ci(jn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return zi.set(o,ci(zi.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Wi.set(o,ci(Wi.get(o)||null,e,t,r,n,s)),!0}return!1}function hy(e){var t=ns(e.target);if(t!==null){var r=Rs(t);if(r!==null){if(t=r.tag,t===13){if(t=ty(r),t!==null){e.blockedOn=t,fy(e.priority,function(){uy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wd=n,r.target.dispatchEvent(n),wd=null}else return t=Sa(r),t!==null&&Zf(t),e.blockedOn=r,!1;t.shift()}return!0}function Fp(e,t,r){hl(e)&&r.delete(t)}function tS(){Ed=!1,Cn!==null&&hl(Cn)&&(Cn=null),Nn!==null&&hl(Nn)&&(Nn=null),jn!==null&&hl(jn)&&(jn=null),zi.forEach(Fp),Wi.forEach(Fp)}function ui(e,t){e.blockedOn===t&&(e.blockedOn=null,Ed||(Ed=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,tS)))}function Vi(e){function t(s){return ui(s,e)}if(0<$a.length){ui($a[0],e);for(var r=1;r<$a.length;r++){var n=$a[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cn!==null&&ui(Cn,e),Nn!==null&&ui(Nn,e),jn!==null&&ui(jn,e),zi.forEach(t),Wi.forEach(t),r=0;r<pn.length;r++)n=pn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<pn.length&&(r=pn[0],r.blockedOn===null);)hy(r),r.blockedOn===null&&pn.shift()}var go=Xr.ReactCurrentBatchConfig,Dl=!0;function rS(e,t,r,n){var s=Ee,o=go.transition;go.transition=null;try{Ee=1,eh(e,t,r,n)}finally{Ee=s,go.transition=o}}function nS(e,t,r,n){var s=Ee,o=go.transition;go.transition=null;try{Ee=4,eh(e,t,r,n)}finally{Ee=s,go.transition=o}}function eh(e,t,r,n){if(Dl){var s=kd(e,t,r,n);if(s===null)Su(e,t,n,Ll,r),$p(e,n);else if(eS(s,e,t,r,n))n.stopPropagation();else if($p(e,n),t&4&&-1<Z_.indexOf(e)){for(;s!==null;){var o=Sa(s);if(o!==null&&cy(o),o=kd(e,t,r,n),o===null&&Su(e,t,n,Ll,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Su(e,t,n,null,r)}}var Ll=null;function kd(e,t,r,n){if(Ll=null,e=Yf(n),e=ns(e),e!==null)if(t=Rs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ty(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ll=e,null}function py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V_()){case Jf:return 1;case oy:return 4;case Il:case H_:return 16;case iy:return 536870912;default:return 16}default:return 16}}var Sn=null,th=null,pl=null;function my(){if(pl)return pl;var e,t=th,r=t.length,n,s="value"in Sn?Sn.value:Sn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return pl=s.slice(e,1<n?1-n:void 0)}function ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fa(){return!0}function Up(){return!1}function zt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fa:Up,this.isPropagationStopped=Up,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),t}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rh=zt(Yo),_a=Be({},Yo,{view:0,detail:0}),sS=zt(_a),pu,mu,di,yc=Be({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(pu=e.screenX-di.screenX,mu=e.screenY-di.screenY):mu=pu=0,di=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:mu}}),Bp=zt(yc),oS=Be({},yc,{dataTransfer:0}),iS=zt(oS),aS=Be({},_a,{relatedTarget:0}),gu=zt(aS),lS=Be({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),cS=zt(lS),uS=Be({},Yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dS=zt(uS),fS=Be({},Yo,{data:0}),zp=zt(fS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mS[e])?!!t[e]:!1}function nh(){return gS}var vS=Be({},_a,{key:function(e){if(e.key){var t=hS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yS=zt(vS),wS=Be({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wp=zt(wS),xS=Be({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),bS=zt(xS),_S=Be({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),SS=zt(_S),ES=Be({},yc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kS=zt(ES),CS=[9,13,27,32],sh=Hr&&"CompositionEvent"in window,Ti=null;Hr&&"documentMode"in document&&(Ti=document.documentMode);var NS=Hr&&"TextEvent"in window&&!Ti,gy=Hr&&(!sh||Ti&&8<Ti&&11>=Ti),Vp=" ",Hp=!1;function vy(e,t){switch(e){case"keyup":return CS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zs=!1;function jS(e,t){switch(e){case"compositionend":return yy(t);case"keypress":return t.which!==32?null:(Hp=!0,Vp);case"textInput":return e=t.data,e===Vp&&Hp?null:e;default:return null}}function TS(e,t){if(Zs)return e==="compositionend"||!sh&&vy(e,t)?(e=my(),pl=th=Sn=null,Zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gy&&t.locale!=="ko"?null:t.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PS[e.type]:t==="textarea"}function wy(e,t,r,n){Yv(n),t=$l(t,"onChange"),0<t.length&&(r=new rh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pi=null,Hi=null;function RS(e){Py(e,0)}function wc(e){var t=ro(e);if(Wv(t))return e}function OS(e,t){if(e==="change")return t}var xy=!1;if(Hr){var vu;if(Hr){var yu="oninput"in document;if(!yu){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),yu=typeof Kp.oninput=="function"}vu=yu}else vu=!1;xy=vu&&(!document.documentMode||9<document.documentMode)}function Gp(){Pi&&(Pi.detachEvent("onpropertychange",by),Hi=Pi=null)}function by(e){if(e.propertyName==="value"&&wc(Hi)){var t=[];wy(t,Hi,e,Yf(e)),ey(RS,t)}}function AS(e,t,r){e==="focusin"?(Gp(),Pi=t,Hi=r,Pi.attachEvent("onpropertychange",by)):e==="focusout"&&Gp()}function IS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wc(Hi)}function MS(e,t){if(e==="click")return wc(t)}function DS(e,t){if(e==="input"||e==="change")return wc(t)}function LS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:LS;function qi(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ad.call(t,s)||!mr(e[s],t[s]))return!1}return!0}function Qp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yp(e,t){var r=Qp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qp(r)}}function _y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sy(){for(var e=window,t=Rl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rl(e.document)}return t}function oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $S(e){var t=Sy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_y(r.ownerDocument.documentElement,r)){if(n!==null&&oh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Yp(r,o);var i=Yp(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FS=Hr&&"documentMode"in document&&11>=document.documentMode,eo=null,Cd=null,Ri=null,Nd=!1;function Jp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nd||eo==null||eo!==Rl(n)||(n=eo,"selectionStart"in n&&oh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ri&&qi(Ri,n)||(Ri=n,n=$l(Cd,"onSelect"),0<n.length&&(t=new rh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=eo)))}function Ua(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var to={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},wu={},Ey={};Hr&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function xc(e){if(wu[e])return wu[e];if(!to[e])return e;var t=to[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ey)return wu[e]=t[r];return e}var ky=xc("animationend"),Cy=xc("animationiteration"),Ny=xc("animationstart"),jy=xc("transitionend"),Ty=new Map,Xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){Ty.set(e,t),Ps(t,[e])}for(var xu=0;xu<Xp.length;xu++){var bu=Xp[xu],US=bu.toLowerCase(),BS=bu[0].toUpperCase()+bu.slice(1);Un(US,"on"+BS)}Un(ky,"onAnimationEnd");Un(Cy,"onAnimationIteration");Un(Ny,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(jy,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zS=new Set("cancel close invalid load scroll toggle".split(" ").concat(_i));function Zp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U_(n,t,void 0,e),e.currentTarget=null}function Py(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Zp(s,a,u),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Zp(s,a,u),o=l}}}if(Al)throw e=_d,Al=!1,_d=null,e}function Re(e,t){var r=t[Od];r===void 0&&(r=t[Od]=new Set);var n=e+"__bubble";r.has(n)||(Ry(t,e,2,!1),r.add(n))}function _u(e,t,r){var n=0;t&&(n|=4),Ry(r,e,n,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Ki(e){if(!e[Ba]){e[Ba]=!0,$v.forEach(function(r){r!=="selectionchange"&&(zS.has(r)||_u(r,!1,e),_u(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ba]||(t[Ba]=!0,_u("selectionchange",!1,t))}}function Ry(e,t,r,n){switch(py(t)){case 1:var s=rS;break;case 4:s=nS;break;default:s=eh}r=s.bind(null,t,r,e),s=void 0,!bd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Su(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ns(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}ey(function(){var u=o,d=Yf(r),f=[];e:{var p=Ty.get(e);if(p!==void 0){var h=rh,b=e;switch(e){case"keypress":if(ml(r)===0)break e;case"keydown":case"keyup":h=yS;break;case"focusin":b="focus",h=gu;break;case"focusout":b="blur",h=gu;break;case"beforeblur":case"afterblur":h=gu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=iS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bS;break;case ky:case Cy:case Ny:h=cS;break;case jy:h=SS;break;case"scroll":h=sS;break;case"wheel":h=kS;break;case"copy":case"cut":case"paste":h=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Wp}var g=(t&4)!==0,w=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,v!==null&&(_=Bi(y,v),_!=null&&g.push(Gi(y,_,x)))),w)break;y=y.return}0<g.length&&(p=new h(p,b,null,r,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==wd&&(b=r.relatedTarget||r.fromElement)&&(ns(b)||b[qr]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(b=r.relatedTarget||r.toElement,h=u,b=b?ns(b):null,b!==null&&(w=Rs(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=u),h!==b)){if(g=Bp,_="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Wp,_="onPointerLeave",v="onPointerEnter",y="pointer"),w=h==null?p:ro(h),x=b==null?p:ro(b),p=new g(_,y+"leave",h,r,d),p.target=w,p.relatedTarget=x,_=null,ns(d)===u&&(g=new g(v,y+"enter",b,r,d),g.target=x,g.relatedTarget=w,_=g),w=_,h&&b)t:{for(g=h,v=b,y=0,x=g;x;x=Ms(x))y++;for(x=0,_=v;_;_=Ms(_))x++;for(;0<y-x;)g=Ms(g),y--;for(;0<x-y;)v=Ms(v),x--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ms(g),v=Ms(v)}g=null}else g=null;h!==null&&em(f,p,h,g,!1),b!==null&&w!==null&&em(f,w,b,g,!0)}}e:{if(p=u?ro(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var C=OS;else if(qp(p))if(xy)C=DS;else{C=IS;var N=AS}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=MS);if(C&&(C=C(e,u))){wy(f,C,r,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&pd(p,"number",p.value)}switch(N=u?ro(u):window,e){case"focusin":(qp(N)||N.contentEditable==="true")&&(eo=N,Cd=u,Ri=null);break;case"focusout":Ri=Cd=eo=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,Jp(f,r,d);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":Jp(f,r,d)}var j;if(sh)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Zs?vy(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(gy&&r.locale!=="ko"&&(Zs||P!=="onCompositionStart"?P==="onCompositionEnd"&&Zs&&(j=my()):(Sn=d,th="value"in Sn?Sn.value:Sn.textContent,Zs=!0)),N=$l(u,P),0<N.length&&(P=new zp(P,e,null,r,d),f.push({event:P,listeners:N}),j?P.data=j:(j=yy(r),j!==null&&(P.data=j)))),(j=NS?jS(e,r):TS(e,r))&&(u=$l(u,"onBeforeInput"),0<u.length&&(d=new zp("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}Py(f,t)})}function Gi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $l(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Bi(e,r),o!=null&&n.unshift(Gi(e,o,s)),o=Bi(e,t),o!=null&&n.push(Gi(e,o,s))),e=e.return}return n}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function em(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Bi(r,o),l!=null&&i.unshift(Gi(r,l,a))):s||(l=Bi(r,o),l!=null&&i.push(Gi(r,l,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var WS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function tm(e){return(typeof e=="string"?e:""+e).replace(WS,`
`).replace(VS,"")}function za(e,t,r){if(t=tm(t),tm(e)!==t&&r)throw Error(F(425))}function Fl(){}var jd=null,Td=null;function Pd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rd=typeof setTimeout=="function"?setTimeout:void 0,HS=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(e){return rm.resolve(null).then(e).catch(KS)}:Rd;function KS(e){setTimeout(function(){throw e})}function Eu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vi(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Jo,Qi="__reactProps$"+Jo,qr="__reactContainer$"+Jo,Od="__reactEvents$"+Jo,GS="__reactListeners$"+Jo,QS="__reactHandles$"+Jo;function ns(e){var t=e[Cr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qr]||r[Cr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nm(e);e!==null;){if(r=e[Cr])return r;e=nm(e)}return t}e=r,r=e.parentNode}return null}function Sa(e){return e=e[Cr]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function bc(e){return e[Qi]||null}var Ad=[],no=-1;function Bn(e){return{current:e}}function Ae(e){0>no||(e.current=Ad[no],Ad[no]=null,no--)}function je(e,t){no++,Ad[no]=e.current,e.current=t}var Dn={},gt=Bn(Dn),jt=Bn(!1),xs=Dn;function Do(e,t){var r=e.type.contextTypes;if(!r)return Dn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(e){return e=e.childContextTypes,e!=null}function Ul(){Ae(jt),Ae(gt)}function sm(e,t,r){if(gt.current!==Dn)throw Error(F(168));je(gt,t),je(jt,r)}function Oy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(F(108,A_(e)||"Unknown",s));return Be({},r,n)}function Bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,xs=gt.current,je(gt,e),je(jt,jt.current),!0}function om(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=Oy(e,t,xs),n.__reactInternalMemoizedMergedChildContext=e,Ae(jt),Ae(gt),je(gt,e)):Ae(jt),je(jt,r)}var Ur=null,_c=!1,ku=!1;function Ay(e){Ur===null?Ur=[e]:Ur.push(e)}function YS(e){_c=!0,Ay(e)}function zn(){if(!ku&&Ur!==null){ku=!0;var e=0,t=Ee;try{var r=Ur;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ur=null,_c=!1}catch(s){throw Ur!==null&&(Ur=Ur.slice(e+1)),sy(Jf,zn),s}finally{Ee=t,ku=!1}}return null}var so=[],oo=0,zl=null,Wl=0,Vt=[],Ht=0,bs=null,zr=1,Wr="";function Jn(e,t){so[oo++]=Wl,so[oo++]=zl,zl=e,Wl=t}function Iy(e,t,r){Vt[Ht++]=zr,Vt[Ht++]=Wr,Vt[Ht++]=bs,bs=e;var n=zr;e=Wr;var s=32-hr(n)-1;n&=~(1<<s),r+=1;var o=32-hr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,zr=1<<32-hr(t)+s|r<<s|n,Wr=o+e}else zr=1<<o|r<<s|n,Wr=e}function ih(e){e.return!==null&&(Jn(e,1),Iy(e,1,0))}function ah(e){for(;e===zl;)zl=so[--oo],so[oo]=null,Wl=so[--oo],so[oo]=null;for(;e===bs;)bs=Vt[--Ht],Vt[Ht]=null,Wr=Vt[--Ht],Vt[Ht]=null,zr=Vt[--Ht],Vt[Ht]=null}var $t=null,Dt=null,Me=!1,fr=null;function My(e,t){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function im(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Dt=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bs!==null?{id:zr,overflow:Wr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$t=e,Dt=null,!0):!1;default:return!1}}function Id(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Md(e){if(Me){var t=Dt;if(t){var r=t;if(!im(e,t)){if(Id(e))throw Error(F(418));t=Tn(r.nextSibling);var n=$t;t&&im(e,t)?My(n,r):(e.flags=e.flags&-4097|2,Me=!1,$t=e)}}else{if(Id(e))throw Error(F(418));e.flags=e.flags&-4097|2,Me=!1,$t=e}}}function am(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function Wa(e){if(e!==$t)return!1;if(!Me)return am(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pd(e.type,e.memoizedProps)),t&&(t=Dt)){if(Id(e))throw Dy(),Error(F(418));for(;t;)My(e,t),t=Tn(t.nextSibling)}if(am(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dt=Tn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=$t?Tn(e.stateNode.nextSibling):null;return!0}function Dy(){for(var e=Dt;e;)e=Tn(e.nextSibling)}function Lo(){Dt=$t=null,Me=!1}function lh(e){fr===null?fr=[e]:fr.push(e)}var JS=Xr.ReactCurrentBatchConfig;function fi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lm(e){var t=e._init;return t(e._payload)}function Ly(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=An(v,y),v.index=0,v.sibling=null,v}function o(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,_){return y===null||y.tag!==6?(y=Ou(x,v.mode,_),y.return=v,y):(y=s(y,x),y.return=v,y)}function l(v,y,x,_){var C=x.type;return C===Xs?d(v,y,x.props.children,_,x.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===dn&&lm(C)===y.type)?(_=s(y,x.props),_.ref=fi(v,y,x),_.return=v,_):(_=_l(x.type,x.key,x.props,null,v.mode,_),_.ref=fi(v,y,x),_.return=v,_)}function u(v,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Au(x,v.mode,_),y.return=v,y):(y=s(y,x.children||[]),y.return=v,y)}function d(v,y,x,_,C){return y===null||y.tag!==7?(y=ps(x,v.mode,_,C),y.return=v,y):(y=s(y,x),y.return=v,y)}function f(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ou(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Aa:return x=_l(y.type,y.key,y.props,null,v.mode,x),x.ref=fi(v,null,y),x.return=v,x;case Js:return y=Au(y,v.mode,x),y.return=v,y;case dn:var _=y._init;return f(v,_(y._payload),x)}if(xi(y)||ai(y))return y=ps(y,v.mode,x,null),y.return=v,y;Va(v,y)}return null}function p(v,y,x,_){var C=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(v,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Aa:return x.key===C?l(v,y,x,_):null;case Js:return x.key===C?u(v,y,x,_):null;case dn:return C=x._init,p(v,y,C(x._payload),_)}if(xi(x)||ai(x))return C!==null?null:d(v,y,x,_,null);Va(v,x)}return null}function h(v,y,x,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(x)||null,a(y,v,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Aa:return v=v.get(_.key===null?x:_.key)||null,l(y,v,_,C);case Js:return v=v.get(_.key===null?x:_.key)||null,u(y,v,_,C);case dn:var N=_._init;return h(v,y,x,N(_._payload),C)}if(xi(_)||ai(_))return v=v.get(x)||null,d(y,v,_,C,null);Va(y,_)}return null}function b(v,y,x,_){for(var C=null,N=null,j=y,P=y=0,D=null;j!==null&&P<x.length;P++){j.index>P?(D=j,j=null):D=j.sibling;var I=p(v,j,x[P],_);if(I===null){j===null&&(j=D);break}e&&j&&I.alternate===null&&t(v,j),y=o(I,y,P),N===null?C=I:N.sibling=I,N=I,j=D}if(P===x.length)return r(v,j),Me&&Jn(v,P),C;if(j===null){for(;P<x.length;P++)j=f(v,x[P],_),j!==null&&(y=o(j,y,P),N===null?C=j:N.sibling=j,N=j);return Me&&Jn(v,P),C}for(j=n(v,j);P<x.length;P++)D=h(j,v,P,x[P],_),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?P:D.key),y=o(D,y,P),N===null?C=D:N.sibling=D,N=D);return e&&j.forEach(function(U){return t(v,U)}),Me&&Jn(v,P),C}function g(v,y,x,_){var C=ai(x);if(typeof C!="function")throw Error(F(150));if(x=C.call(x),x==null)throw Error(F(151));for(var N=C=null,j=y,P=y=0,D=null,I=x.next();j!==null&&!I.done;P++,I=x.next()){j.index>P?(D=j,j=null):D=j.sibling;var U=p(v,j,I.value,_);if(U===null){j===null&&(j=D);break}e&&j&&U.alternate===null&&t(v,j),y=o(U,y,P),N===null?C=U:N.sibling=U,N=U,j=D}if(I.done)return r(v,j),Me&&Jn(v,P),C;if(j===null){for(;!I.done;P++,I=x.next())I=f(v,I.value,_),I!==null&&(y=o(I,y,P),N===null?C=I:N.sibling=I,N=I);return Me&&Jn(v,P),C}for(j=n(v,j);!I.done;P++,I=x.next())I=h(j,v,P,I.value,_),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?P:I.key),y=o(I,y,P),N===null?C=I:N.sibling=I,N=I);return e&&j.forEach(function(B){return t(v,B)}),Me&&Jn(v,P),C}function w(v,y,x,_){if(typeof x=="object"&&x!==null&&x.type===Xs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Aa:e:{for(var C=x.key,N=y;N!==null;){if(N.key===C){if(C=x.type,C===Xs){if(N.tag===7){r(v,N.sibling),y=s(N,x.props.children),y.return=v,v=y;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===dn&&lm(C)===N.type){r(v,N.sibling),y=s(N,x.props),y.ref=fi(v,N,x),y.return=v,v=y;break e}r(v,N);break}else t(v,N);N=N.sibling}x.type===Xs?(y=ps(x.props.children,v.mode,_,x.key),y.return=v,v=y):(_=_l(x.type,x.key,x.props,null,v.mode,_),_.ref=fi(v,y,x),_.return=v,v=_)}return i(v);case Js:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(v,y.sibling),y=s(y,x.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Au(x,v.mode,_),y.return=v,v=y}return i(v);case dn:return N=x._init,w(v,y,N(x._payload),_)}if(xi(x))return b(v,y,x,_);if(ai(x))return g(v,y,x,_);Va(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(v,y.sibling),y=s(y,x),y.return=v,v=y):(r(v,y),y=Ou(x,v.mode,_),y.return=v,v=y),i(v)):r(v,y)}return w}var $o=Ly(!0),$y=Ly(!1),Vl=Bn(null),Hl=null,io=null,ch=null;function uh(){ch=io=Hl=null}function dh(e){var t=Vl.current;Ae(Vl),e._currentValue=t}function Dd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vo(e,t){Hl=e,ch=io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(ch!==e)if(e={context:e,memoizedValue:t,next:null},io===null){if(Hl===null)throw Error(F(308));io=e,Hl.dependencies={lanes:0,firstContext:e}}else io=io.next=e;return t}var ss=null;function fh(e){ss===null?ss=[e]:ss.push(e)}function Fy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,fh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Kr(e,n)}function Kr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fn=!1;function hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Kr(e,r)}return s=n.interleaved,s===null?(t.next=t,fh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Kr(e,r)}function gl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xf(e,r)}}function cm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ql(e,t,r,n){var s=e.updateQueue;fn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=u=l=null,a=o;do{var p=a.lane,h=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,g=a;switch(p=t,h=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){f=b.call(h,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,p=typeof b=="function"?b.call(h,f,p):b,p==null)break e;f=Be({},f,p);break e;case 2:fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=f):d=d.next=h,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ss|=i,e.lanes=i,e.memoizedState=f}}function um(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(F(191,s));s.call(n)}}}var Ea={},Pr=Bn(Ea),Yi=Bn(Ea),Ji=Bn(Ea);function os(e){if(e===Ea)throw Error(F(174));return e}function ph(e,t){switch(je(Ji,t),je(Yi,e),je(Pr,Ea),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gd(t,e)}Ae(Pr),je(Pr,t)}function Fo(){Ae(Pr),Ae(Yi),Ae(Ji)}function By(e){os(Ji.current);var t=os(Pr.current),r=gd(t,e.type);t!==r&&(je(Yi,e),je(Pr,r))}function mh(e){Yi.current===e&&(Ae(Pr),Ae(Yi))}var $e=Bn(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cu=[];function gh(){for(var e=0;e<Cu.length;e++)Cu[e]._workInProgressVersionPrimary=null;Cu.length=0}var vl=Xr.ReactCurrentDispatcher,Nu=Xr.ReactCurrentBatchConfig,_s=0,Ue=null,Ye=null,tt=null,Gl=!1,Oi=!1,Xi=0,XS=0;function ht(){throw Error(F(321))}function vh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mr(e[r],t[r]))return!1;return!0}function yh(e,t,r,n,s,o){if(_s=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vl.current=e===null||e.memoizedState===null?rE:nE,e=r(n,s),Oi){o=0;do{if(Oi=!1,Xi=0,25<=o)throw Error(F(301));o+=1,tt=Ye=null,t.updateQueue=null,vl.current=sE,e=r(n,s)}while(Oi)}if(vl.current=Ql,t=Ye!==null&&Ye.next!==null,_s=0,tt=Ye=Ue=null,Gl=!1,t)throw Error(F(300));return e}function wh(){var e=Xi!==0;return Xi=0,e}function _r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ue.memoizedState=tt=e:tt=tt.next=e,tt}function Qt(){if(Ye===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=tt===null?Ue.memoizedState:tt.next;if(t!==null)tt=t,Ye=e;else{if(e===null)throw Error(F(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Ue.memoizedState=tt=e:tt=tt.next=e}return tt}function Zi(e,t){return typeof t=="function"?t(e):t}function ju(e){var t=Qt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Ye,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((_s&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,i=n):l=l.next=f,Ue.lanes|=d,Ss|=d}u=u.next}while(u!==null&&u!==o);l===null?i=n:l.next=a,mr(n,t.memoizedState)||(Nt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ue.lanes|=o,Ss|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tu(e){var t=Qt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);mr(o,t.memoizedState)||(Nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function zy(){}function Wy(e,t){var r=Ue,n=Qt(),s=t(),o=!mr(n.memoizedState,s);if(o&&(n.memoizedState=s,Nt=!0),n=n.queue,xh(qy.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,ea(9,Hy.bind(null,r,n,s,t),void 0,null),rt===null)throw Error(F(349));_s&30||Vy(r,t,s)}return s}function Vy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hy(e,t,r,n){t.value=r,t.getSnapshot=n,Ky(t)&&Gy(e)}function qy(e,t,r){return r(function(){Ky(t)&&Gy(e)})}function Ky(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mr(e,r)}catch{return!0}}function Gy(e){var t=Kr(e,1);t!==null&&pr(t,e,1,-1)}function dm(e){var t=_r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},t.queue=e,e=e.dispatch=tE.bind(null,Ue,e),[t.memoizedState,e]}function ea(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qy(){return Qt().memoizedState}function yl(e,t,r,n){var s=_r();Ue.flags|=e,s.memoizedState=ea(1|t,r,void 0,n===void 0?null:n)}function Sc(e,t,r,n){var s=Qt();n=n===void 0?null:n;var o=void 0;if(Ye!==null){var i=Ye.memoizedState;if(o=i.destroy,n!==null&&vh(n,i.deps)){s.memoizedState=ea(t,r,o,n);return}}Ue.flags|=e,s.memoizedState=ea(1|t,r,o,n)}function fm(e,t){return yl(8390656,8,e,t)}function xh(e,t){return Sc(2048,8,e,t)}function Yy(e,t){return Sc(4,2,e,t)}function Jy(e,t){return Sc(4,4,e,t)}function Xy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zy(e,t,r){return r=r!=null?r.concat([e]):null,Sc(4,4,Xy.bind(null,t,e),r)}function bh(){}function e0(e,t){var r=Qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t0(e,t){var r=Qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r0(e,t,r){return _s&21?(mr(r,t)||(r=ay(),Ue.lanes|=r,Ss|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=r)}function ZS(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=Nu.transition;Nu.transition={};try{e(!1),t()}finally{Ee=r,Nu.transition=n}}function n0(){return Qt().memoizedState}function eE(e,t,r){var n=On(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s0(e))o0(t,r);else if(r=Fy(e,t,r,n),r!==null){var s=_t();pr(r,e,n,s),i0(r,t,n)}}function tE(e,t,r){var n=On(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s0(e))o0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,mr(a,i)){var l=t.interleaved;l===null?(s.next=s,fh(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Fy(e,t,s,n),r!==null&&(s=_t(),pr(r,e,n,s),i0(r,t,n))}}function s0(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function o0(e,t){Oi=Gl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xf(e,r)}}var Ql={readContext:Gt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},rE={readContext:Gt,useCallback:function(e,t){return _r().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:fm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yl(4194308,4,Xy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yl(4194308,4,e,t)},useInsertionEffect:function(e,t){return yl(4,2,e,t)},useMemo:function(e,t){var r=_r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=eE.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=_r();return e={current:e},t.memoizedState=e},useState:dm,useDebugValue:bh,useDeferredValue:function(e){return _r().memoizedState=e},useTransition:function(){var e=dm(!1),t=e[0];return e=ZS.bind(null,e[1]),_r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,s=_r();if(Me){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),rt===null)throw Error(F(349));_s&30||Vy(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,fm(qy.bind(null,n,o,e),[e]),n.flags|=2048,ea(9,Hy.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=_r(),t=rt.identifierPrefix;if(Me){var r=Wr,n=zr;r=(n&~(1<<32-hr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=XS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nE={readContext:Gt,useCallback:e0,useContext:Gt,useEffect:xh,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Jy,useMemo:t0,useReducer:ju,useRef:Qy,useState:function(){return ju(Zi)},useDebugValue:bh,useDeferredValue:function(e){var t=Qt();return r0(t,Ye.memoizedState,e)},useTransition:function(){var e=ju(Zi)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:zy,useSyncExternalStore:Wy,useId:n0,unstable_isNewReconciler:!1},sE={readContext:Gt,useCallback:e0,useContext:Gt,useEffect:xh,useImperativeHandle:Zy,useInsertionEffect:Yy,useLayoutEffect:Jy,useMemo:t0,useReducer:Tu,useRef:Qy,useState:function(){return Tu(Zi)},useDebugValue:bh,useDeferredValue:function(e){var t=Qt();return Ye===null?t.memoizedState=e:r0(t,Ye.memoizedState,e)},useTransition:function(){var e=Tu(Zi)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:zy,useSyncExternalStore:Wy,useId:n0,unstable_isNewReconciler:!1};function or(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ld(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ec={isMounted:function(e){return(e=e._reactInternals)?Rs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_t(),s=On(e),o=Vr(n,s);o.payload=t,r!=null&&(o.callback=r),t=Pn(e,o,s),t!==null&&(pr(t,e,s,n),gl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_t(),s=On(e),o=Vr(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Pn(e,o,s),t!==null&&(pr(t,e,s,n),gl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_t(),n=On(e),s=Vr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Pn(e,s,n),t!==null&&(pr(t,e,n,r),gl(t,e,n))}};function hm(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!qi(r,n)||!qi(s,o):!0}function a0(e,t,r){var n=!1,s=Dn,o=t.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(s=Tt(t)?xs:gt.current,n=t.contextTypes,o=(n=n!=null)?Do(e,s):Dn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ec,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function pm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ec.enqueueReplaceState(t,t.state,null)}function $d(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},hh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Gt(o):(o=Tt(t)?xs:gt.current,s.context=Do(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ld(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ec.enqueueReplaceState(s,s.state,null),ql(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var r="",n=t;do r+=O_(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Pu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oE=typeof WeakMap=="function"?WeakMap:Map;function l0(e,t,r){r=Vr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jl||(Jl=!0,Qd=n),Fd(e,t)},r}function c0(e,t,r){r=Vr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Fd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Fd(e,t),typeof n!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function mm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=wE.bind(null,e,t,r),t.then(e,e))}function gm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vr(-1,1),t.tag=2,Pn(r,t,1))),r.lanes|=1),e)}var iE=Xr.ReactCurrentOwner,Nt=!1;function wt(e,t,r,n){t.child=e===null?$y(t,null,r,n):$o(t,e.child,r,n)}function ym(e,t,r,n,s){r=r.render;var o=t.ref;return vo(t,s),n=yh(e,t,r,n,o,s),r=wh(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gr(e,t,s)):(Me&&r&&ih(t),t.flags|=1,wt(e,t,n,s),t.child)}function wm(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Th(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,u0(e,t,o,n,s)):(e=_l(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:qi,r(i,n)&&e.ref===t.ref)return Gr(e,t,s)}return t.flags|=1,e=An(o,n),e.ref=t.ref,e.return=t,t.child=e}function u0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(qi(o,n)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Gr(e,t,s)}return Ud(e,t,r,n,s)}function d0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(lo,Ot),Ot|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(lo,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,je(lo,Ot),Ot|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,je(lo,Ot),Ot|=n;return wt(e,t,s,r),t.child}function f0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ud(e,t,r,n,s){var o=Tt(r)?xs:gt.current;return o=Do(t,o),vo(t,s),r=yh(e,t,r,n,o,s),n=wh(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gr(e,t,s)):(Me&&n&&ih(t),t.flags|=1,wt(e,t,r,s),t.child)}function xm(e,t,r,n,s){if(Tt(r)){var o=!0;Bl(t)}else o=!1;if(vo(t,s),t.stateNode===null)wl(e,t),a0(t,r,n),$d(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=Tt(r)?xs:gt.current,u=Do(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==u)&&pm(t,i,n,u),fn=!1;var p=t.memoizedState;i.state=p,ql(t,n,i,s),l=t.memoizedState,a!==n||p!==l||jt.current||fn?(typeof d=="function"&&(Ld(t,r,d,n),l=t.memoizedState),(a=fn||hm(t,r,a,n,p,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Uy(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:or(t.type,a),i.props=u,f=t.pendingProps,p=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Tt(r)?xs:gt.current,l=Do(t,l));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==l)&&pm(t,i,n,l),fn=!1,p=t.memoizedState,i.state=p,ql(t,n,i,s);var b=t.memoizedState;a!==f||p!==b||jt.current||fn?(typeof h=="function"&&(Ld(t,r,h,n),b=t.memoizedState),(u=fn||hm(t,r,u,n,p,b,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Bd(e,t,r,n,o,s)}function Bd(e,t,r,n,s,o){f0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&om(t,r,!1),Gr(e,t,o);n=t.stateNode,iE.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,a,o)):wt(e,t,a,o),t.memoizedState=n.state,s&&om(t,r,!0),t.child}function h0(e){var t=e.stateNode;t.pendingContext?sm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sm(e,t.context,!1),ph(e,t.containerInfo)}function bm(e,t,r,n,s){return Lo(),lh(s),t.flags|=256,wt(e,t,r,n),t.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function Wd(e){return{baseLanes:e,cachePool:null,transitions:null}}function p0(e,t,r){var n=t.pendingProps,s=$e.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je($e,s&1),e===null)return Md(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Nc(i,n,0,null),e=ps(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wd(r),t.memoizedState=zd,e):_h(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return aE(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=An(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=An(a,o):(o=ps(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Wd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=zd,n}return o=e.child,e=o.sibling,n=An(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _h(e,t){return t=Nc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ha(e,t,r,n){return n!==null&&lh(n),$o(t,e.child,null,r),e=_h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aE(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Pu(Error(F(422))),Ha(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Nc({mode:"visible",children:n.children},s,0,null),o=ps(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&$o(t,e.child,null,i),t.child.memoizedState=Wd(i),t.memoizedState=zd,o);if(!(t.mode&1))return Ha(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(F(419)),n=Pu(o,n,void 0),Ha(e,t,i,n)}if(a=(i&e.childLanes)!==0,Nt||a){if(n=rt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Kr(e,s),pr(n,e,s,-1))}return jh(),n=Pu(Error(F(421))),Ha(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Dt=Tn(s.nextSibling),$t=t,Me=!0,fr=null,e!==null&&(Vt[Ht++]=zr,Vt[Ht++]=Wr,Vt[Ht++]=bs,zr=e.id,Wr=e.overflow,bs=t),t=_h(t,n.children),t.flags|=4096,t)}function _m(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Dd(e.return,t,r)}function Ru(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function m0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(wt(e,t,n.children,r),n=$e.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_m(e,r,t);else if(e.tag===19)_m(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je($e,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Kl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ru(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Kl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ru(t,!0,r,null,o);break;case"together":Ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ss|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=An(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=An(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lE(e,t,r){switch(t.tag){case 3:h0(t),Lo();break;case 5:By(t);break;case 1:Tt(t.type)&&Bl(t);break;case 4:ph(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;je(Vl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je($e,$e.current&1),t.flags|=128,null):r&t.child.childLanes?p0(e,t,r):(je($e,$e.current&1),e=Gr(e,t,r),e!==null?e.sibling:null);je($e,$e.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return m0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je($e,$e.current),n)break;return null;case 22:case 23:return t.lanes=0,d0(e,t,r)}return Gr(e,t,r)}var g0,Vd,v0,y0;g0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vd=function(){};v0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,os(Pr.current);var o=null;switch(r){case"input":s=fd(e,s),n=fd(e,n),o=[];break;case"select":s=Be({},s,{value:void 0}),n=Be({},n,{value:void 0}),o=[];break;case"textarea":s=md(e,s),n=md(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fl)}vd(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};y0=function(e,t,r,n){r!==n&&(t.flags|=4)};function hi(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function cE(e,t,r){var n=t.pendingProps;switch(ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return Tt(t.type)&&Ul(),pt(t),null;case 3:return n=t.stateNode,Fo(),Ae(jt),Ae(gt),gh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fr!==null&&(Xd(fr),fr=null))),Vd(e,t),pt(t),null;case 5:mh(t);var s=os(Ji.current);if(r=t.type,e!==null&&t.stateNode!=null)v0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return pt(t),null}if(e=os(Pr.current),Wa(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Cr]=t,n[Qi]=o,e=(t.mode&1)!==0,r){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(s=0;s<_i.length;s++)Re(_i[s],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Rp(n,o),Re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Re("invalid",n);break;case"textarea":Ap(n,o),Re("invalid",n)}vd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&za(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&za(n.textContent,a,e),s=["children",""+a]):Fi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Re("scroll",n)}switch(r){case"input":Ia(n),Op(n,o,!0);break;case"textarea":Ia(n),Ip(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Fl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Cr]=t,e[Qi]=n,g0(e,t,!1,!1),t.stateNode=e;e:{switch(i=yd(r,n),r){case"dialog":Re("cancel",e),Re("close",e),s=n;break;case"iframe":case"object":case"embed":Re("load",e),s=n;break;case"video":case"audio":for(s=0;s<_i.length;s++)Re(_i[s],e);s=n;break;case"source":Re("error",e),s=n;break;case"img":case"image":case"link":Re("error",e),Re("load",e),s=n;break;case"details":Re("toggle",e),s=n;break;case"input":Rp(e,n),s=fd(e,n),Re("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Be({},n,{value:void 0}),Re("invalid",e);break;case"textarea":Ap(e,n),s=md(e,n),Re("invalid",e);break;default:s=n}vd(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Qv(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kv(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ui(e,l):typeof l=="number"&&Ui(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Re("scroll",e):l!=null&&qf(e,o,l,i))}switch(r){case"input":Ia(e),Op(e,n,!1);break;case"textarea":Ia(e),Ip(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ho(e,!!n.multiple,o,!1):n.defaultValue!=null&&ho(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)y0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=os(Ji.current),os(Pr.current),Wa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Cr]=t,(o=n.nodeValue!==r)&&(e=$t,e!==null))switch(e.tag){case 3:za(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&za(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Cr]=t,t.stateNode=n}return pt(t),null;case 13:if(Ae($e),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Dt!==null&&t.mode&1&&!(t.flags&128))Dy(),Lo(),t.flags|=98560,o=!1;else if(o=Wa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Cr]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),o=!1}else fr!==null&&(Xd(fr),fr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?Je===0&&(Je=3):jh())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return Fo(),Vd(e,t),e===null&&Ki(t.stateNode.containerInfo),pt(t),null;case 10:return dh(t.type._context),pt(t),null;case 17:return Tt(t.type)&&Ul(),pt(t),null;case 19:if(Ae($e),o=t.memoizedState,o===null)return pt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)hi(o,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Kl(e),i!==null){for(t.flags|=128,hi(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je($e,$e.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>Bo&&(t.flags|=128,n=!0,hi(o,!1),t.lanes=4194304)}else{if(!n)if(e=Kl(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Me)return pt(t),null}else 2*qe()-o.renderingStartTime>Bo&&r!==1073741824&&(t.flags|=128,n=!0,hi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,r=$e.current,je($e,n?r&1|2:r&1),t):(pt(t),null);case 22:case 23:return Nh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ot&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function uE(e,t){switch(ah(t),t.tag){case 1:return Tt(t.type)&&Ul(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),Ae(jt),Ae(gt),gh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mh(t),null;case 13:if(Ae($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae($e),null;case 4:return Fo(),null;case 10:return dh(t.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var qa=!1,mt=!1,dE=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ao(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Hd(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var Sm=!1;function fE(e,t){if(jd=Dl,e=Sy(),oh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++u===s&&(a=i),p===o&&++d===n&&(l=i),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Td={focusedElem:e,selectionRange:r},Dl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,w=b.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:or(t.type,g),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(_){Ve(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return b=Sm,Sm=!1,b}function Ai(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Hd(t,r,o)}s=s.next}while(s!==n)}}function kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function w0(e){var t=e.alternate;t!==null&&(e.alternate=null,w0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cr],delete t[Qi],delete t[Od],delete t[GS],delete t[QS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x0(e){return e.tag===5||e.tag===3||e.tag===4}function Em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fl));else if(n!==4&&(e=e.child,e!==null))for(Kd(e,t,r),e=e.sibling;e!==null;)Kd(e,t,r),e=e.sibling}function Gd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Gd(e,t,r),e=e.sibling;e!==null;)Gd(e,t,r),e=e.sibling}var it=null,ur=!1;function sn(e,t,r){for(r=r.child;r!==null;)b0(e,t,r),r=r.sibling}function b0(e,t,r){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(vc,r)}catch{}switch(r.tag){case 5:mt||ao(r,t);case 6:var n=it,s=ur;it=null,sn(e,t,r),it=n,ur=s,it!==null&&(ur?(e=it,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):it.removeChild(r.stateNode));break;case 18:it!==null&&(ur?(e=it,r=r.stateNode,e.nodeType===8?Eu(e.parentNode,r):e.nodeType===1&&Eu(e,r),Vi(e)):Eu(it,r.stateNode));break;case 4:n=it,s=ur,it=r.stateNode.containerInfo,ur=!0,sn(e,t,r),it=n,ur=s;break;case 0:case 11:case 14:case 15:if(!mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Hd(r,t,i),s=s.next}while(s!==n)}sn(e,t,r);break;case 1:if(!mt&&(ao(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ve(r,t,a)}sn(e,t,r);break;case 21:sn(e,t,r);break;case 22:r.mode&1?(mt=(n=mt)||r.memoizedState!==null,sn(e,t,r),mt=n):sn(e,t,r);break;default:sn(e,t,r)}}function km(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dE),t.forEach(function(n){var s=bE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,ur=!1;break e;case 3:it=a.stateNode.containerInfo,ur=!0;break e;case 4:it=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(it===null)throw Error(F(160));b0(o,i,s),it=null,ur=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_0(t,e),t=t.sibling}function _0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),br(e),n&4){try{Ai(3,e,e.return),kc(3,e)}catch(g){Ve(e,e.return,g)}try{Ai(5,e,e.return)}catch(g){Ve(e,e.return,g)}}break;case 1:er(t,e),br(e),n&512&&r!==null&&ao(r,r.return);break;case 5:if(er(t,e),br(e),n&512&&r!==null&&ao(r,r.return),e.flags&32){var s=e.stateNode;try{Ui(s,"")}catch(g){Ve(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Vv(s,o),yd(a,i);var u=yd(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Qv(s,f):d==="dangerouslySetInnerHTML"?Kv(s,f):d==="children"?Ui(s,f):qf(s,d,f,u)}switch(a){case"input":hd(s,o);break;case"textarea":Hv(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ho(s,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?ho(s,!!o.multiple,o.defaultValue,!0):ho(s,!!o.multiple,o.multiple?[]:"",!1))}s[Qi]=o}catch(g){Ve(e,e.return,g)}}break;case 6:if(er(t,e),br(e),n&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Ve(e,e.return,g)}}break;case 3:if(er(t,e),br(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(g){Ve(e,e.return,g)}break;case 4:er(t,e),br(e);break;case 13:er(t,e),br(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(kh=qe())),n&4&&km(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(mt=(u=mt)||d,er(t,e),mt=u):er(t,e),br(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Q=e,d=e.child;d!==null;){for(f=Q=d;Q!==null;){switch(p=Q,h=p.child,p.tag){case 0:case 11:case 14:case 15:Ai(4,p,p.return);break;case 1:ao(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){Ve(n,r,g)}}break;case 5:ao(p,p.return);break;case 22:if(p.memoizedState!==null){Nm(f);continue}}h!==null?(h.return=p,Q=h):Nm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gv("display",i))}catch(g){Ve(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ve(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:er(t,e),br(e),n&4&&km(e);break;case 21:break;default:er(t,e),br(e)}}function br(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(x0(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ui(s,""),n.flags&=-33);var o=Em(e);Gd(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Em(e);Kd(e,a,i);break;default:throw Error(F(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hE(e,t,r){Q=e,S0(e)}function S0(e,t,r){for(var n=(e.mode&1)!==0;Q!==null;){var s=Q,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||qa;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mt;a=qa;var u=mt;if(qa=i,(mt=l)&&!u)for(Q=s;Q!==null;)i=Q,l=i.child,i.tag===22&&i.memoizedState!==null?jm(s):l!==null?(l.return=i,Q=l):jm(s);for(;o!==null;)Q=o,S0(o),o=o.sibling;Q=s,qa=a,mt=u}Cm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Q=o):Cm(e)}}function Cm(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||kc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!mt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:or(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&um(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}um(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}mt||t.flags&512&&qd(t)}catch(p){Ve(t,t.return,p)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Nm(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function jm(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kc(4,t)}catch(l){Ve(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Ve(t,s,l)}}var o=t.return;try{qd(t)}catch(l){Ve(t,o,l)}break;case 5:var i=t.return;try{qd(t)}catch(l){Ve(t,i,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var pE=Math.ceil,Yl=Xr.ReactCurrentDispatcher,Sh=Xr.ReactCurrentOwner,Kt=Xr.ReactCurrentBatchConfig,xe=0,rt=null,Ge=null,at=0,Ot=0,lo=Bn(0),Je=0,ta=null,Ss=0,Cc=0,Eh=0,Ii=null,Ct=null,kh=0,Bo=1/0,$r=null,Jl=!1,Qd=null,Rn=null,Ka=!1,En=null,Xl=0,Mi=0,Yd=null,xl=-1,bl=0;function _t(){return xe&6?qe():xl!==-1?xl:xl=qe()}function On(e){return e.mode&1?xe&2&&at!==0?at&-at:JS.transition!==null?(bl===0&&(bl=ay()),bl):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:py(e.type)),e):1}function pr(e,t,r,n){if(50<Mi)throw Mi=0,Yd=null,Error(F(185));ba(e,r,n),(!(xe&2)||e!==rt)&&(e===rt&&(!(xe&2)&&(Cc|=r),Je===4&&mn(e,at)),Pt(e,n),r===1&&xe===0&&!(t.mode&1)&&(Bo=qe()+500,_c&&zn()))}function Pt(e,t){var r=e.callbackNode;J_(e,t);var n=Ml(e,e===rt?at:0);if(n===0)r!==null&&Lp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Lp(r),t===1)e.tag===0?YS(Tm.bind(null,e)):Ay(Tm.bind(null,e)),qS(function(){!(xe&6)&&zn()}),r=null;else{switch(ly(n)){case 1:r=Jf;break;case 4:r=oy;break;case 16:r=Il;break;case 536870912:r=iy;break;default:r=Il}r=R0(r,E0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function E0(e,t){if(xl=-1,bl=0,xe&6)throw Error(F(327));var r=e.callbackNode;if(yo()&&e.callbackNode!==r)return null;var n=Ml(e,e===rt?at:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zl(e,n);else{t=n;var s=xe;xe|=2;var o=C0();(rt!==e||at!==t)&&($r=null,Bo=qe()+500,hs(e,t));do try{vE();break}catch(a){k0(e,a)}while(!0);uh(),Yl.current=o,xe=s,Ge!==null?t=0:(rt=null,at=0,t=Je)}if(t!==0){if(t===2&&(s=Sd(e),s!==0&&(n=s,t=Jd(e,s))),t===1)throw r=ta,hs(e,0),mn(e,n),Pt(e,qe()),r;if(t===6)mn(e,n);else{if(s=e.current.alternate,!(n&30)&&!mE(s)&&(t=Zl(e,n),t===2&&(o=Sd(e),o!==0&&(n=o,t=Jd(e,o))),t===1))throw r=ta,hs(e,0),mn(e,n),Pt(e,qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Xn(e,Ct,$r);break;case 3:if(mn(e,n),(n&130023424)===n&&(t=kh+500-qe(),10<t)){if(Ml(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_t(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Rd(Xn.bind(null,e,Ct,$r),t);break}Xn(e,Ct,$r);break;case 4:if(mn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-hr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pE(n/1960))-n,10<n){e.timeoutHandle=Rd(Xn.bind(null,e,Ct,$r),n);break}Xn(e,Ct,$r);break;case 5:Xn(e,Ct,$r);break;default:throw Error(F(329))}}}return Pt(e,qe()),e.callbackNode===r?E0.bind(null,e):null}function Jd(e,t){var r=Ii;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=Zl(e,t),e!==2&&(t=Ct,Ct=r,t!==null&&Xd(t)),e}function Xd(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function mE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!mr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~Eh,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-hr(t),n=1<<r;e[r]=-1,t&=~n}}function Tm(e){if(xe&6)throw Error(F(327));yo();var t=Ml(e,0);if(!(t&1))return Pt(e,qe()),null;var r=Zl(e,t);if(e.tag!==0&&r===2){var n=Sd(e);n!==0&&(t=n,r=Jd(e,n))}if(r===1)throw r=ta,hs(e,0),mn(e,t),Pt(e,qe()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xn(e,Ct,$r),Pt(e,qe()),null}function Ch(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(Bo=qe()+500,_c&&zn())}}function Es(e){En!==null&&En.tag===0&&!(xe&6)&&yo();var t=xe;xe|=1;var r=Kt.transition,n=Ee;try{if(Kt.transition=null,Ee=1,e)return e()}finally{Ee=n,Kt.transition=r,xe=t,!(xe&6)&&zn()}}function Nh(){Ot=lo.current,Ae(lo)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,HS(r)),Ge!==null)for(r=Ge.return;r!==null;){var n=r;switch(ah(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ul();break;case 3:Fo(),Ae(jt),Ae(gt),gh();break;case 5:mh(n);break;case 4:Fo();break;case 13:Ae($e);break;case 19:Ae($e);break;case 10:dh(n.type._context);break;case 22:case 23:Nh()}r=r.return}if(rt=e,Ge=e=An(e.current,null),at=Ot=t,Je=0,ta=null,Eh=Cc=Ss=0,Ct=Ii=null,ss!==null){for(t=0;t<ss.length;t++)if(r=ss[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}ss=null}return e}function k0(e,t){do{var r=Ge;try{if(uh(),vl.current=Ql,Gl){for(var n=Ue.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gl=!1}if(_s=0,tt=Ye=Ue=null,Oi=!1,Xi=0,Sh.current=null,r===null||r.return===null){Je=1,ta=t,Ge=null;break}e:{var o=e,i=r.return,a=r,l=t;if(t=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gm(i);if(h!==null){h.flags&=-257,vm(h,i,a,o,t),h.mode&1&&mm(o,u,t),t=h,l=u;var b=t.updateQueue;if(b===null){var g=new Set;g.add(l),t.updateQueue=g}else b.add(l);break e}else{if(!(t&1)){mm(o,u,t),jh();break e}l=Error(F(426))}}else if(Me&&a.mode&1){var w=gm(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),vm(w,i,a,o,t),lh(Uo(l,a));break e}}o=l=Uo(l,a),Je!==4&&(Je=2),Ii===null?Ii=[o]:Ii.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=l0(o,l,t);cm(o,v);break e;case 1:a=l;var y=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Rn===null||!Rn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=c0(o,a,t);cm(o,_);break e}}o=o.return}while(o!==null)}j0(r)}catch(C){t=C,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(!0)}function C0(){var e=Yl.current;return Yl.current=Ql,e===null?Ql:e}function jh(){(Je===0||Je===3||Je===2)&&(Je=4),rt===null||!(Ss&268435455)&&!(Cc&268435455)||mn(rt,at)}function Zl(e,t){var r=xe;xe|=2;var n=C0();(rt!==e||at!==t)&&($r=null,hs(e,t));do try{gE();break}catch(s){k0(e,s)}while(!0);if(uh(),xe=r,Yl.current=n,Ge!==null)throw Error(F(261));return rt=null,at=0,Je}function gE(){for(;Ge!==null;)N0(Ge)}function vE(){for(;Ge!==null&&!z_();)N0(Ge)}function N0(e){var t=P0(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?j0(e):Ge=t,Sh.current=null}function j0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uE(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ge=null;return}}else if(r=cE(r,t,Ot),r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Je===0&&(Je=5)}function Xn(e,t,r){var n=Ee,s=Kt.transition;try{Kt.transition=null,Ee=1,yE(e,t,r,n)}finally{Kt.transition=s,Ee=n}return null}function yE(e,t,r,n){do yo();while(En!==null);if(xe&6)throw Error(F(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(X_(e,o),e===rt&&(Ge=rt=null,at=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ka||(Ka=!0,R0(Il,function(){return yo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Kt.transition,Kt.transition=null;var i=Ee;Ee=1;var a=xe;xe|=4,Sh.current=null,fE(e,r),_0(r,e),$S(Td),Dl=!!jd,Td=jd=null,e.current=r,hE(r),W_(),xe=a,Ee=i,Kt.transition=o}else e.current=r;if(Ka&&(Ka=!1,En=e,Xl=s),o=e.pendingLanes,o===0&&(Rn=null),q_(r.stateNode),Pt(e,qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jl)throw Jl=!1,e=Qd,Qd=null,e;return Xl&1&&e.tag!==0&&yo(),o=e.pendingLanes,o&1?e===Yd?Mi++:(Mi=0,Yd=e):Mi=0,zn(),null}function yo(){if(En!==null){var e=ly(Xl),t=Kt.transition,r=Ee;try{if(Kt.transition=null,Ee=16>e?16:e,En===null)var n=!1;else{if(e=En,En=null,Xl=0,xe&6)throw Error(F(331));var s=xe;for(xe|=4,Q=e.current;Q!==null;){var o=Q,i=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ai(8,d,o)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var p=d.sibling,h=d.return;if(w0(d),d===u){Q=null;break}if(p!==null){p.return=h,Q=p;break}Q=h}}}var b=o.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Q=i;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ai(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Q=v;break e}Q=o.return}}var y=e.current;for(Q=y;Q!==null;){i=Q;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,Q=x;else e:for(i=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kc(9,a)}}catch(C){Ve(a,a.return,C)}if(a===i){Q=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Q=_;break e}Q=a.return}}if(xe=s,zn(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(vc,e)}catch{}n=!0}return n}finally{Ee=r,Kt.transition=t}}return!1}function Pm(e,t,r){t=Uo(r,t),t=l0(e,t,1),e=Pn(e,t,1),t=_t(),e!==null&&(ba(e,1,t),Pt(e,t))}function Ve(e,t,r){if(e.tag===3)Pm(e,e,r);else for(;t!==null;){if(t.tag===3){Pm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rn===null||!Rn.has(n))){e=Uo(r,e),e=c0(t,e,1),t=Pn(t,e,1),e=_t(),t!==null&&(ba(t,1,e),Pt(t,e));break}}t=t.return}}function wE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(at&r)===r&&(Je===4||Je===3&&(at&130023424)===at&&500>qe()-kh?hs(e,0):Eh|=r),Pt(e,t)}function T0(e,t){t===0&&(e.mode&1?(t=La,La<<=1,!(La&130023424)&&(La=4194304)):t=1);var r=_t();e=Kr(e,t),e!==null&&(ba(e,t,r),Pt(e,r))}function xE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),T0(e,r)}function bE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),T0(e,r)}var P0;P0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)Nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nt=!1,lE(e,t,r);Nt=!!(e.flags&131072)}else Nt=!1,Me&&t.flags&1048576&&Iy(t,Wl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wl(e,t),e=t.pendingProps;var s=Do(t,gt.current);vo(t,r),s=yh(null,t,n,e,s,r);var o=wh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(n)?(o=!0,Bl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hh(t),s.updater=Ec,t.stateNode=s,s._reactInternals=t,$d(t,n,e,r),t=Bd(null,t,n,!0,o,r)):(t.tag=0,Me&&o&&ih(t),wt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=SE(n),e=or(n,e),s){case 0:t=Ud(null,t,n,e,r);break e;case 1:t=xm(null,t,n,e,r);break e;case 11:t=ym(null,t,n,e,r);break e;case 14:t=wm(null,t,n,or(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:or(n,s),Ud(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:or(n,s),xm(e,t,n,s,r);case 3:e:{if(h0(t),e===null)throw Error(F(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Uy(e,t),ql(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Uo(Error(F(423)),t),t=bm(e,t,n,r,s);break e}else if(n!==s){s=Uo(Error(F(424)),t),t=bm(e,t,n,r,s);break e}else for(Dt=Tn(t.stateNode.containerInfo.firstChild),$t=t,Me=!0,fr=null,r=$y(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lo(),n===s){t=Gr(e,t,r);break e}wt(e,t,n,r)}t=t.child}return t;case 5:return By(t),e===null&&Md(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Pd(n,s)?i=null:o!==null&&Pd(n,o)&&(t.flags|=32),f0(e,t),wt(e,t,i,r),t.child;case 6:return e===null&&Md(t),null;case 13:return p0(e,t,r);case 4:return ph(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$o(t,null,n,r):wt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:or(n,s),ym(e,t,n,s,r);case 7:return wt(e,t,t.pendingProps,r),t.child;case 8:return wt(e,t,t.pendingProps.children,r),t.child;case 12:return wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,je(Vl,n._currentValue),n._currentValue=i,o!==null)if(mr(o.value,i)){if(o.children===s.children&&!jt.current){t=Gr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Vr(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Dd(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Dd(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}wt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,vo(t,r),s=Gt(s),n=n(s),t.flags|=1,wt(e,t,n,r),t.child;case 14:return n=t.type,s=or(n,t.pendingProps),s=or(n.type,s),wm(e,t,n,s,r);case 15:return u0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:or(n,s),wl(e,t),t.tag=1,Tt(n)?(e=!0,Bl(t)):e=!1,vo(t,r),a0(t,n,s),$d(t,n,s,r),Bd(null,t,n,!0,e,r);case 19:return m0(e,t,r);case 22:return d0(e,t,r)}throw Error(F(156,t.tag))};function R0(e,t){return sy(e,t)}function _E(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,r,n){return new _E(e,t,r,n)}function Th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SE(e){if(typeof e=="function")return Th(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gf)return 11;if(e===Qf)return 14}return 2}function An(e,t){var r=e.alternate;return r===null?(r=qt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _l(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Th(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Xs:return ps(r.children,s,o,t);case Kf:i=8,s|=8;break;case ld:return e=qt(12,r,t,s|2),e.elementType=ld,e.lanes=o,e;case cd:return e=qt(13,r,t,s),e.elementType=cd,e.lanes=o,e;case ud:return e=qt(19,r,t,s),e.elementType=ud,e.lanes=o,e;case Bv:return Nc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fv:i=10;break e;case Uv:i=9;break e;case Gf:i=11;break e;case Qf:i=14;break e;case dn:i=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=qt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function ps(e,t,r,n){return e=qt(7,e,n,t),e.lanes=r,e}function Nc(e,t,r,n){return e=qt(22,e,n,t),e.elementType=Bv,e.lanes=r,e.stateNode={isHidden:!1},e}function Ou(e,t,r){return e=qt(6,e,null,t),e.lanes=r,e}function Au(e,t,r){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EE(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hu(0),this.expirationTimes=hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ph(e,t,r,n,s,o,i,a,l){return e=new EE(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=qt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(o),e}function kE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function O0(e){if(!e)return Dn;e=e._reactInternals;e:{if(Rs(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Tt(r))return Oy(e,r,t)}return t}function A0(e,t,r,n,s,o,i,a,l){return e=Ph(r,n,!0,e,s,o,i,a,l),e.context=O0(null),r=e.current,n=_t(),s=On(r),o=Vr(n,s),o.callback=t??null,Pn(r,o,s),e.current.lanes=s,ba(e,s,n),Pt(e,n),e}function jc(e,t,r,n){var s=t.current,o=_t(),i=On(s);return r=O0(r),t.context===null?t.context=r:t.pendingContext=r,t=Vr(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Pn(s,t,i),e!==null&&(pr(e,s,i,o),gl(e,s,i)),i}function ec(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Rh(e,t){Rm(e,t),(e=e.alternate)&&Rm(e,t)}function CE(){return null}var I0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oh(e){this._internalRoot=e}Tc.prototype.render=Oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));jc(e,t,null,null)};Tc.prototype.unmount=Oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Es(function(){jc(null,e,null,null)}),t[qr]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=dy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pn.length&&t!==0&&t<pn[r].priority;r++);pn.splice(r,0,e),r===0&&hy(e)}};function Ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Om(){}function NE(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=ec(i);o.call(u)}}var i=A0(t,n,e,0,null,!1,!1,"",Om);return e._reactRootContainer=i,e[qr]=i.current,Ki(e.nodeType===8?e.parentNode:e),Es(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ec(l);a.call(u)}}var l=Ph(e,0,!1,null,null,!1,!1,"",Om);return e._reactRootContainer=l,e[qr]=l.current,Ki(e.nodeType===8?e.parentNode:e),Es(function(){jc(t,l,r,n)}),l}function Rc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=ec(i);a.call(l)}}jc(t,i,e,s)}else i=NE(r,t,e,s,n);return ec(i)}cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bi(t.pendingLanes);r!==0&&(Xf(t,r|1),Pt(t,qe()),!(xe&6)&&(Bo=qe()+500,zn()))}break;case 13:Es(function(){var n=Kr(e,1);if(n!==null){var s=_t();pr(n,e,1,s)}}),Rh(e,1)}};Zf=function(e){if(e.tag===13){var t=Kr(e,134217728);if(t!==null){var r=_t();pr(t,e,134217728,r)}Rh(e,134217728)}};uy=function(e){if(e.tag===13){var t=On(e),r=Kr(e,t);if(r!==null){var n=_t();pr(r,e,t,n)}Rh(e,t)}};dy=function(){return Ee};fy=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};xd=function(e,t,r){switch(t){case"input":if(hd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bc(n);if(!s)throw Error(F(90));Wv(n),hd(n,s)}}}break;case"textarea":Hv(e,r);break;case"select":t=r.value,t!=null&&ho(e,!!r.multiple,t,!1)}};Xv=Ch;Zv=Es;var jE={usingClientEntryPoint:!1,Events:[Sa,ro,bc,Yv,Jv,Ch]},pi={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TE={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ry(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||CE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ga.isDisabled&&Ga.supportsFiber)try{vc=Ga.inject(TE),Tr=Ga}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jE;Bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ah(t))throw Error(F(200));return kE(e,t,null,r)};Bt.createRoot=function(e,t){if(!Ah(e))throw Error(F(299));var r=!1,n="",s=I0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ph(e,1,!1,null,null,r,!1,n,s),e[qr]=t.current,Ki(e.nodeType===8?e.parentNode:e),new Oh(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=ry(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return Es(e)};Bt.hydrate=function(e,t,r){if(!Pc(t))throw Error(F(200));return Rc(null,e,t,!0,r)};Bt.hydrateRoot=function(e,t,r){if(!Ah(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=I0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=A0(t,null,e,1,r??null,s,!1,o,i),e[qr]=t.current,Ki(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Tc(t)};Bt.render=function(e,t,r){if(!Pc(t))throw Error(F(200));return Rc(null,e,t,!1,r)};Bt.unmountComponentAtNode=function(e){if(!Pc(e))throw Error(F(40));return e._reactRootContainer?(Es(function(){Rc(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1};Bt.unstable_batchedUpdates=Ch;Bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pc(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Rc(e,t,r,!1,n)};Bt.version="18.3.1-next-f1338f8080-20240426";function M0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M0)}catch(e){console.error(e)}}M0(),Mv.exports=Bt;var Os=Mv.exports;const D0=Sv(Os);var L0,Am=Os;L0=Am.createRoot,Am.hydrateRoot;const PE=1,RE=1e6;let Iu=0;function OE(){return Iu=(Iu+1)%Number.MAX_SAFE_INTEGER,Iu.toString()}const Mu=new Map,Im=e=>{if(Mu.has(e))return;const t=setTimeout(()=>{Mu.delete(e),Di({type:"REMOVE_TOAST",toastId:e})},RE);Mu.set(e,t)},AE=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,PE)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Im(r):e.toasts.forEach(n=>{Im(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Sl=[];let El={toasts:[]};function Di(e){El=AE(El,e),Sl.forEach(t=>{t(El)})}function IE({...e}){const t=OE(),r=s=>Di({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Di({type:"DISMISS_TOAST",toastId:t});return Di({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function $0(){const[e,t]=m.useState(El);return m.useEffect(()=>(Sl.push(t),()=>{const r=Sl.indexOf(t);r>-1&&Sl.splice(r,1)}),[e]),{...e,toast:IE,dismiss:r=>Di({type:"DISMISS_TOAST",toastId:r})}}function ne(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Mm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ih(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Mm(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Mm(e[s],null)}}}}function _e(...e){return m.useCallback(Ih(...e),e)}function ME(e,t){const r=m.createContext(t),n=o=>{const{children:i,...a}=o,l=m.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function s(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function yr(e,t=[]){let r=[];function n(o,i){const a=m.createContext(i),l=r.length;r=[...r,i];const u=f=>{var v;const{scope:p,children:h,...b}=f,g=((v=p==null?void 0:p[e])==null?void 0:v[l])||a,w=m.useMemo(()=>b,Object.values(b));return c.jsx(g.Provider,{value:w,children:h})};u.displayName=o+"Provider";function d(f,p){var g;const h=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,b=m.useContext(h);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,DE(s,...t)]}function DE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ra(e){const t=LE(e),r=m.forwardRef((n,s)=>{const{children:o,...i}=n,a=m.Children.toArray(o),l=a.find(FE);if(l){const u=l.props.children,d=a.map(f=>f===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function LE(e){const t=m.forwardRef((r,n)=>{const{children:s,...o}=r;if(m.isValidElement(s)){const i=BE(s),a=UE(o,s.props);return s.type!==m.Fragment&&(a.ref=n?Ih(n,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F0=Symbol("radix.slottable");function $E(e){const t=({children:r})=>c.jsx(c.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=F0,t}function FE(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F0}function UE(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function BE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mh(e){const t=e+"CollectionProvider",[r,n]=yr(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:v}=g,y=W.useRef(null),x=W.useRef(new Map).current;return c.jsx(s,{scope:w,itemMap:x,collectionRef:y,children:v})};i.displayName=t;const a=e+"CollectionSlot",l=ra(a),u=W.forwardRef((g,w)=>{const{scope:v,children:y}=g,x=o(a,v),_=_e(w,x.collectionRef);return c.jsx(l,{ref:_,children:y})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=ra(d),h=W.forwardRef((g,w)=>{const{scope:v,children:y,...x}=g,_=W.useRef(null),C=_e(w,_),N=o(d,v);return W.useEffect(()=>(N.itemMap.set(_,{ref:_,...x}),()=>void N.itemMap.delete(_))),c.jsx(p,{[f]:"",ref:C,children:y})});h.displayName=d;function b(g){const w=o(e+"CollectionConsumer",g);return W.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,j)=>x.indexOf(N.ref.current)-x.indexOf(j.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:h},b,n]}var zE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=zE.reduce((e,t)=>{const r=ra(`Primitive.${t}`),n=m.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function U0(e,t){e&&Os.flushSync(()=>e.dispatchEvent(t))}function Yt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function WE(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var VE="DismissableLayer",Zd="dismissableLayer.update",HE="dismissableLayer.pointerDownOutside",qE="dismissableLayer.focusOutside",Dm,B0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ka=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=m.useContext(B0),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),b=_e(t,j=>f(j)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),y=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=v,C=GE(j=>{const P=j.target,D=[...u.branches].some(I=>I.contains(P));!_||D||(s==null||s(j),i==null||i(j),j.defaultPrevented||a==null||a())},p),N=QE(j=>{const P=j.target;[...u.branches].some(I=>I.contains(P))||(o==null||o(j),i==null||i(j),j.defaultPrevented||a==null||a())},p);return WE(j=>{y===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Dm=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Lm(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Dm)}},[d,p,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Lm())},[d,u]),m.useEffect(()=>{const j=()=>h({});return document.addEventListener(Zd,j),()=>document.removeEventListener(Zd,j)},[]),c.jsx(ue.div,{...l,ref:b,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,C.onPointerDownCapture)})});ka.displayName=VE;var KE="DismissableLayerBranch",z0=m.forwardRef((e,t)=>{const r=m.useContext(B0),n=m.useRef(null),s=_e(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),c.jsx(ue.div,{...e,ref:s})});z0.displayName=KE;function GE(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){W0(HE,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function QE(e,t=globalThis==null?void 0:globalThis.document){const r=Yt(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&W0(qE,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Lm(){const e=new CustomEvent(Zd);document.dispatchEvent(e)}function W0(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?U0(s,o):s.dispatchEvent(o)}var YE=ka,JE=z0,ct=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},XE="Portal",Oc=m.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=m.useState(!1);ct(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?D0.createPortal(c.jsx(ue.div,{...n,ref:t}),i):null});Oc.displayName=XE;function ZE(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Wn=e=>{const{present:t,children:r}=e,n=ek(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=_e(n.ref,tk(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};Wn.displayName="Presence";function ek(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[a,l]=ZE(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Qa(n.current);o.current=a==="mounted"?u:"none"},[a]),ct(()=>{const u=n.current,d=s.current;if(d!==e){const p=o.current,h=Qa(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),ct(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const g=Qa(n.current).includes(CSS.escape(h.animationName));if(h.target===t&&g&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=h=>{h.target===t&&(o.current=Qa(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Qa(e){return(e==null?void 0:e.animationName)||"none"}function tk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rk=gc[" useInsertionEffect ".trim().toString()]||ct;function Ln({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=nk({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=m.useCallback(d=>{var f;if(a){const p=sk(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[a,e,o,i]);return[l,u]}function nk({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),o=m.useRef(t);return rk(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function sk(e){return typeof e=="function"}var V0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ok="VisuallyHidden",Ac=m.forwardRef((e,t)=>c.jsx(ue.span,{...e,ref:t,style:{...V0,...e.style}}));Ac.displayName=ok;var ik=Ac,Dh="ToastProvider",[Lh,ak,lk]=Mh("Toast"),[H0]=yr("Toast",[lk]),[ck,Ic]=H0(Dh),q0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dh}\`. Expected non-empty \`string\`.`),c.jsx(Lh.Provider,{scope:t,children:c.jsx(ck,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(h=>h+1),[]),onToastRemove:m.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};q0.displayName=Dh;var K0="ToastViewport",uk=["F8"],ef="toast.viewportPause",tf="toast.viewportResume",G0=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=uk,label:s="Notifications ({hotkey})",...o}=e,i=Ic(K0,r),a=ak(r),l=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=_e(t,f,i.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;m.useEffect(()=>{const w=v=>{var x;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=l.current,v=f.current;if(b&&w&&v){const y=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(ef);v.dispatchEvent(N),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(tf);v.dispatchEvent(N),i.isClosePausedRef.current=!1}},_=N=>{!w.contains(N.relatedTarget)&&x()},C=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",y),w.addEventListener("focusout",_),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[b,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:w})=>{const y=a().map(x=>{const _=x.ref.current,C=[_,...Sk(_)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const w=f.current;if(w){const v=y=>{var C,N,j;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const P=document.activeElement,D=y.shiftKey;if(y.target===w&&D){(C=u.current)==null||C.focus();return}const B=g({tabbingDirection:D?"backwards":"forwards"}),Z=B.findIndex($=>$===P);Du(B.slice(Z+1))?y.preventDefault():D?(N=u.current)==null||N.focus():(j=d.current)==null||j.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,g]),c.jsxs(JE,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&c.jsx(rf,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Du(w)}}),c.jsx(Lh.Slot,{scope:r,children:c.jsx(ue.ol,{tabIndex:-1,...o,ref:p})}),b&&c.jsx(rf,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Du(w)}})]})});G0.displayName=K0;var Q0="ToastFocusProxy",rf=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Ic(Q0,r);return c.jsx(Ac,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});rf.displayName=Q0;var Ca="Toast",dk="toast.swipeStart",fk="toast.swipeMove",hk="toast.swipeCancel",pk="toast.swipeEnd",Y0=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=Ln({prop:n,defaultProp:s??!0,onChange:o,caller:Ca});return c.jsx(Wn,{present:r||a,children:c.jsx(vk,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:Yt(e.onPause),onResume:Yt(e.onResume),onSwipeStart:ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Y0.displayName=Ca;var[mk,gk]=H0(Ca,{onClose(){}}),vk=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...b}=e,g=Ic(Ca,r),[w,v]=m.useState(null),y=_e(t,$=>v($)),x=m.useRef(null),_=m.useRef(null),C=s||g.duration,N=m.useRef(0),j=m.useRef(C),P=m.useRef(0),{onToastAdd:D,onToastRemove:I}=g,U=Yt(()=>{var J;(w==null?void 0:w.contains(document.activeElement))&&((J=g.viewport)==null||J.focus()),i()}),B=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(U,$))},[U]);m.useEffect(()=>{const $=g.viewport;if($){const J=()=>{B(j.current),u==null||u()},V=()=>{const q=new Date().getTime()-N.current;j.current=j.current-q,window.clearTimeout(P.current),l==null||l()};return $.addEventListener(ef,V),$.addEventListener(tf,J),()=>{$.removeEventListener(ef,V),$.removeEventListener(tf,J)}}},[g.viewport,C,l,u,B]),m.useEffect(()=>{o&&!g.isClosePausedRef.current&&B(C)},[o,C,g.isClosePausedRef,B]),m.useEffect(()=>(D(),()=>I()),[D,I]);const Z=m.useMemo(()=>w?nw(w):null,[w]);return g.viewport?c.jsxs(c.Fragment,{children:[Z&&c.jsx(yk,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:Z}),c.jsx(mk,{scope:r,onClose:U,children:Os.createPortal(c.jsx(Lh.ItemSlot,{scope:r,children:c.jsx(YE,{asChild:!0,onEscapeKeyDown:ne(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||U(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ue.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ne(e.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:ne(e.onPointerDown,$=>{$.button===0&&(x.current={x:$.clientX,y:$.clientY})}),onPointerMove:ne(e.onPointerMove,$=>{if(!x.current)return;const J=$.clientX-x.current.x,V=$.clientY-x.current.y,q=!!_.current,E=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,k=E?T(0,J):0,S=E?0:T(0,V),A=$.pointerType==="touch"?10:2,L={x:k,y:S},z={originalEvent:$,delta:L};q?(_.current=L,Ya(fk,f,z,{discrete:!1})):$m(L,g.swipeDirection,A)?(_.current=L,Ya(dk,d,z,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(J)>A||Math.abs(V)>A)&&(x.current=null)}),onPointerUp:ne(e.onPointerUp,$=>{const J=_.current,V=$.target;if(V.hasPointerCapture($.pointerId)&&V.releasePointerCapture($.pointerId),_.current=null,x.current=null,J){const q=$.currentTarget,E={originalEvent:$,delta:J};$m(J,g.swipeDirection,g.swipeThreshold)?Ya(pk,h,E,{discrete:!0}):Ya(hk,p,E,{discrete:!0}),q.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),yk=e=>{const{__scopeToast:t,children:r,...n}=e,s=Ic(Ca,t),[o,i]=m.useState(!1),[a,l]=m.useState(!1);return bk(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(Oc,{asChild:!0,children:c.jsx(Ac,{...n,children:o&&c.jsxs(c.Fragment,{children:[s.label," ",r]})})})},wk="ToastTitle",J0=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(ue.div,{...n,ref:t})});J0.displayName=wk;var xk="ToastDescription",X0=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(ue.div,{...n,ref:t})});X0.displayName=xk;var Z0="ToastAction",ew=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?c.jsx(rw,{altText:r,asChild:!0,children:c.jsx($h,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Z0}\`. Expected non-empty \`string\`.`),null)});ew.displayName=Z0;var tw="ToastClose",$h=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=gk(tw,r);return c.jsx(rw,{asChild:!0,children:c.jsx(ue.button,{type:"button",...n,ref:t,onClick:ne(e.onClick,s.onClose)})})});$h.displayName=tw;var rw=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return c.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function nw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),_k(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...nw(n))}}),t}function Ya(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?U0(s,o):s.dispatchEvent(o)}var $m=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function bk(e=()=>{}){const t=Yt(e);ct(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function _k(e){return e.nodeType===e.ELEMENT_NODE}function Sk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Du(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Ek=q0,sw=G0,ow=Y0,iw=J0,aw=X0,lw=ew,cw=$h;function uw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=uw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dw(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=uw(e))&&(n&&(n+=" "),n+=t);return n}const Fm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Um=dw,Fh=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Um(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const p=Fm(d)||Fm(f);return s[u][p]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(b=>{let[g,w]=b;return Array.isArray(w)?w.includes({...o,...a}[g]):{...o,...a}[g]===w})?[...u,f,p]:u},[]);return Um(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ck={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>m.createElement("svg",{ref:l,...Ck,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fw("lucide",s),...a},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(Nk,{ref:o,iconNode:t,className:fw(`lucide-${kk(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=re("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=re("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=re("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=re("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=re("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=re("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=re("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=re("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=re("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=re("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=re("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=re("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),zh="-",Jk=e=>{const t=Zk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(zh);return a[0]===""&&a.length!==1&&a.shift(),ww(a,t)||Xk(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},ww=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?ww(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(zh);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Km=/^\[(.+)\]$/,Xk=e=>{if(Km.test(e)){const t=Km.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Zk=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return tC(Object.entries(e.classGroups),r).forEach(([o,i])=>{of(i,n,o,t)}),n},of=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Gm(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(eC(s)){of(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{of(i,Gm(t,o),r,n)})})},Gm=(e,t)=>{let r=e;return t.split(zh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},eC=e=>e.isThemeGetter,tC=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,rC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},xw="!",nC=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let u=0,d=0,f;for(let w=0;w<a.length;w++){let v=a[w];if(u===0){if(v===s&&(n||a.slice(w,w+o)===t)){l.push(a.slice(d,w)),d=w+o;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const p=l.length===0?a:a.substring(d),h=p.startsWith(xw),b=h?p.substring(1):p,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},sC=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},oC=e=>({cache:rC(e.cacheSize),parseClassName:nC(e),...Jk(e)}),iC=/\s+/,aC=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(iC);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=r(u);let b=!!h,g=n(b?p.substring(0,h):p);if(!g){if(!b){a=u+(a.length>0?" "+a:a);continue}if(g=n(p),!g){a=u+(a.length>0?" "+a:a);continue}b=!1}const w=sC(d).join(":"),v=f?w+xw:w,y=v+g;if(o.includes(y))continue;o.push(y);const x=s(g,b);for(let _=0;_<x.length;++_){const C=x[_];o.push(v+C)}a=u+(a.length>0?" "+a:a)}return a};function lC(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=bw(t))&&(n&&(n+=" "),n+=r);return n}const bw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=bw(e[n]))&&(r&&(r+=" "),r+=t);return r};function cC(e,...t){let r,n,s,o=i;function i(l){const u=t.reduce((d,f)=>f(d),e());return r=oC(u),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=aC(l,r);return s(l,d),d}return function(){return o(lC.apply(null,arguments))}}const Pe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},_w=/^\[(?:([a-z-]+):)?(.+)\]$/i,uC=/^\d+\/\d+$/,dC=new Set(["px","full","screen"]),fC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=e=>xo(e)||dC.has(e)||uC.test(e),on=e=>Xo(e,"length",EC),xo=e=>!!e&&!Number.isNaN(Number(e)),Fu=e=>Xo(e,"number",xo),mi=e=>!!e&&Number.isInteger(Number(e)),vC=e=>e.endsWith("%")&&xo(e.slice(0,-1)),me=e=>_w.test(e),an=e=>fC.test(e),yC=new Set(["length","size","percentage"]),wC=e=>Xo(e,yC,Sw),xC=e=>Xo(e,"position",Sw),bC=new Set(["image","url"]),_C=e=>Xo(e,bC,CC),SC=e=>Xo(e,"",kC),gi=()=>!0,Xo=(e,t,r)=>{const n=_w.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},EC=e=>hC.test(e)&&!pC.test(e),Sw=()=>!1,kC=e=>mC.test(e),CC=e=>gC.test(e),NC=()=>{const e=Pe("colors"),t=Pe("spacing"),r=Pe("blur"),n=Pe("brightness"),s=Pe("borderColor"),o=Pe("borderRadius"),i=Pe("borderSpacing"),a=Pe("borderWidth"),l=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),f=Pe("invert"),p=Pe("gap"),h=Pe("gradientColorStops"),b=Pe("gradientColorStopPositions"),g=Pe("inset"),w=Pe("margin"),v=Pe("opacity"),y=Pe("padding"),x=Pe("saturate"),_=Pe("scale"),C=Pe("sepia"),N=Pe("skew"),j=Pe("space"),P=Pe("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",me,t],B=()=>[me,t],Z=()=>["",Dr,on],$=()=>["auto",xo,me],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",me],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>[xo,me];return{cacheSize:500,separator:":",theme:{colors:[gi],spacing:[Dr,on],blur:["none","",an,me],brightness:S(),borderColor:[e],borderRadius:["none","","full",an,me],borderSpacing:B(),borderWidth:Z(),contrast:S(),grayscale:T(),hueRotate:S(),invert:T(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[vC,on],inset:U(),margin:U(),opacity:S(),padding:B(),saturate:S(),scale:S(),sepia:T(),skew:S(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),me]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mi,me]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",mi,me]}],"grid-cols":[{"grid-cols":[gi]}],"col-start-end":[{col:["auto",{span:["full",mi,me]},me]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[gi]}],"row-start-end":[{row:["auto",{span:[mi,me]},me]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[an]},an]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",an,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fu]}],"font-family":[{font:[gi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",xo,Fu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr,on]}],"underline-offset":[{"underline-offset":["auto",Dr,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),xC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_C]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Dr,me]}],"outline-w":[{outline:[Dr,on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Dr,on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",an,SC]}],"shadow-color":[{shadow:[gi]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",an,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:S()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:S()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[mi,me]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dr,on,Fu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jC=cC(NC);function se(...e){return jC(dw(e))}const TC=Ek,Ew=m.forwardRef(({className:e,...t},r)=>c.jsx(sw,{ref:r,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ew.displayName=sw.displayName;const PC=Fh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kw=m.forwardRef(({className:e,variant:t,...r},n)=>c.jsx(ow,{ref:n,className:se(PC({variant:t}),e),...r}));kw.displayName=ow.displayName;const RC=m.forwardRef(({className:e,...t},r)=>c.jsx(lw,{ref:r,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));RC.displayName=lw.displayName;const Cw=m.forwardRef(({className:e,...t},r)=>c.jsx(cw,{ref:r,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(yw,{className:"h-4 w-4"})}));Cw.displayName=cw.displayName;const Nw=m.forwardRef(({className:e,...t},r)=>c.jsx(iw,{ref:r,className:se("text-sm font-semibold",e),...t}));Nw.displayName=iw.displayName;const jw=m.forwardRef(({className:e,...t},r)=>c.jsx(aw,{ref:r,className:se("text-sm opacity-90",e),...t}));jw.displayName=aw.displayName;function OC(){const{toasts:e}=$0();return c.jsxs(TC,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return c.jsxs(kw,{...o,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(Nw,{children:r}),n&&c.jsx(jw,{children:n})]}),s,c.jsx(Cw,{})]},t)}),c.jsx(Ew,{})]})}var Qm=["light","dark"],AC="(prefers-color-scheme: dark)",IC=m.createContext(void 0),MC={setTheme:e=>{},themes:[]},DC=()=>{var e;return(e=m.useContext(IC))!=null?e:MC};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Qm.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,g=!1,w=!0)=>{let v=i?i[b]:b,y=g?b+"|| ''":`'${v}'`,x="";return s&&w&&!g&&Qm.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?g||v?x+=`c.add(${y})`:x+="null":v&&(x+=`d[s](n,${y})`),x},h=e?`!function(){${d}${p(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${AC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var LC=e=>{switch(e){case"success":return UC;case"info":return zC;case"warning":return BC;case"error":return WC;default:return null}},$C=Array(12).fill(0),FC=({visible:e,className:t})=>W.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},W.createElement("div",{className:"sonner-spinner"},$C.map((r,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),UC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VC=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HC=()=>{let[e,t]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},af=1,qC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:af++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async l=>{if(o=["resolve",l],W.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(GC(l)&&!l.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,u)=>i.then(()=>o[0]==="reject"?u(o[1]):l(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||af++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},kt=new qC,KC=(e,t)=>{let r=(t==null?void 0:t.id)||af++;return kt.addToast({title:e,...t,id:r}),r},GC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",QC=KC,YC=()=>kt.toasts,JC=()=>kt.getActiveToasts(),he=Object.assign(QC,{success:kt.success,info:kt.info,warning:kt.warning,error:kt.error,custom:kt.custom,message:kt.message,promise:kt.promise,dismiss:kt.dismiss,loading:kt.loading},{getHistory:YC,getToasts:JC});function XC(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}XC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xa(e){return e.label!==void 0}var ZC=3,eN="32px",tN="16px",Ym=4e3,rN=356,nN=14,sN=20,oN=200;function tr(...e){return e.filter(Boolean).join(" ")}function iN(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var aN=e=>{var t,r,n,s,o,i,a,l,u,d,f;let{invert:p,toast:h,unstyled:b,interacting:g,setHeights:w,visibleToasts:v,heights:y,index:x,toasts:_,expanded:C,removeToast:N,defaultRichColors:j,closeButton:P,style:D,cancelButtonStyle:I,actionButtonStyle:U,className:B="",descriptionClassName:Z="",duration:$,position:J,gap:V,loadingIcon:q,expandByDefault:E,classNames:T,icons:k,closeButtonAriaLabel:S="Close toast",pauseWhenPageIsHidden:A}=e,[L,z]=W.useState(null),[K,Y]=W.useState(null),[R,H]=W.useState(!1),[oe,te]=W.useState(!1),[G,ee]=W.useState(!1),[ye,le]=W.useState(!1),[Te,De]=W.useState(!1),[He,nt]=W.useState(0),[ut,vt]=W.useState(0),M=W.useRef(h.duration||$||Ym),pe=W.useRef(null),ge=W.useRef(null),be=x===0,Ze=x+1<=v,ke=h.type,dt=h.dismissible!==!1,en=h.className||"",Ir=h.descriptionClassName||"",Mr=W.useMemo(()=>y.findIndex(de=>de.toastId===h.id)||0,[y,h.id]),oi=W.useMemo(()=>{var de;return(de=h.closeButton)!=null?de:P},[h.closeButton,P]),Pa=W.useMemo(()=>h.duration||$||Ym,[h.duration,$]),ii=W.useRef(0),As=W.useRef(0),bp=W.useRef(0),Is=W.useRef(null),[e_,t_]=J.split("-"),_p=W.useMemo(()=>y.reduce((de,Ce,Ie)=>Ie>=Mr?de:de+Ce.height,0),[y,Mr]),Sp=HC(),r_=h.invert||p,iu=ke==="loading";As.current=W.useMemo(()=>Mr*V+_p,[Mr,_p]),W.useEffect(()=>{M.current=Pa},[Pa]),W.useEffect(()=>{H(!0)},[]),W.useEffect(()=>{let de=ge.current;if(de){let Ce=de.getBoundingClientRect().height;return vt(Ce),w(Ie=>[{toastId:h.id,height:Ce,position:h.position},...Ie]),()=>w(Ie=>Ie.filter(Jt=>Jt.toastId!==h.id))}},[w,h.id]),W.useLayoutEffect(()=>{if(!R)return;let de=ge.current,Ce=de.style.height;de.style.height="auto";let Ie=de.getBoundingClientRect().height;de.style.height=Ce,vt(Ie),w(Jt=>Jt.find(Xt=>Xt.toastId===h.id)?Jt.map(Xt=>Xt.toastId===h.id?{...Xt,height:Ie}:Xt):[{toastId:h.id,height:Ie,position:h.position},...Jt])},[R,h.title,h.description,w,h.id]);let tn=W.useCallback(()=>{te(!0),nt(As.current),w(de=>de.filter(Ce=>Ce.toastId!==h.id)),setTimeout(()=>{N(h)},oN)},[h,N,w,As]);W.useEffect(()=>{if(h.promise&&ke==="loading"||h.duration===1/0||h.type==="loading")return;let de;return C||g||A&&Sp?(()=>{if(bp.current<ii.current){let Ce=new Date().getTime()-ii.current;M.current=M.current-Ce}bp.current=new Date().getTime()})():M.current!==1/0&&(ii.current=new Date().getTime(),de=setTimeout(()=>{var Ce;(Ce=h.onAutoClose)==null||Ce.call(h,h),tn()},M.current)),()=>clearTimeout(de)},[C,g,h,ke,A,Sp,tn]),W.useEffect(()=>{h.delete&&tn()},[tn,h.delete]);function n_(){var de,Ce,Ie;return k!=null&&k.loading?W.createElement("div",{className:tr(T==null?void 0:T.loader,(de=h==null?void 0:h.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":ke==="loading"},k.loading):q?W.createElement("div",{className:tr(T==null?void 0:T.loader,(Ce=h==null?void 0:h.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":ke==="loading"},q):W.createElement(FC,{className:tr(T==null?void 0:T.loader,(Ie=h==null?void 0:h.classNames)==null?void 0:Ie.loader),visible:ke==="loading"})}return W.createElement("li",{tabIndex:0,ref:ge,className:tr(B,en,T==null?void 0:T.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[ke],(r=h==null?void 0:h.classNames)==null?void 0:r[ke]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:j,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":R,"data-promise":!!h.promise,"data-swiped":Te,"data-removed":oe,"data-visible":Ze,"data-y-position":e_,"data-x-position":t_,"data-index":x,"data-front":be,"data-swiping":G,"data-dismissible":dt,"data-type":ke,"data-invert":r_,"data-swipe-out":ye,"data-swipe-direction":K,"data-expanded":!!(C||E&&R),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${oe?He:As.current}px`,"--initial-height":E?"auto":`${ut}px`,...D,...h.style},onDragEnd:()=>{ee(!1),z(null),Is.current=null},onPointerDown:de=>{iu||!dt||(pe.current=new Date,nt(As.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(ee(!0),Is.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,Ce,Ie,Jt;if(ye||!dt)return;Is.current=null;let Xt=Number(((de=ge.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((Ce=ge.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Kn=new Date().getTime()-((Ie=pe.current)==null?void 0:Ie.getTime()),Zt=L==="x"?Xt:rn,nn=Math.abs(Zt)/Kn;if(Math.abs(Zt)>=sN||nn>.11){nt(As.current),(Jt=h.onDismiss)==null||Jt.call(h,h),Y(L==="x"?Xt>0?"right":"left":rn>0?"down":"up"),tn(),le(!0),De(!1);return}ee(!1),z(null)},onPointerMove:de=>{var Ce,Ie,Jt,Xt;if(!Is.current||!dt||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let rn=de.clientY-Is.current.y,Kn=de.clientX-Is.current.x,Zt=(Ie=e.swipeDirections)!=null?Ie:iN(J);!L&&(Math.abs(Kn)>1||Math.abs(rn)>1)&&z(Math.abs(Kn)>Math.abs(rn)?"x":"y");let nn={x:0,y:0};L==="y"?(Zt.includes("top")||Zt.includes("bottom"))&&(Zt.includes("top")&&rn<0||Zt.includes("bottom")&&rn>0)&&(nn.y=rn):L==="x"&&(Zt.includes("left")||Zt.includes("right"))&&(Zt.includes("left")&&Kn<0||Zt.includes("right")&&Kn>0)&&(nn.x=Kn),(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&De(!0),(Jt=ge.current)==null||Jt.style.setProperty("--swipe-amount-x",`${nn.x}px`),(Xt=ge.current)==null||Xt.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},oi&&!h.jsx?W.createElement("button",{"aria-label":S,"data-disabled":iu,"data-close-button":!0,onClick:iu||!dt?()=>{}:()=>{var de;tn(),(de=h.onDismiss)==null||de.call(h,h)},className:tr(T==null?void 0:T.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(o=k==null?void 0:k.close)!=null?o:VC):null,h.jsx||m.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:W.createElement(W.Fragment,null,ke||h.icon||h.promise?W.createElement("div",{"data-icon":"",className:tr(T==null?void 0:T.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||n_():null,h.type!=="loading"?h.icon||(k==null?void 0:k[ke])||LC(ke):null):null,W.createElement("div",{"data-content":"",className:tr(T==null?void 0:T.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:tr(T==null?void 0:T.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?W.createElement("div",{"data-description":"",className:tr(Z,Ir,T==null?void 0:T.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),m.isValidElement(h.cancel)?h.cancel:h.cancel&&Xa(h.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:de=>{var Ce,Ie;Xa(h.cancel)&&dt&&((Ie=(Ce=h.cancel).onClick)==null||Ie.call(Ce,de),tn())},className:tr(T==null?void 0:T.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,m.isValidElement(h.action)?h.action:h.action&&Xa(h.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||U,onClick:de=>{var Ce,Ie;Xa(h.action)&&((Ie=(Ce=h.action).onClick)==null||Ie.call(Ce,de),!de.defaultPrevented&&tn())},className:tr(T==null?void 0:T.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function Jm(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lN(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?tN:eN;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=a:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(a)}),r}var cN=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:h,visibleToasts:b=ZC,toastOptions:g,dir:w=Jm(),gap:v=nN,loadingIcon:y,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=e,[N,j]=W.useState([]),P=W.useMemo(()=>Array.from(new Set([n].concat(N.filter(A=>A.position).map(A=>A.position)))),[N,n]),[D,I]=W.useState([]),[U,B]=W.useState(!1),[Z,$]=W.useState(!1),[J,V]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=W.useRef(null),E=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=W.useRef(null),k=W.useRef(!1),S=W.useCallback(A=>{j(L=>{var z;return(z=L.find(K=>K.id===A.id))!=null&&z.delete||kt.dismiss(A.id),L.filter(({id:K})=>K!==A.id)})},[]);return W.useEffect(()=>kt.subscribe(A=>{if(A.dismiss){j(L=>L.map(z=>z.id===A.id?{...z,delete:!0}:z));return}setTimeout(()=>{D0.flushSync(()=>{j(L=>{let z=L.findIndex(K=>K.id===A.id);return z!==-1?[...L.slice(0,z),{...L[z],...A},...L.slice(z+1)]:[A,...L]})})})}),[]),W.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:L})=>{V(L?"dark":"light")})}catch{A.addListener(({matches:z})=>{try{V(z?"dark":"light")}catch(K){console.error(K)}})}},[d]),W.useEffect(()=>{N.length<=1&&B(!1)},[N]),W.useEffect(()=>{let A=L=>{var z,K;s.every(Y=>L[Y]||L.code===Y)&&(B(!0),(z=q.current)==null||z.focus()),L.code==="Escape"&&(document.activeElement===q.current||(K=q.current)!=null&&K.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[s]),W.useEffect(()=>{if(q.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,k.current=!1)}},[q.current]),W.createElement("section",{ref:t,"aria-label":`${_} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((A,L)=>{var z;let[K,Y]=A.split("-");return N.length?W.createElement("ol",{key:A,dir:w==="auto"?Jm():w,tabIndex:-1,ref:q,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":K,"data-lifted":U&&N.length>1&&!o,"data-x-position":Y,style:{"--front-toast-height":`${((z=D[0])==null?void 0:z.height)||0}px`,"--width":`${rN}px`,"--gap":`${v}px`,...h,...lN(l,u)},onBlur:R=>{k.current&&!R.currentTarget.contains(R.relatedTarget)&&(k.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:R=>{R.target instanceof HTMLElement&&R.target.dataset.dismissible==="false"||k.current||(k.current=!0,T.current=R.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{Z||B(!1)},onDragEnd:()=>B(!1),onPointerDown:R=>{R.target instanceof HTMLElement&&R.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},N.filter(R=>!R.position&&L===0||R.position===A).map((R,H)=>{var oe,te;return W.createElement(aN,{key:R.id,icons:x,index:H,toast:R,defaultRichColors:f,duration:(oe=g==null?void 0:g.duration)!=null?oe:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(te=g==null?void 0:g.closeButton)!=null?te:i,interacting:Z,position:A,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:S,toasts:N.filter(G=>G.position==R.position),heights:D.filter(G=>G.position==R.position),setHeights:I,expandByDefault:o,gap:v,loadingIcon:y,expanded:U,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const uN=({...e})=>{const{theme:t="system"}=DC();return c.jsx(cN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var dN=gc[" useId ".trim().toString()]||(()=>{}),fN=0;function In(e){const[t,r]=m.useState(dN());return ct(()=>{r(n=>n??String(fN++))},[e]),t?`radix-${t}`:""}const hN=["top","right","bottom","left"],$n=Math.min,At=Math.max,nc=Math.round,Za=Math.floor,Rr=e=>({x:e,y:e}),pN={left:"right",right:"left",bottom:"top",top:"bottom"},mN={start:"end",end:"start"};function lf(e,t,r){return At(e,$n(t,r))}function Yr(e,t){return typeof e=="function"?e(t):e}function Jr(e){return e.split("-")[0]}function Zo(e){return e.split("-")[1]}function Wh(e){return e==="x"?"y":"x"}function Vh(e){return e==="y"?"height":"width"}const gN=new Set(["top","bottom"]);function jr(e){return gN.has(Jr(e))?"y":"x"}function Hh(e){return Wh(jr(e))}function vN(e,t,r){r===void 0&&(r=!1);const n=Zo(e),s=Hh(e),o=Vh(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=sc(i)),[i,sc(i)]}function yN(e){const t=sc(e);return[cf(e),t,cf(t)]}function cf(e){return e.replace(/start|end/g,t=>mN[t])}const Xm=["left","right"],Zm=["right","left"],wN=["top","bottom"],xN=["bottom","top"];function bN(e,t,r){switch(e){case"top":case"bottom":return r?t?Zm:Xm:t?Xm:Zm;case"left":case"right":return t?wN:xN;default:return[]}}function _N(e,t,r,n){const s=Zo(e);let o=bN(Jr(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(cf)))),o}function sc(e){return e.replace(/left|right|bottom|top/g,t=>pN[t])}function SN(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tw(e){return typeof e!="number"?SN(e):{top:e,right:e,bottom:e,left:e}}function oc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function eg(e,t,r){let{reference:n,floating:s}=e;const o=jr(t),i=Hh(t),a=Vh(i),l=Jr(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let h;switch(l){case"top":h={x:d,y:n.y-s.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-s.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Zo(t)){case"start":h[i]-=p*(r&&u?-1:1);break;case"end":h[i]+=p*(r&&u?-1:1);break}return h}const EN=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=eg(u,n,l),p=n,h={},b=0;for(let g=0;g<a.length;g++){const{name:w,fn:v}=a[g],{x:y,y:x,data:_,reset:C}=await v({x:d,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=x??f,h={...h,[w]:{...h[w],..._}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:f}=eg(u,p,l)),g=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:h}};async function sa(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Yr(t,e),b=Tw(h),w=a[p?f==="floating"?"reference":"floating":f],v=oc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},C=oc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(v.top-C.top+b.top)/_.y,bottom:(C.bottom-v.bottom+b.bottom)/_.y,left:(v.left-C.left+b.left)/_.x,right:(C.right-v.right+b.right)/_.x}}const kN=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=Yr(e,t)||{};if(u==null)return{};const f=Tw(d),p={x:r,y:n},h=Hh(s),b=Vh(h),g=await i.getDimensions(u),w=h==="y",v=w?"top":"left",y=w?"bottom":"right",x=w?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[h]-p[h]-o.floating[b],C=p[h]-o.reference[h],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=N?N[x]:0;(!j||!await(i.isElement==null?void 0:i.isElement(N)))&&(j=a.floating[x]||o.floating[b]);const P=_/2-C/2,D=j/2-g[b]/2-1,I=$n(f[v],D),U=$n(f[y],D),B=I,Z=j-g[b]-U,$=j/2-g[b]/2+P,J=lf(B,$,Z),V=!l.arrow&&Zo(s)!=null&&$!==J&&o.reference[b]/2-($<B?I:U)-g[b]/2<0,q=V?$<B?$-B:$-Z:0;return{[h]:p[h]+q,data:{[h]:J,centerOffset:$-J-q,...V&&{alignmentOffset:q}},reset:V}}}),CN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...w}=Yr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const v=Jr(s),y=jr(a),x=Jr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=p||(x||!g?[sc(a)]:yN(a)),N=b!=="none";!p&&N&&C.push(..._N(a,g,b,_));const j=[a,...C],P=await sa(t,w),D=[];let I=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&D.push(P[v]),f){const $=vN(s,i,_);D.push(P[$[0]],P[$[1]])}if(I=[...I,{placement:s,overflows:D}],!D.every($=>$<=0)){var U,B;const $=(((U=o.flip)==null?void 0:U.index)||0)+1,J=j[$];if(J&&(!(f==="alignment"?y!==jr(J):!1)||I.every(E=>jr(E.placement)===y?E.overflows[0]>0:!0)))return{data:{index:$,overflows:I},reset:{placement:J}};let V=(B=I.filter(q=>q.overflows[0]<=0).sort((q,E)=>q.overflows[1]-E.overflows[1])[0])==null?void 0:B.placement;if(!V)switch(h){case"bestFit":{var Z;const q=(Z=I.filter(E=>{if(N){const T=jr(E.placement);return T===y||T==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(T=>T>0).reduce((T,k)=>T+k,0)]).sort((E,T)=>E[1]-T[1])[0])==null?void 0:Z[0];q&&(V=q);break}case"initialPlacement":V=a;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function tg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rg(e){return hN.some(t=>e[t]>=0)}const NN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Yr(e,t);switch(n){case"referenceHidden":{const o=await sa(t,{...s,elementContext:"reference"}),i=tg(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:rg(i)}}}case"escaped":{const o=await sa(t,{...s,altBoundary:!0}),i=tg(o,r.floating);return{data:{escapedOffsets:i,escaped:rg(i)}}}default:return{}}}}},Pw=new Set(["left","top"]);async function jN(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Jr(r),a=Zo(r),l=jr(r)==="y",u=Pw.has(i)?-1:1,d=o&&l?-1:1,f=Yr(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(h=a==="end"?b*-1:b),l?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const TN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await jN(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},PN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:v,y}=w;return{x:v,y}}},...l}=Yr(e,t),u={x:r,y:n},d=await sa(t,l),f=jr(Jr(s)),p=Wh(f);let h=u[p],b=u[f];if(o){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=h+d[w],x=h-d[v];h=lf(y,h,x)}if(i){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=b+d[w],x=b-d[v];b=lf(y,b,x)}const g=a.fn({...t,[p]:h,[f]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:o,[f]:i}}}}}},RN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Yr(e,t),d={x:r,y:n},f=jr(s),p=Wh(f);let h=d[p],b=d[f];const g=Yr(a,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=p==="y"?"height":"width",_=o.reference[p]-o.floating[x]+w.mainAxis,C=o.reference[p]+o.reference[x]-w.mainAxis;h<_?h=_:h>C&&(h=C)}if(u){var v,y;const x=p==="y"?"width":"height",_=Pw.has(Jr(s)),C=o.reference[f]-o.floating[x]+(_&&((v=i.offset)==null?void 0:v[f])||0)+(_?0:w.crossAxis),N=o.reference[f]+o.reference[x]+(_?0:((y=i.offset)==null?void 0:y[f])||0)-(_?w.crossAxis:0);b<C?b=C:b>N&&(b=N)}return{[p]:h,[f]:b}}}},ON=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=Yr(e,t),d=await sa(t,u),f=Jr(s),p=Zo(s),h=jr(s)==="y",{width:b,height:g}=o.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,w=p==="end"?"top":"bottom");const y=g-d.top-d.bottom,x=b-d.left-d.right,_=$n(g-d[w],y),C=$n(b-d[v],x),N=!t.middlewareData.shift;let j=_,P=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=y),N&&!p){const I=At(d.left,0),U=At(d.right,0),B=At(d.top,0),Z=At(d.bottom,0);h?P=b-2*(I!==0||U!==0?I+U:At(d.left,d.right)):j=g-2*(B!==0||Z!==0?B+Z:At(d.top,d.bottom))}await l({...t,availableWidth:P,availableHeight:j});const D=await i.getDimensions(a.floating);return b!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function Mc(){return typeof window<"u"}function ei(e){return Rw(e)?(e.nodeName||"").toLowerCase():"#document"}function Ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ar(e){var t;return(t=(Rw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rw(e){return Mc()?e instanceof Node||e instanceof Ft(e).Node:!1}function gr(e){return Mc()?e instanceof Element||e instanceof Ft(e).Element:!1}function Or(e){return Mc()?e instanceof HTMLElement||e instanceof Ft(e).HTMLElement:!1}function ng(e){return!Mc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ft(e).ShadowRoot}const AN=new Set(["inline","contents"]);function Na(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!AN.has(s)}const IN=new Set(["table","td","th"]);function MN(e){return IN.has(ei(e))}const DN=[":popover-open",":modal"];function Dc(e){return DN.some(t=>{try{return e.matches(t)}catch{return!1}})}const LN=["transform","translate","scale","rotate","perspective"],$N=["transform","translate","scale","rotate","perspective","filter"],FN=["paint","layout","strict","content"];function qh(e){const t=Kh(),r=gr(e)?vr(e):e;return LN.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$N.some(n=>(r.willChange||"").includes(n))||FN.some(n=>(r.contain||"").includes(n))}function UN(e){let t=Fn(e);for(;Or(t)&&!Ko(t);){if(qh(t))return t;if(Dc(t))return null;t=Fn(t)}return null}function Kh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BN=new Set(["html","body","#document"]);function Ko(e){return BN.has(ei(e))}function vr(e){return Ft(e).getComputedStyle(e)}function Lc(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fn(e){if(ei(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ng(e)&&e.host||Ar(e);return ng(t)?t.host:t}function Ow(e){const t=Fn(e);return Ko(t)?e.ownerDocument?e.ownerDocument.body:e.body:Or(t)&&Na(t)?t:Ow(t)}function oa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Ow(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Ft(s);if(o){const a=uf(i);return t.concat(i,i.visualViewport||[],Na(s)?s:[],a&&r?oa(a):[])}return t.concat(s,oa(s,[],r))}function uf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Aw(e){const t=vr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Or(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=nc(r)!==o||nc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Gh(e){return gr(e)?e:e.contextElement}function bo(e){const t=Gh(e);if(!Or(t))return Rr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Aw(t);let i=(o?nc(r.width):r.width)/n,a=(o?nc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const zN=Rr(0);function Iw(e){const t=Ft(e);return!Kh()||!t.visualViewport?zN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WN(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ft(e)?!1:t}function ks(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Gh(e);let i=Rr(1);t&&(n?gr(n)&&(i=bo(n)):i=bo(e));const a=WN(o,r,n)?Iw(o):Rr(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=Ft(o),h=n&&gr(n)?Ft(n):n;let b=p,g=uf(b);for(;g&&n&&h!==b;){const w=bo(g),v=g.getBoundingClientRect(),y=vr(g),x=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*w.x,_=v.top+(g.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,u*=w.y,d*=w.x,f*=w.y,l+=x,u+=_,b=Ft(g),g=uf(b)}}return oc({width:d,height:f,x:l,y:u})}function $c(e,t){const r=Lc(e).scrollLeft;return t?t.left+r:ks(Ar(e)).left+r}function Mw(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-$c(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function VN(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Ar(n),a=t?Dc(t.floating):!1;if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=Rr(1);const d=Rr(0),f=Or(n);if((f||!f&&!o)&&((ei(n)!=="body"||Na(i))&&(l=Lc(n)),Or(n))){const h=ks(n);u=bo(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=i&&!f&&!o?Mw(i,l):Rr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-l.scrollTop*u.y+d.y+p.y}}function HN(e){return Array.from(e.getClientRects())}function qN(e){const t=Ar(e),r=Lc(e),n=e.ownerDocument.body,s=At(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=At(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+$c(e);const a=-r.scrollTop;return vr(n).direction==="rtl"&&(i+=At(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}const sg=25;function KN(e,t){const r=Ft(e),n=Ar(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=Kh();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=$c(n);if(u<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(n.clientWidth-f.clientWidth-h);b<=sg&&(o-=b)}else u<=sg&&(o+=u);return{width:o,height:i,x:a,y:l}}const GN=new Set(["absolute","fixed"]);function QN(e,t){const r=ks(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Or(e)?bo(e):Rr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=n*o.y;return{width:i,height:a,x:l,y:u}}function og(e,t,r){let n;if(t==="viewport")n=KN(e,r);else if(t==="document")n=qN(Ar(e));else if(gr(t))n=QN(t,r);else{const s=Iw(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return oc(n)}function Dw(e,t){const r=Fn(e);return r===t||!gr(r)||Ko(r)?!1:vr(r).position==="fixed"||Dw(r,t)}function YN(e,t){const r=t.get(e);if(r)return r;let n=oa(e,[],!1).filter(a=>gr(a)&&ei(a)!=="body"),s=null;const o=vr(e).position==="fixed";let i=o?Fn(e):e;for(;gr(i)&&!Ko(i);){const a=vr(i),l=qh(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&GN.has(s.position)||Na(i)&&!l&&Dw(e,i))?n=n.filter(d=>d!==i):s=a,i=Fn(i)}return t.set(e,n),n}function JN(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Dc(t)?[]:YN(t,this._c):[].concat(r),n],a=i[0],l=i.reduce((u,d)=>{const f=og(t,d,s);return u.top=At(f.top,u.top),u.right=$n(f.right,u.right),u.bottom=$n(f.bottom,u.bottom),u.left=At(f.left,u.left),u},og(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function XN(e){const{width:t,height:r}=Aw(e);return{width:t,height:r}}function ZN(e,t,r){const n=Or(t),s=Ar(t),o=r==="fixed",i=ks(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Rr(0);function u(){l.x=$c(s)}if(n||!n&&!o)if((ei(t)!=="body"||Na(s))&&(a=Lc(t)),n){const h=ks(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?Mw(s,a):Rr(0),f=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function Uu(e){return vr(e).position==="static"}function ig(e,t){if(!Or(e)||vr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ar(e)===r&&(r=r.ownerDocument.body),r}function Lw(e,t){const r=Ft(e);if(Dc(e))return r;if(!Or(e)){let s=Fn(e);for(;s&&!Ko(s);){if(gr(s)&&!Uu(s))return s;s=Fn(s)}return r}let n=ig(e,t);for(;n&&MN(n)&&Uu(n);)n=ig(n,t);return n&&Ko(n)&&Uu(n)&&!qh(n)?r:n||UN(e)||r}const ej=async function(e){const t=this.getOffsetParent||Lw,r=this.getDimensions,n=await r(e.floating);return{reference:ZN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tj(e){return vr(e).direction==="rtl"}const rj={convertOffsetParentRelativeRectToViewportRelativeRect:VN,getDocumentElement:Ar,getClippingRect:JN,getOffsetParent:Lw,getElementRects:ej,getClientRects:HN,getDimensions:XN,getScale:bo,isElement:gr,isRTL:tj};function $w(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nj(e,t){let r=null,n;const s=Ar(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(a||t(),!p||!h)return;const b=Za(f),g=Za(s.clientWidth-(d+p)),w=Za(s.clientHeight-(f+h)),v=Za(d),x={rootMargin:-b+"px "+-g+"px "+-w+"px "+-v+"px",threshold:At(0,$n(1,l))||1};let _=!0;function C(N){const j=N[0].intersectionRatio;if(j!==l){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!$w(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,x)}r.observe(e)}return i(!0),o}function sj(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Gh(e),d=s||o?[...u?oa(u):[],...oa(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),o&&v.addEventListener("resize",r)});const f=u&&a?nj(u,r):null;let p=-1,h=null;i&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),r()}),u&&!l&&h.observe(u),h.observe(t));let b,g=l?ks(e):null;l&&w();function w(){const v=ks(e);g&&!$w(g,v)&&r(),g=v,b=requestAnimationFrame(w)}return r(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(b)}}const oj=TN,ij=PN,aj=CN,lj=ON,cj=NN,ag=kN,uj=RN,dj=(e,t,r)=>{const n=new Map,s={platform:rj,...r},o={...s.platform,_c:n};return EN(e,t,{...s,platform:o})};var fj=typeof document<"u",hj=function(){},Nl=fj?m.useLayoutEffect:hj;function ic(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ic(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!ic(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Fw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lg(e,t){const r=Fw(e);return Math.round(t*r)/r}function Bu(e){const t=m.useRef(e);return Nl(()=>{t.current=e}),t}function pj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=m.useState(n);ic(p,n)||h(n);const[b,g]=m.useState(null),[w,v]=m.useState(null),y=m.useCallback(E=>{E!==N.current&&(N.current=E,g(E))},[]),x=m.useCallback(E=>{E!==j.current&&(j.current=E,v(E))},[]),_=o||b,C=i||w,N=m.useRef(null),j=m.useRef(null),P=m.useRef(d),D=l!=null,I=Bu(l),U=Bu(s),B=Bu(u),Z=m.useCallback(()=>{if(!N.current||!j.current)return;const E={placement:t,strategy:r,middleware:p};U.current&&(E.platform=U.current),dj(N.current,j.current,E).then(T=>{const k={...T,isPositioned:B.current!==!1};$.current&&!ic(P.current,k)&&(P.current=k,Os.flushSync(()=>{f(k)}))})},[p,t,r,U,B]);Nl(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const $=m.useRef(!1);Nl(()=>($.current=!0,()=>{$.current=!1}),[]),Nl(()=>{if(_&&(N.current=_),C&&(j.current=C),_&&C){if(I.current)return I.current(_,C,Z);Z()}},[_,C,Z,I,D]);const J=m.useMemo(()=>({reference:N,floating:j,setReference:y,setFloating:x}),[y,x]),V=m.useMemo(()=>({reference:_,floating:C}),[_,C]),q=m.useMemo(()=>{const E={position:r,left:0,top:0};if(!V.floating)return E;const T=lg(V.floating,d.x),k=lg(V.floating,d.y);return a?{...E,transform:"translate("+T+"px, "+k+"px)",...Fw(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:k}},[r,a,V.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:Z,refs:J,elements:V,floatingStyles:q}),[d,Z,J,V,q])}const mj=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ag({element:n.current,padding:s}).fn(r):{}:n?ag({element:n,padding:s}).fn(r):{}}}},gj=(e,t)=>({...oj(e),options:[e,t]}),vj=(e,t)=>({...ij(e),options:[e,t]}),yj=(e,t)=>({...uj(e),options:[e,t]}),wj=(e,t)=>({...aj(e),options:[e,t]}),xj=(e,t)=>({...lj(e),options:[e,t]}),bj=(e,t)=>({...cj(e),options:[e,t]}),_j=(e,t)=>({...mj(e),options:[e,t]});var Sj="Arrow",Uw=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return c.jsx(ue.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Uw.displayName=Sj;var Ej=Uw;function Qh(e){const[t,r]=m.useState(void 0);return ct(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Yh="Popper",[Bw,Fc]=yr(Yh),[kj,zw]=Bw(Yh),Ww=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return c.jsx(kj,{scope:t,anchor:n,onAnchorChange:s,children:r})};Ww.displayName=Yh;var Vw="PopperAnchor",Hw=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=zw(Vw,r),i=m.useRef(null),a=_e(t,i),l=m.useRef(null);return m.useEffect(()=>{const u=l.current;l.current=(n==null?void 0:n.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),n?null:c.jsx(ue.div,{...s,ref:a})});Hw.displayName=Vw;var Jh="PopperContent",[Cj,Nj]=Bw(Jh),qw=m.forwardRef((e,t)=>{var R,H,oe,te,G,ee;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:b,...g}=e,w=zw(Jh,r),[v,y]=m.useState(null),x=_e(t,ye=>y(ye)),[_,C]=m.useState(null),N=Qh(_),j=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,D=n+(o!=="center"?"-"+o:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],B=U.length>0,Z={padding:I,boundary:U.filter(Tj),altBoundary:B},{refs:$,floatingStyles:J,placement:V,isPositioned:q,middlewareData:E}=pj({strategy:"fixed",placement:D,whileElementsMounted:(...ye)=>sj(...ye,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[gj({mainAxis:s+P,alignmentAxis:i}),l&&vj({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yj():void 0,...Z}),l&&wj({...Z}),xj({...Z,apply:({elements:ye,rects:le,availableWidth:Te,availableHeight:De})=>{const{width:He,height:nt}=le.reference,ut=ye.floating.style;ut.setProperty("--radix-popper-available-width",`${Te}px`),ut.setProperty("--radix-popper-available-height",`${De}px`),ut.setProperty("--radix-popper-anchor-width",`${He}px`),ut.setProperty("--radix-popper-anchor-height",`${nt}px`)}}),_&&_j({element:_,padding:a}),Pj({arrowWidth:j,arrowHeight:P}),p&&bj({strategy:"referenceHidden",...Z})]}),[T,k]=Qw(V),S=Yt(b);ct(()=>{q&&(S==null||S())},[q,S]);const A=(R=E.arrow)==null?void 0:R.x,L=(H=E.arrow)==null?void 0:H.y,z=((oe=E.arrow)==null?void 0:oe.centerOffset)!==0,[K,Y]=m.useState();return ct(()=>{v&&Y(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:q?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(te=E.transformOrigin)==null?void 0:te.x,(G=E.transformOrigin)==null?void 0:G.y].join(" "),...((ee=E.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(Cj,{scope:r,placedSide:T,onArrowChange:C,arrowX:A,arrowY:L,shouldHideArrow:z,children:c.jsx(ue.div,{"data-side":T,"data-align":k,...g,ref:x,style:{...g.style,animation:q?void 0:"none"}})})})});qw.displayName=Jh;var Kw="PopperArrow",jj={top:"bottom",right:"left",bottom:"top",left:"right"},Gw=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=Nj(Kw,n),i=jj[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(Ej,{...s,ref:r,style:{...s.style,display:"block"}})})});Gw.displayName=Kw;function Tj(e){return e!==null}var Pj=e=>({name:"transformOrigin",options:e,fn(t){var w,v,y;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=Qw(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,h=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let b="",g="";return u==="bottom"?(b=i?f:`${p}px`,g=`${-l}px`):u==="top"?(b=i?f:`${p}px`,g=`${n.floating.height+l}px`):u==="right"?(b=`${-l}px`,g=i?f:`${h}px`):u==="left"&&(b=`${n.floating.width+l}px`,g=i?f:`${h}px`),{data:{x:b,y:g}}}});function Qw(e){const[t,r="center"]=e.split("-");return[t,r]}var Rj=Ww,Yw=Hw,Jw=qw,Xw=Gw,[Uc]=yr("Tooltip",[Fc]),Xh=Fc(),Zw="TooltipProvider",Oj=700,cg="tooltip.open",[Aj,ex]=Uc(Zw),tx=e=>{const{__scopeTooltip:t,delayDuration:r=Oj,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(Aj,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};tx.displayName=Zw;var rx="Tooltip",[ZM,Bc]=Uc(rx),df="TooltipTrigger",Ij=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Bc(df,r),o=ex(df,r),i=Xh(r),a=m.useRef(null),l=_e(t,a,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(Yw,{asChild:!0,...i,children:c.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:ne(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ne(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ne(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ne(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ne(e.onBlur,s.onClose),onClick:ne(e.onClick,s.onClose)})})});Ij.displayName=df;var Mj="TooltipPortal",[e5,Dj]=Uc(Mj,{forceMount:void 0}),Go="TooltipContent",nx=m.forwardRef((e,t)=>{const r=Dj(Go,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Bc(Go,e.__scopeTooltip);return c.jsx(Wn,{present:n||i.open,children:i.disableHoverableContent?c.jsx(sx,{side:s,...o,ref:t}):c.jsx(Lj,{side:s,...o,ref:t})})}),Lj=m.forwardRef((e,t)=>{const r=Bc(Go,e.__scopeTooltip),n=ex(Go,e.__scopeTooltip),s=m.useRef(null),o=_e(t,s),[i,a]=m.useState(null),{trigger:l,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,p=m.useCallback(()=>{a(null),f(!1)},[f]),h=m.useCallback((b,g)=>{const w=b.currentTarget,v={x:b.clientX,y:b.clientY},y=zj(v,w.getBoundingClientRect()),x=Wj(v,y),_=Vj(g.getBoundingClientRect()),C=qj([...x,..._]);a(C),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const b=w=>h(w,d),g=w=>h(w,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[l,d,h,p]),m.useEffect(()=>{if(i){const b=g=>{const w=g.target,v={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),x=!Hj(v,i);y?p():x&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,i,u,p]),c.jsx(sx,{...e,ref:o})}),[$j,Fj]=Uc(rx,{isInside:!1}),Uj=$E("TooltipContent"),sx=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Bc(Go,r),u=Xh(r),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(cg,d),()=>document.removeEventListener(cg,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(ka,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(Jw,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Uj,{children:n}),c.jsx($j,{scope:r,isInside:!0,children:c.jsx(ik,{id:l.contentId,role:"tooltip",children:s||n})})]})})});nx.displayName=Go;var ox="TooltipArrow",Bj=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Xh(r);return Fj(ox,r).isInside?null:c.jsx(Xw,{...s,...n,ref:t})});Bj.displayName=ox;function zj(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Wj(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Vj(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Hj(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],u=a.x,d=a.y,f=l.x,p=l.y;d>n!=p>n&&r<(f-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function qj(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Kj(t)}function Kj(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Gj=tx,ix=nx;const Qj=Gj,Yj=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c.jsx(ix,{ref:n,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Yj.displayName=ix.displayName;var zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jj={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},vn,Ff,pv,Xj=(pv=class{constructor(){we(this,vn,Jj);we(this,Ff,!1)}setTimeoutProvider(e){ce(this,vn,e)}setTimeout(e,t){return O(this,vn).setTimeout(e,t)}clearTimeout(e){O(this,vn).clearTimeout(e)}setInterval(e,t){return O(this,vn).setInterval(e,t)}clearInterval(e){O(this,vn).clearInterval(e)}},vn=new WeakMap,Ff=new WeakMap,pv),ff=new Xj;function Zj(e){setTimeout(e,0)}var Wc=typeof window>"u"||"Deno"in globalThis;function ir(){}function e2(e,t){return typeof e=="function"?e(t):e}function t2(e){return typeof e=="number"&&e>=0&&e!==1/0}function r2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hf(e,t){return typeof e=="function"?e(t):e}function n2(e,t){return typeof e=="function"?e(t):e}function ug(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==Zh(i,t.options))return!1}else if(!aa(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function dg(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(ia(t.options.mutationKey)!==ia(o))return!1}else if(!aa(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Zh(e,t){return((t==null?void 0:t.queryKeyHashFn)||ia)(e)}function ia(e){return JSON.stringify(e,(t,r)=>pf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function aa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>aa(e[r],t[r])):!1}var s2=Object.prototype.hasOwnProperty;function ax(e,t){if(e===t)return e;const r=fg(e)&&fg(t);if(!r&&!(pf(e)&&pf(t)))return t;const s=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),i=o.length,a=r?new Array(i):{};let l=0;for(let u=0;u<i;u++){const d=r?u:o[u],f=e[d],p=t[d];if(f===p){a[d]=f,(r?u<s:s2.call(e,d))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[d]=p;continue}const h=ax(f,p);a[d]=h,h===f&&l++}return s===i&&l===s?e:a}function fg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pf(e){if(!hg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!hg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hg(e){return Object.prototype.toString.call(e)==="[object Object]"}function o2(e){return new Promise(t=>{ff.setTimeout(t,e)})}function i2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ax(e,t):t}function a2(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function l2(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ep=Symbol();function lx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ep?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function c2(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var as,yn,No,mv,u2=(mv=class extends zc{constructor(){super();we(this,as);we(this,yn);we(this,No);ce(this,No,t=>{if(!Wc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,yn)||this.setEventListener(O(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,yn))==null||t.call(this),ce(this,yn,void 0))}setEventListener(t){var r;ce(this,No,t),(r=O(this,yn))==null||r.call(this),ce(this,yn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){O(this,as)!==t&&(ce(this,as,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof O(this,as)=="boolean"?O(this,as):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},as=new WeakMap,yn=new WeakMap,No=new WeakMap,mv),cx=new u2;function d2(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var f2=Zj;function h2(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=f2;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var xt=h2(),jo,wn,To,gv,p2=(gv=class extends zc{constructor(){super();we(this,jo,!0);we(this,wn);we(this,To);ce(this,To,t=>{if(!Wc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,wn)||this.setEventListener(O(this,To))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,wn))==null||t.call(this),ce(this,wn,void 0))}setEventListener(t){var r;ce(this,To,t),(r=O(this,wn))==null||r.call(this),ce(this,wn,t(this.setOnline.bind(this)))}setOnline(t){O(this,jo)!==t&&(ce(this,jo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return O(this,jo)}},jo=new WeakMap,wn=new WeakMap,To=new WeakMap,gv),ac=new p2;function m2(e){return Math.min(1e3*2**e,3e4)}function ux(e){return(e??"online")==="online"?ac.isOnline():!0}var mf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dx(e){let t=!1,r=0,n;const s=d2(),o=()=>s.status!=="pending",i=g=>{var w;if(!o()){const v=new mf(g);p(v),(w=e.onCancel)==null||w.call(e,v)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>cx.isFocused()&&(e.networkMode==="always"||ac.isOnline())&&e.canRun(),d=()=>ux(e.networkMode)&&e.canRun(),f=g=>{o()||(n==null||n(),s.resolve(g))},p=g=>{o()||(n==null||n(),s.reject(g))},h=()=>new Promise(g=>{var w;n=v=>{(o()||u())&&g(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;n=void 0,o()||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(o())return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var N;if(o())return;const y=e.retry??(Wc?0:3),x=e.retryDelay??m2,_=typeof x=="function"?x(r,v):x,C=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!C){p(v);return}r++,(N=e.onFail)==null||N.call(e,r,v),o2(_).then(()=>u()?void 0:h()).then(()=>{t?p(v):b()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():h().then(b),s)}}var ls,vv,fx=(vv=class{constructor(){we(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t2(this.gcTime)&&ce(this,ls,ff.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wc?1/0:5*60*1e3))}clearGcTimeout(){O(this,ls)&&(ff.clearTimeout(O(this,ls)),ce(this,ls,void 0))}},ls=new WeakMap,vv),cs,Po,Wt,us,et,va,ds,lr,Lr,yv,g2=(yv=class extends fx{constructor(t){super();we(this,lr);we(this,cs);we(this,Po);we(this,Wt);we(this,us);we(this,et);we(this,va);we(this,ds);ce(this,ds,!1),ce(this,va,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,us,t.client),ce(this,Wt,O(this,us).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,cs,mg(this.options)),this.state=t.state??O(this,cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=O(this,et))==null?void 0:t.promise}setOptions(t){if(this.options={...O(this,va),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=mg(this.options);r.data!==void 0&&(this.setState(pg(r.data,r.dataUpdatedAt)),ce(this,cs,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,Wt).remove(this)}setData(t,r){const n=i2(this.state.data,t,this.options);return ft(this,lr,Lr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ft(this,lr,Lr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=O(this,et))==null?void 0:n.promise;return(s=O(this,et))==null||s.cancel(t),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,cs))}isActive(){return this.observers.some(t=>n2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ep||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>hf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!r2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,et))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,et))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),O(this,Wt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(O(this,et)&&(O(this,ds)?O(this,et).cancel({revert:!0}):O(this,et).cancelRetry()),this.scheduleGc()),O(this,Wt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,lr,Lr).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,d,f,p,h,b,g,w,v,y,x;if(this.state.fetchStatus!=="idle"&&((l=O(this,et))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,et))return O(this,et).continueRetry(),O(this,et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(C=>C.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(ce(this,ds,!0),n.signal)})},o=()=>{const _=lx(this.options,r),N=(()=>{const j={client:O(this,us),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return ce(this,ds,!1),this.options.persister?this.options.persister(_,N,this):_(N)},a=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,us),state:this.state,fetchFn:o};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(a,this),ce(this,Po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ft(this,lr,Lr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),ce(this,et,dx({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:_=>{_ instanceof mf&&_.revert&&this.setState({...O(this,Po),fetchStatus:"idle"}),n.abort()},onFail:(_,C)=>{ft(this,lr,Lr).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{ft(this,lr,Lr).call(this,{type:"pause"})},onContinue:()=>{ft(this,lr,Lr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const _=await O(this,et).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(h=(p=O(this,Wt).config).onSuccess)==null||h.call(p,_,this),(g=(b=O(this,Wt).config).onSettled)==null||g.call(b,_,this.state.error,this),_}catch(_){if(_ instanceof mf){if(_.silent)return O(this,et).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ft(this,lr,Lr).call(this,{type:"error",error:_}),(v=(w=O(this,Wt).config).onError)==null||v.call(w,_,this),(x=(y=O(this,Wt).config).onSettled)==null||x.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},cs=new WeakMap,Po=new WeakMap,Wt=new WeakMap,us=new WeakMap,et=new WeakMap,va=new WeakMap,ds=new WeakMap,lr=new WeakSet,Lr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...v2(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...pg(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,Po,t.manual?s:void 0),s;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),xt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,Wt).notify({query:this,type:"updated",action:t})})},yv);function v2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ux(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pg(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mg(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function gg(e){return{onFetch:(t,r)=>{var d,f,p,h,b;const n=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const w=x=>{c2(x,()=>t.signal,()=>g=!0)},v=lx(t.options,t.fetchOptions),y=async(x,_,C)=>{if(g)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const j=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return w(U),U})(),P=await v(j),{maxPages:D}=t.options,I=C?l2:a2;return{pages:I(x.pages,P,D),pageParams:I(x.pageParams,_,D)}};if(s&&o.length){const x=s==="backward",_=x?y2:vg,C={pages:o,pageParams:i},N=_(n,C);a=await y(C,N,x)}else{const x=e??o.length;do{const _=l===0?i[0]??n.initialPageParam:vg(n,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function vg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function y2(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ya,Sr,yt,fs,Er,cn,wv,w2=(wv=class extends fx{constructor(t){super();we(this,Er);we(this,ya);we(this,Sr);we(this,yt);we(this,fs);ce(this,ya,t.client),this.mutationId=t.mutationId,ce(this,yt,t.mutationCache),ce(this,Sr,[]),this.state=t.state||x2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){O(this,Sr).includes(t)||(O(this,Sr).push(t),this.clearGcTimeout(),O(this,yt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,Sr,O(this,Sr).filter(r=>r!==t)),this.scheduleGc(),O(this,yt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){O(this,Sr).length||(this.state.status==="pending"?this.scheduleGc():O(this,yt).remove(this))}continue(){var t;return((t=O(this,fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,u,d,f,p,h,b,g,w,v,y,x,_,C,N,j,P,D;const r=()=>{ft(this,Er,cn).call(this,{type:"continue"})},n={client:O(this,ya),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,fs,dx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(I,U)=>{ft(this,Er,cn).call(this,{type:"failed",failureCount:I,error:U})},onPause:()=>{ft(this,Er,cn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,yt).canRun(this)}));const s=this.state.status==="pending",o=!O(this,fs).canStart();try{if(s)r();else{ft(this,Er,cn).call(this,{type:"pending",variables:t,isPaused:o}),await((a=(i=O(this,yt).config).onMutate)==null?void 0:a.call(i,t,this,n));const U=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));U!==this.state.context&&ft(this,Er,cn).call(this,{type:"pending",context:U,variables:t,isPaused:o})}const I=await O(this,fs).start();return await((f=(d=O(this,yt).config).onSuccess)==null?void 0:f.call(d,I,t,this.state.context,this,n)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,I,t,this.state.context,n)),await((g=(b=O(this,yt).config).onSettled)==null?void 0:g.call(b,I,null,this.state.variables,this.state.context,this,n)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,I,null,t,this.state.context,n)),ft(this,Er,cn).call(this,{type:"success",data:I}),I}catch(I){try{await((x=(y=O(this,yt).config).onError)==null?void 0:x.call(y,I,t,this.state.context,this,n))}catch(U){Promise.reject(U)}try{await((C=(_=this.options).onError)==null?void 0:C.call(_,I,t,this.state.context,n))}catch(U){Promise.reject(U)}try{await((j=(N=O(this,yt).config).onSettled)==null?void 0:j.call(N,void 0,I,this.state.variables,this.state.context,this,n))}catch(U){Promise.reject(U)}try{await((D=(P=this.options).onSettled)==null?void 0:D.call(P,void 0,I,t,this.state.context,n))}catch(U){Promise.reject(U)}throw ft(this,Er,cn).call(this,{type:"error",error:I}),I}finally{O(this,yt).runNext(this)}}},ya=new WeakMap,Sr=new WeakMap,yt=new WeakMap,fs=new WeakMap,Er=new WeakSet,cn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xt.batch(()=>{O(this,Sr).forEach(n=>{n.onMutationUpdate(t)}),O(this,yt).notify({mutation:this,type:"updated",action:t})})},wv);function x2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Br,cr,wa,xv,b2=(xv=class extends zc{constructor(t={}){super();we(this,Br);we(this,cr);we(this,wa);this.config=t,ce(this,Br,new Set),ce(this,cr,new Map),ce(this,wa,0)}build(t,r,n){const s=new w2({client:t,mutationCache:this,mutationId:++Ra(this,wa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){O(this,Br).add(t);const r=el(t);if(typeof r=="string"){const n=O(this,cr).get(r);n?n.push(t):O(this,cr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(O(this,Br).delete(t)){const r=el(t);if(typeof r=="string"){const n=O(this,cr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&O(this,cr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=el(t);if(typeof r=="string"){const n=O(this,cr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=el(t);if(typeof r=="string"){const s=(n=O(this,cr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xt.batch(()=>{O(this,Br).forEach(t=>{this.notify({type:"removed",mutation:t})}),O(this,Br).clear(),O(this,cr).clear()})}getAll(){return Array.from(O(this,Br))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>dg(r,n))}findAll(t={}){return this.getAll().filter(r=>dg(t,r))}notify(t){xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xt.batch(()=>Promise.all(t.map(r=>r.continue().catch(ir))))}},Br=new WeakMap,cr=new WeakMap,wa=new WeakMap,xv);function el(e){var t;return(t=e.options.scope)==null?void 0:t.id}var kr,bv,_2=(bv=class extends zc{constructor(t={}){super();we(this,kr);this.config=t,ce(this,kr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Zh(s,r);let i=this.get(o);return i||(i=new g2({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){O(this,kr).has(t.queryHash)||(O(this,kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=O(this,kr).get(t.queryHash);r&&(t.destroy(),r===t&&O(this,kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return O(this,kr).get(t)}getAll(){return[...O(this,kr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ug(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ug(t,n)):r}notify(t){xt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kr=new WeakMap,bv),ze,xn,bn,Ro,Oo,_n,Ao,Io,_v,S2=(_v=class{constructor(e={}){we(this,ze);we(this,xn);we(this,bn);we(this,Ro);we(this,Oo);we(this,_n);we(this,Ao);we(this,Io);ce(this,ze,e.queryCache||new _2),ce(this,xn,e.mutationCache||new b2),ce(this,bn,e.defaultOptions||{}),ce(this,Ro,new Map),ce(this,Oo,new Map),ce(this,_n,0)}mount(){Ra(this,_n)._++,O(this,_n)===1&&(ce(this,Ao,cx.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,ze).onFocus())})),ce(this,Io,ac.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,ze).onOnline())})))}unmount(){var e,t;Ra(this,_n)._--,O(this,_n)===0&&((e=O(this,Ao))==null||e.call(this),ce(this,Ao,void 0),(t=O(this,Io))==null||t.call(this),ce(this,Io,void 0))}isFetching(e){return O(this,ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return O(this,xn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,ze).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=O(this,ze).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(hf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return O(this,ze).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=O(this,ze).get(n.queryHash),o=s==null?void 0:s.state.data,i=e2(t,o);if(i!==void 0)return O(this,ze).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return xt.batch(()=>O(this,ze).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,ze).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=O(this,ze);xt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=O(this,ze);return xt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=xt.batch(()=>O(this,ze).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ir).catch(ir)}invalidateQueries(e,t={}){return xt.batch(()=>(O(this,ze).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=xt.batch(()=>O(this,ze).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(ir)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(ir)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=O(this,ze).build(this,t);return r.isStaleByTime(hf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ir).catch(ir)}fetchInfiniteQuery(e){return e.behavior=gg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ir).catch(ir)}ensureInfiniteQueryData(e){return e.behavior=gg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ac.isOnline()?O(this,xn).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,ze)}getMutationCache(){return O(this,xn)}getDefaultOptions(){return O(this,bn)}setDefaultOptions(e){ce(this,bn,e)}setQueryDefaults(e,t){O(this,Ro).set(ia(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...O(this,Ro).values()],r={};return t.forEach(n=>{aa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){O(this,Oo).set(ia(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...O(this,Oo).values()],r={};return t.forEach(n=>{aa(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...O(this,bn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ep&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...O(this,bn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){O(this,ze).clear(),O(this,xn).clear()}},ze=new WeakMap,xn=new WeakMap,bn=new WeakMap,Ro=new WeakMap,Oo=new WeakMap,_n=new WeakMap,Ao=new WeakMap,Io=new WeakMap,_v),E2=m.createContext(void 0),k2=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(E2.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},la.apply(this,arguments)}var kn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kn||(kn={}));const yg="popstate";function C2(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return gf("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:hx(s)}return j2(t,r,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N2(){return Math.random().toString(36).substr(2,8)}function wg(e,t){return{usr:e.state,key:e.key,idx:t}}function gf(e,t,r,n){return r===void 0&&(r=null),la({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ti(t):t,{state:r,key:t&&t.key||n||N2()})}function hx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ti(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function j2(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=kn.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(la({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=kn.Pop;let w=d(),v=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:v})}function p(w,v){a=kn.Push;let y=gf(g.location,w,v);u=d()+1;let x=wg(y,u),_=g.createHref(y);try{i.pushState(x,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(_)}o&&l&&l({action:a,location:g.location,delta:1})}function h(w,v){a=kn.Replace;let y=gf(g.location,w,v);u=d();let x=wg(y,u),_=g.createHref(y);i.replaceState(x,"",_),o&&l&&l({action:a,location:g.location,delta:0})}function b(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:hx(w);return y=y.replace(/ $/,"%20"),Xe(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return e(s,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(yg,f),l=w,()=>{s.removeEventListener(yg,f),l=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let v=b(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(w){return i.go(w)}};return g}var xg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xg||(xg={}));function T2(e,t,r){return r===void 0&&(r="/"),P2(e,t,r)}function P2(e,t,r,n){let s=typeof t=="string"?ti(t):t,o=gx(s.pathname||"/",r);if(o==null)return null;let i=px(e);R2(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=W2(o);a=U2(i[l],u)}return a}function px(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Xe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ms([n,l.relativePath]),d=r.concat(l);o.children&&o.children.length>0&&(Xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),px(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:$2(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of mx(o.path))s(o,i,l)}),t}function mx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=mx(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function R2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:F2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const O2=/^:[\w-]+$/,A2=3,I2=2,M2=1,D2=10,L2=-2,bg=e=>e==="*";function $2(e,t){let r=e.split("/"),n=r.length;return r.some(bg)&&(n+=L2),t&&(n+=I2),r.filter(s=>!bg(s)).reduce((s,o)=>s+(O2.test(o)?A2:o===""?M2:D2),n)}function F2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function U2(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=B2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ms([o,f.pathname]),pathnameBase:Y2(ms([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=ms([o,f.pathnameBase]))}return i}function B2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=z2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const b=a[f];return h&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function z2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function W2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const V2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H2=e=>V2.test(e);function q2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ti(e):e,o;if(r)if(H2(r))o=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),tp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?o=_g(r.substring(1),"/"):o=_g(r,t)}else o=t;return{pathname:o,search:J2(n),hash:X2(s)}}function _g(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function zu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function G2(e,t){let r=K2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Q2(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ti(e):(s=la({},e),Xe(!s.pathname||!s.pathname.includes("?"),zu("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),zu("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),zu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=q2(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ms=e=>e.join("/").replace(/\/\/+/g,"/"),Y2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,X2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Z2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vx=["post","put","patch","delete"];new Set(vx);const eT=["get",...vx];new Set(eT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(this,arguments)}const rp=m.createContext(null),tT=m.createContext(null),Vc=m.createContext(null),Hc=m.createContext(null),ri=m.createContext({outlet:null,matches:[],isDataRoute:!1}),yx=m.createContext(null);function qc(){return m.useContext(Hc)!=null}function np(){return qc()||Xe(!1),m.useContext(Hc).location}function wx(e){m.useContext(Vc).static||m.useLayoutEffect(e)}function xx(){let{isDataRoute:e}=m.useContext(ri);return e?pT():rT()}function rT(){qc()||Xe(!1);let e=m.useContext(rp),{basename:t,future:r,navigator:n}=m.useContext(Vc),{matches:s}=m.useContext(ri),{pathname:o}=np(),i=JSON.stringify(G2(s,r.v7_relativeSplatPath)),a=m.useRef(!1);return wx(()=>{a.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Q2(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ms([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function nT(e,t){return sT(e,t)}function sT(e,t,r,n){qc()||Xe(!1);let{navigator:s}=m.useContext(Vc),{matches:o}=m.useContext(ri),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=np(),d;if(t){var f;let w=typeof t=="string"?ti(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Xe(!1),d=w}else d=u;let p=d.pathname||"/",h=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=T2(e,{pathname:h}),g=cT(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ms([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ms([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&g?m.createElement(Hc.Provider,{value:{location:ca({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:kn.Pop}},g):g}function oT(){let e=hT(),t=Z2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const iT=m.createElement(oT,null);class aT extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(ri.Provider,{value:this.props.routeContext},m.createElement(yx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lT(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(rp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(ri.Provider,{value:t},n)}function cT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Xe(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:h}=r,b=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let h,b=!1,g=null,w=null;r&&(h=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||iT,l&&(u<0&&p===0?(mT("route-fallback"),b=!0,w=null):u===p&&(b=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,p+1)),y=()=>{let x;return h?x=g:b?x=w:f.route.Component?x=m.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,m.createElement(lT,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(aT,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var bx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bx||{}),_x=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_x||{});function uT(e){let t=m.useContext(rp);return t||Xe(!1),t}function dT(e){let t=m.useContext(tT);return t||Xe(!1),t}function fT(e){let t=m.useContext(ri);return t||Xe(!1),t}function Sx(e){let t=fT(),r=t.matches[t.matches.length-1];return r.route.id||Xe(!1),r.route.id}function hT(){var e;let t=m.useContext(yx),r=dT(),n=Sx();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function pT(){let{router:e}=uT(bx.UseNavigateStable),t=Sx(_x.UseNavigateStable),r=m.useRef(!1);return wx(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ca({fromRouteId:t},o)))},[e,t])}const Sg={};function mT(e,t,r){Sg[e]||(Sg[e]=!0)}function gT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jl(e){Xe(!1)}function vT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=kn.Pop,navigator:o,static:i=!1,future:a}=e;qc()&&Xe(!1);let l=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:o,static:i,future:ca({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof n=="string"&&(n=ti(n));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:b="default"}=n,g=m.useMemo(()=>{let w=gx(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:h,key:b},navigationType:s}},[l,d,f,p,h,b,s]);return g==null?null:m.createElement(Vc.Provider,{value:u},m.createElement(Hc.Provider,{children:r,value:g}))}function yT(e){let{children:t,location:r}=e;return nT(vf(t),r)}new Promise(()=>{});function vf(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,vf(n.props.children,o));return}n.type!==jl&&Xe(!1),!n.props.index||!n.props.children||Xe(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=vf(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wT="6";try{window.__reactRouterVersion=wT}catch{}const xT="startTransition",Eg=gc[xT];function bT(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=C2({window:s,v5Compat:!0}));let i=o.current,[a,l]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&Eg?Eg(()=>l(f)):l(f)},[l,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>gT(n),[n]),m.createElement(vT,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}var kg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kg||(kg={}));var Cg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cg||(Cg={}));var Nr=function(){return Nr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Nr.apply(this,arguments)};function ni(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function _T(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function ST(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}const ET=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class sp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kT extends sp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ng extends sp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jg extends sp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yf||(yf={}));class CT{constructor(t,{headers:r={},customFetch:n,region:s=yf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=ET(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _T(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:l,body:u,signal:d,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const b=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,b.searchParams.set("forceFunctionRegion",h));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(p["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(p["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let w=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(w=i.signal,d.addEventListener("abort",()=>i.abort())):w=i.signal);const v=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:g,signal:w}).catch(C=>{throw new kT(C)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new Ng(v);if(!v.ok)throw new jg(v);let x=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield v.json():x==="application/octet-stream"||x==="application/pdf"?_=yield v.blob():x==="text/event-stream"?_=v:x==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof jg||a instanceof Ng?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var NT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},jT=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,l=null,u=o.status,d=o.statusText;if(o.ok){var f,p;if(r.method!=="HEAD"){var h;const v=await o.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?a=v:a=JSON.parse(v))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");g&&w&&w.length>1&&(l=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var b;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,u=200,d="OK")}catch{o.status===404&&g===""?(u=204,d="No Content"):i={message:g}}if(i&&r.isMaybeSingle&&(!(i==null||(b=i.details)===null||b===void 0)&&b.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&r.shouldThrowOnError)throw new NT(i)}return{error:i,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const l=o==null?void 0:o.cause;if(l){var u,d,f,p;const b=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",g=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${b}`,g&&(a+=` (${g})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var h;a=(h=o==null?void 0:o.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},TT=class extends jT{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Tg=new RegExp("[,()]");var qs=class extends TT{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Tg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Tg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},PT=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new qs({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((i,a)=>i.concat(Object.keys(a)),[]);if(o.length>0){const i=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",i.join(","))}}return new qs({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new qs({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new qs({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new qs({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},RT=class Ex{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PT(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ex(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",u=r);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new qs({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class OT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AT="2.89.0",IT=`realtime-js/${AT}`,kx="1.0.0",MT="2.0.0",Pg=kx,wf=1e4,DT=1e3,LT=100;var hn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hn||(hn={}));var Qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qe||(Qe={}));var dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dr||(dr={}));var xf;(function(e){e.websocket="websocket"})(xf||(xf={}));var ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ts||(ts={}));class $T{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+i.length+u.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+p);let b=new DataView(h),g=0;b.setUint8(g++,this.KINDS.userBroadcastPush),b.setUint8(g++,l.length),b.setUint8(g++,a.length),b.setUint8(g++,i.length),b.setUint8(g++,u.length),b.setUint8(g++,f.length),b.setUint8(g++,r),Array.from(l,v=>b.setUint8(g++,v.charCodeAt(0))),Array.from(a,v=>b.setUint8(g++,v.charCodeAt(0))),Array.from(i,v=>b.setUint8(g++,v.charCodeAt(0))),Array.from(u,v=>b.setUint8(g++,v.charCodeAt(0))),Array.from(f,v=>b.setUint8(g++,v.charCodeAt(0)));var w=new Uint8Array(h.byteLength+n.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(n),h.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,a,l]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+o));l=l+o;const f=n.decode(t.slice(l,l+i));l=l+i;const p=t.slice(l,t.byteLength),h=a===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,b={type:this.BROADCAST_EVENT,event:d,payload:h};return i>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Cx{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ne||(Ne={}));const Rg=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=FT(i,e,t,s),o),{}):{}},FT=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Nx(o,i):bf(i)},Nx=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WT(t,r)}switch(e){case Ne.bool:return UT(t);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return BT(t);case Ne.json:case Ne.jsonb:return zT(t);case Ne.timestamp:return VT(t);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return bf(t);default:return bf(t)}},bf=e=>e,UT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},WT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Nx(t,a))}return e},VT=e=>typeof e=="string"?e.replace(" ","T"):e,jx=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Wu{constructor(t,r,n={},s=wf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Og;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Og||(Og={}));class Li{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Li.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Li.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Li.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},l={};return this.map(o,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const p=d.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),b=d.filter(w=>h.indexOf(w.presence_ref)<0),g=f.filter(w=>p.indexOf(w.presence_ref)<0);b.length>0&&(a[u]=b),g.length>0&&(l[u]=g)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);t[a].unshift(...p)}n(a,d,l)}),this.map(i,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ag;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ag||(Ag={}));var $i;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($i||($i={}));var Fr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fr||(Fr={}));class co{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wu(this,dr.join,this.params,this.timeout),this.rejoinTimer=new Cx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Li(this),this.broadcastEndpointURL=jx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[$i.PRESENCE]&&this.bindings[$i.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Fr.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Fr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(Fr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,v=[];for(let y=0;y<w;y++){const x=g[y],{filter:{event:_,schema:C,table:N,filter:j}}=x,P=h&&h[y];if(P&&P.event===_&&co.isFilterValueEqual(P.schema,C)&&co.isFilterValueEqual(P.table,N)&&co.isFilterValueEqual(P.filter,j))v.push(Object.assign(Object.assign({},x),{id:P.id}));else{this.unsubscribe(),this.state=Qe.errored,t==null||t(Fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Fr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Qe.errored,t==null||t(Fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Qe.joined&&t===$i.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Wu(this,dr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>LT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=dr;if(n&&[a,l,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var b,g,w;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(g=h.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(h=>h.callback(p,n)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var b,g,w,v,y,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){const _=h.id,C=(b=h.filter)===null||b===void 0?void 0:b.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(y=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:g,table:w,commit_timestamp:v,type:y,errors:x}=b;p=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:v,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(b))}h.callback(p,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&co.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dr.close,{},t)}_onError(t){this._on(dr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rg(t.columns,t.old_record)),r}}const Vu=()=>{},tl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HT=[1e3,2e3,5e3,1e4],qT=1e4,KT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GT{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wf,this.transport=null,this.heartbeatIntervalMs=tl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vu,this.ref=0,this.reconnectTimer=null,this.vsn=Pg,this.logger=Vu,this.conn=null,this.sendBuffer=[],this.serializer=new $T,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xf.websocket}`,this.httpEndpoint=jx(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=OT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hn.connecting:return ts.Connecting;case hn.open:return ts.Open;case hn.closing:return ts.Closing;default:return ts.Closed}}isConnected(){return this.connectionState()===ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new co(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(DT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},tl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===hn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hn.open||this.conn.readyState===hn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(dr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([KT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:IT};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(dr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Cx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,l,u,d,f,p,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:wf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:tl.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Vu,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Pg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>HT[b-1]||qT,this.vsn){case kx:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,g)=>g(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,g)=>g(JSON.parse(b));break;case MT:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ua=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QT(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function YT(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JT(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=QT(e.baseUrl,n,s),l=await YT(e.auth),u=await t(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...l,...i},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),p=f&&d?JSON.parse(d):d;if(!u.ok){const h=f?p:void 0,b=h==null?void 0:h.error;throw new ua((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:h})}return{status:u.status,headers:u.headers,data:p}}}}function rl(e){return e.join("")}var XT=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:rl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rl(e.namespace)}`}),!0}catch(t){if(t instanceof ua&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ua&&r.status===409)return;throw r}}};function Ds(e){return e.join("")}var ZT=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ds(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ds(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ds(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ds(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ua&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ua&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},eP=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JT({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new XT(this.client,t),this.tableOps=new ZT(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Kc=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var tP=class extends Kc{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_f=class extends Kc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const op=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rP=()=>Response,Sf=e=>{if(Array.isArray(e))return e.map(r=>Sf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Sf(n)}),t},nP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sP=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function da(e){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(e)}function oP(e,t){if(da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iP(e){var t=oP(e,"string");return da(t)=="symbol"?t:t+""}function aP(e,t,r){return(t=iP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ig(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ig(Object(r),!0).forEach(function(n){aP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ig(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Hu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lP=async(e,t,r)=>{e instanceof await rP()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,o=(n==null?void 0:n.statusCode)||s+"";t(new tP(Hu(n),s,o))}).catch(n=>{t(new _f(Hu(n),n))}):t(new _f(Hu(e),e))},cP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(nP(n)?(s.headers=ae({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),ae(ae({},s),r))};async function ja(e,t,r,n,s,o){return new Promise((i,a)=>{e(r,cP(t,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>lP(l,a,n))})}async function fa(e,t,r,n){return ja(e,"GET",t,r,n)}async function ar(e,t,r,n,s){return ja(e,"POST",t,n,s,r)}async function Ef(e,t,r,n,s){return ja(e,"PUT",t,n,s,r)}async function uP(e,t,r,n){return ja(e,"HEAD",t,ae(ae({},r),{},{noResolveJson:!0}),n)}async function ip(e,t,r,n,s){return ja(e,"DELETE",t,n,s,r)}var dP=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Le(t))return{data:null,error:t};throw t}}};let Tx;Tx=Symbol.toStringTag;var fP=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Tx]="BlobDownloadBuilder",this.promise=null}asStream(){return new dP(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Le(t))return{data:null,error:t};throw t}}};const hP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var pP=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=op(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let o;const i=ae(ae({},Mg),n);let a=ae(ae({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",s.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(a=ae(ae({},a),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Ef:ar)(s.fetch,`${s.url}/object/${d}`,o,ae({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let l;const u=ae({upsert:Mg.upsert},n),d=ae(ae({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await Ef(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=ae({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await ar(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),a=i.searchParams.get("token");if(!a)throw new Kc("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ar(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await ar(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),o=await ar(n.fetch,`${n.url}/object/sign/${s}`,ae({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await ar(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>ae(ae({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(e),i=()=>fa(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new fP(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Sf(await fa(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await uP(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Le(n)&&n instanceof _f){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await ip(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=ae(ae(ae({},hP),t),{},{prefix:e||""});return{data:await ar(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=ae({},e);return{data:await ar(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Px="2.89.0",Rx={"X-Client-Info":`storage-js/${Px}`};var mP=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ae(ae({},Rx),t),this.fetch=op(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await fa(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await fa(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ar(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Ef(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ar(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ip(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},gP=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ae(ae({},Rx),t),this.fetch=op(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ar(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await fa(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ip(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!sP(e))throw new Kc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new eP({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const ap={"X-Client-Info":`storage-js/${Px}`,"Content-Type":"application/json"};var Ox=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function It(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var qu=class extends Ox{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vP=class extends Ox{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const lp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wP=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";t(new qu(Dg(o),n,i))}).catch(()=>{const o=n+"";t(new qu(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";t(new qu(s.statusText||`HTTP ${n} error`,n,o))}}else t(new vP(Dg(e),e))},xP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(yP(n)?(s.headers=ae({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,ae(ae({},s),r)):s};async function bP(e,t,r,n,s,o){return new Promise((i,a)=>{e(r,xP(t,n,s,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>wP(l,a,n))})}async function Mt(e,t,r,n,s){return bP(e,"POST",t,n,s,r)}var _P=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ae(ae({},ap),t),this.fetch=lp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}},SP=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ae(ae({},ap),t),this.fetch=lp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Mt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Mt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Mt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}},EP=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ae(ae({},ap),t),this.fetch=lp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Mt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}},kP=class extends EP{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new CP(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},CP=class extends _P{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new NP(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},NP=class extends SP{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},jP=class extends mP{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new pP(this.url,this.headers,e,this.fetch)}get vectors(){return new kP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gP(this.url+"/iceberg",this.headers,this.fetch)}};const Ax="2.89.0",Ks=30*1e3,kf=3,Ku=kf*Ks,TP="http://localhost:9999",PP="supabase.auth.token",RP={"X-Client-Info":`gotrue-js/${Ax}`},Cf="X-Supabase-Api-Version",Ix={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AP=10*60*1e3;class ha extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IP extends ha{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function MP(e){return X(e)&&e.name==="AuthApiError"}class rs extends ha{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zr extends ha{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Rt extends Zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DP(e){return X(e)&&e.name==="AuthSessionMissingError"}class Ls extends Zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nl extends Zr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sl extends Zr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LP(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lg extends Zr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $P extends Zr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nf extends Zr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Gu(e){return X(e)&&e.name==="AuthRetryableFetchError"}class $g extends Zr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jf extends Zr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fg=` 	
\r=`.split(""),FP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fg.length;t+=1)e[Fg[t].charCodeAt(0)]=-2;for(let t=0;t<lc.length;t+=1)e[lc[t].charCodeAt(0)]=t;return e})();function Ug(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lc[n]),t.queuedBits-=6}}function Mx(e,t,r){const n=FP[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bg(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{zP(i,n,r)};for(let i=0;i<e.length;i+=1)Mx(e.charCodeAt(i),s,o);return t.join("")}function UP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BP(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}UP(n,t)}}function zP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _o(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Mx(e.charCodeAt(s),r,n);return new Uint8Array(t)}function WP(e){const t=[];return BP(e,r=>t.push(r)),new Uint8Array(t)}function is(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ug(s,r,n)),Ug(null,r,n),t.join("")}function VP(e){return Math.round(Date.now()/1e3)+e}function HP(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",Gn={tested:!1,writable:!1},Dx=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gn.tested)return Gn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gn.tested=!0,Gn.writable=!0}catch{Gn.tested=!0,Gn.writable=!1}return Gn.writable};function qP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Lx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},st=async(e,t)=>{await e.removeItem(t)};class Gc{constructor(){this.promise=new Gc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gc.promiseConstructor=Promise;function Qu(e){const t=e.split(".");if(t.length!==3)throw new jf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!OP.test(t[n]))throw new jf("JWT not in base64url format");return{header:JSON.parse(Bg(t[0])),payload:JSON.parse(Bg(t[1])),signature:_o(t[2]),raw:{header:t[0],payload:t[1]}}}async function GP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QP(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function YP(e){return("0"+e.toString(16)).substr(-2)}function JP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,YP).join("")}async function XP(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function ZP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await XP(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(e,t,r=!1){const n=JP();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Gs(e,`${t}-code-verifier`,s);const o=await ZP(n);return[o,n===o?"plain":"s256"]}const eR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tR(e){const t=e.headers.get(Cf);if(!t||!t.match(eR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(e){if(!sR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oR(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function zg(e){return JSON.parse(JSON.stringify(e))}const Zn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iR=[502,503,504];async function Wg(e){var t;if(!KP(e))throw new Nf(Zn(e),0);if(iR.includes(e.status))throw new Nf(Zn(e),e.status);let r;try{r=await e.json()}catch(o){throw new rs(Zn(o),o)}let n;const s=tR(e);if(s&&s.getTime()>=Ix["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $g(Zn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new $g(Zn(r),e.status,r.weak_password.reasons);throw new IP(Zn(r),e.status||500,n)}const aR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ie(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Cf]||(o[Cf]=Ix["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await lR(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function lR(e,t,r,n,s,o){const i=aR(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Nf(Zn(l),0)}if(a.ok||await Wg(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Wg(l)}}function rr(e){var t;let r=null;dR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=VP(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Vg(e){const t=rr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function cR(e){return{data:e,error:null}}function uR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=ni(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Hg(e){return e}function dR(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ju=["global","local","others"];class fR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Lx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ju[0]){if(Ju.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gn})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ni(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:uR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Hg});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fs(t);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gn})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fs(t);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gn})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fs(t);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gn})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fs(t.userId);try{const{data:r,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fs(t.userId),Fs(t.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Hg});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}}function qg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Us={debug:!!(globalThis&&Dx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $x extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hR extends $x{}async function pR(e,t,r){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Us.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function gR(e){return parseInt(e,16)}function vR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function yR(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:u,scheme:d,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=Fx(e.address),b=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${h}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}v+=y}return`${w}
${v}`}class Ke extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class cc extends Ke{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function wR({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Ux(i)){if(o.rp.id!==i)return new Ke({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function xR({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Ux(n)){if(r.rpId!==n)return new Ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class bR{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _R=new bR;function SR(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ni(e,["challenge","user","excludeCredentials"]),o=_o(t).buffer,i=Object.assign(Object.assign({},r),{id:_o(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:_o(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function ER(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ni(e,["challenge","allowCredentials"]),s=_o(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:_o(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function kR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:is(new Uint8Array(e.response.attestationObject)),clientDataJSON:is(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CR(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:is(new Uint8Array(s.authenticatorData)),clientDataJSON:is(new Uint8Array(s.clientDataJSON)),signature:is(new Uint8Array(s.signature)),userHandle:s.userHandle?is(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ux(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Kg(){var e,t;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function NR(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cc("Browser returned unexpected credential type",t)}:{data:null,error:new cc("Empty credential response",t)}}catch(t){return{data:null,error:wR({error:t,options:e})}}}async function jR(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cc("Browser returned unexpected credential type",t)}:{data:null,error:new cc("Empty credential response",t)}}catch(t){return{data:null,error:xR({error:t,options:e})}}}const TR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=uc(a,i):n[o]=uc(i)}else n[o]=i}return n}function RR(e,t){return uc(TR,e,t||{})}function OR(e,t){return uc(PR,e,t||{})}class AR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:a};const l=s??_R.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=RR(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await NR({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=OR(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await jR(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return X(i)?{data:null,error:i}:{data:null,error:new rs("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ha("rpId is required for WebAuthn authentication")};try{if(!Kg())return{data:null,error:new rs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return X(i)?{data:null,error:i}:{data:null,error:new rs("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ha("rpId is required for WebAuthn registration")};try{if(!Kg())return{data:null,error:new rs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(i){return X(i)?{data:null,error:i}:{data:null,error:new rs("Unexpected error in register",i)}}}}mR();const IR={url:TP,storageKey:PP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Gg(e,t,r){return await r()}const Bs={};class pa{get jwks(){var t,r;return(r=(t=Bs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Bs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},IR),t);if(this.storageKey=o.storageKey,this.instanceID=(r=pa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ot()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new fR({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Lx(o.fetch),this.lock=o.lock||Gg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pR:this.lock=Gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Dx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=qg(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ax}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ot()&&(r=qP(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ot()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),LP(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?this._returnResult({error:r}):this._returnResult({error:new rs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:rr}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(X(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await $s(this.storage,this.storageKey)),o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:b},xform:rr})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:rr})}else throw new nl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await st(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await st(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vg})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vg})}else throw new nl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Ls;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,l,u,d,f,p;let h,b;if("message"in t)h=t.message,b=t.signature;else{const{chain:g,wallet:w,statement:v,options:y}=t;let x;if(ot())if(typeof w=="object")x=w;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")x=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),C=await x.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Fx(C[0]);let j=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const D=await x.request({method:"eth_chainId"});j=gR(D)}const P={domain:_.host,address:N,statement:v,uri:_.href,version:"1",chainId:j,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=yR(P),b=await x.request({method:"personal_sign",params:[vR(h),N]})}try{const{data:g,error:w}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:rr});if(w)throw w;if(!g||!g.session||!g.user){const v=new Ls;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:w})}catch(g){if(X(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,o,i,a,l,u,d,f,p,h;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:w,wallet:v,statement:y,options:x}=t;let _;if(ot())if(typeof v=="object")_=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const C=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),y?{statement:y}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:w,error:v}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:is(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rr});if(v)throw v;if(!w||!w.session||!w.user){const y=new Ls;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(X(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Qn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new $P;const{data:o,error:i}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rr});if(await st(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new Ls;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await st(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rr}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Ls;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $s(this.storage,this.storageKey));const{error:f}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new nl("You must provide either an email or phone number.")}catch(a){if(await st(this.storage,`${this.storageKey}-code-verifier`),X(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:rr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await $s(this.storage,this.storageKey));const u=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:cR});return!((o=u.data)===null||o===void 0)&&o.url&&ot()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await st(this.storage,`${this.storageKey}-code-verifier`),X(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Rt;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(X(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new nl("You must provide either an email or phone number and a type")}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ku:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Qn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Yu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=oR(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:gn})})}catch(r){if(X(r))return DP(r)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Rt;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await $s(this.storage,this.storageKey));const{data:u,error:d}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:gn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await st(this.storage,`${this.storageKey}-code-verifier`),X(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rt;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Qu(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(X(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Rt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ot())throw new sl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new sl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lg("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=t;if(!o||!a||!i||!u)throw new sl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const b=p-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:g,error:w}=await this._getUser(o);if(w)throw w;const v={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(X(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(MP(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=HP(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await $s(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await st(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,u,d;const{data:f,error:p}=o;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ot()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(X(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:l,access_token:u,nonce:d}=t,f=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:rr}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ls}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(s){if(await st(this.storage,`${this.storageKey}-code-verifier`),X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await QP(async s=>(s>0&&await GP(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Gu(o)&&Date.now()+i-n<Ks})}catch(n){if(this._debug(r,"error",n),X(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ot()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Qn(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Gs(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Yu()}else if(s&&!s.user&&!s.user){const i=await Qn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await st(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,s)):s.user=Yu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ku;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Ku}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Gu(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Rt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),X(o)){const i={data:null,error:o};return Gu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await st(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=zg(s);await Gs(this.storage,this.storageKey,o)}else{const s=zg(r);await Gs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await st(this.storage,this.storageKey),await st(this.storage,this.storageKey+"-code-verifier"),await st(this.storage,this.storageKey+"-user"),this.userStorage&&await st(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ks}ms, refresh threshold is ${kf} ticks`),s<=kf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $x)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await $s(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kR(t.webauthn.credential_response):CR(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:SR(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ER(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Qu(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Rt});const i=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&ot()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Rt});const i=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&ot()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(t){if(X(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+AP>s)return n;const{data:o,error:i}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:b}=await this.getSession();if(b||!h.session)return this._returnResult({data:null,error:b});n=h.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=Qu(n);r!=null&&r.allowExpired||rR(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:o,header:s,signature:i},error:null}}const d=nR(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,WP(`${a}.${l}`)))throw new jf("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}}pa.nextInstanceID={};const MR=pa,DR="2.89.0";let Si="";typeof Deno<"u"?Si="deno":typeof document<"u"?Si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Si="react-native":Si="node";const LR={"X-Client-Info":`supabase-js-${Si}/${DR}`},$R={headers:LR},FR={schema:"public"},UR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BR={};function ma(e){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(e)}function zR(e,t){if(ma(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WR(e){var t=zR(e,"string");return ma(t)=="symbol"?t:t+""}function VR(e,t,r){return(t=WR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qg(Object(r),!0).forEach(function(n){VR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const HR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qR=()=>Headers,KR=(e,t,r)=>{const n=HR(r),s=qR();return async(o,i)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,We(We({},i),{},{headers:u}))}};function GR(e){return e.endsWith("/")?e:e+"/"}function QR(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:u,realtime:d,global:f}=t,p={db:We(We({},l),s),auth:We(We({},u),o),realtime:We(We({},d),i),storage:{},global:We(We(We({},f),a),{},{headers:We(We({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function YR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(GR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var JR=class extends MR{constructor(e){super(e)}},XR=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=YR(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:FR,realtime:BR,auth:We(We({},UR),{},{storageKey:i}),global:$R},l=QR(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=KR(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(We({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new RT(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new jP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new CT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:a,debug:l,throwOnError:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JR({url:this.authUrl.href,headers:We(We({},p),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:a,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new GT(this.realtimeUrl.href,We(We({},e),{},{params:We(We({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ZR=(e,t,r)=>new XR(e,t,r);function eO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}eO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tO="https://pzgducllusfqkqsutswp.supabase.co",rO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB6Z2R1Y2xsdXNmcWtxc3V0c3dwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5ODIzMDgsImV4cCI6MjA4MjU1ODMwOH0.Nip4J1I__-1Dykffo1I5FndKvWiK6UzTyHJIba-Ewfc",fe=ZR(tO,rO,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Bx=m.createContext(void 0);function nO({children:e}){const[t,r]=m.useState(null),[n,s]=m.useState(null),[o,i]=m.useState(null),[a,l]=m.useState(!0),{toast:u}=$0(),d=async g=>{const{data:w,error:v}=await fe.from("profiles").select("*").eq("id",g).single();return v?(console.error("Error fetching profile:",v),null):w},f=async()=>{if(t){const g=await d(t.id);i(g)}};m.useEffect(()=>{const{data:{subscription:g}}=fe.auth.onAuthStateChange((w,v)=>{s(v),r((v==null?void 0:v.user)??null),v!=null&&v.user?setTimeout(()=>{d(v.user.id).then(i)},0):i(null)});return fe.auth.getSession().then(({data:{session:w}})=>{s(w),r((w==null?void 0:w.user)??null),w!=null&&w.user?d(w.user.id).then(v=>{i(v),l(!1)}):l(!1)}),()=>g.unsubscribe()},[]);const p=async(g,w,v,y)=>{const x=`${window.location.origin}/`,{error:_}=await fe.auth.signUp({email:g,password:w,options:{emailRedirectTo:x,data:{username:v,role:y}}});return _?(u({title:"Sign Up Failed",description:_.message,variant:"destructive"}),{error:_}):(u({title:"Welcome to Project Aether!",description:"Your account has been created successfully."}),{error:null})},h=async(g,w)=>{const{error:v}=await fe.auth.signInWithPassword({email:g,password:w});return v?(u({title:"Sign In Failed",description:v.message,variant:"destructive"}),{error:v}):(u({title:"Welcome Back!",description:"You've successfully logged in."}),{error:null})},b=async()=>{await fe.auth.signOut(),i(null),u({title:"Logged Out",description:"You've been signed out successfully."})};return c.jsx(Bx.Provider,{value:{user:t,session:n,profile:o,loading:a,signUp:p,signIn:h,signOut:b,refreshProfile:f},children:e})}function Vn(){const e=m.useContext(Bx);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var sO=Symbol.for("react.lazy"),dc=gc[" use ".trim().toString()];function oO(e){return typeof e=="object"&&e!==null&&"then"in e}function zx(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===sO&&"_payload"in e&&oO(e._payload)}function Wx(e){const t=aO(e),r=m.forwardRef((n,s)=>{let{children:o,...i}=n;zx(o)&&typeof dc=="function"&&(o=dc(o._payload));const a=m.Children.toArray(o),l=a.find(cO);if(l){const u=l.props.children,d=a.map(f=>f===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var iO=Wx("Slot");function aO(e){const t=m.forwardRef((r,n)=>{let{children:s,...o}=r;if(zx(s)&&typeof dc=="function"&&(s=dc(s._payload)),m.isValidElement(s)){const i=dO(s),a=uO(o,s.props);return s.type!==m.Fragment&&(a.ref=n?Ih(n,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lO=Symbol("radix.slottable");function cO(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lO}function uO(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function dO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const fO=Fh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-2xl text-base font-bold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-[0_4px_0_hsl(210_100%_40%)] hover:shadow-[0_6px_0_hsl(210_100%_40%)] hover:-translate-y-0.5 active:shadow-[0_2px_0_hsl(210_100%_40%)] active:translate-y-0.5",destructive:"bg-destructive text-destructive-foreground shadow-[0_4px_0_hsl(0_60%_45%)] hover:shadow-[0_6px_0_hsl(0_60%_45%)] hover:-translate-y-0.5 active:shadow-[0_2px_0_hsl(0_60%_45%)] active:translate-y-0.5",outline:"border-2 border-primary bg-background text-primary hover:bg-primary/10 shadow-[0_4px_0_hsl(var(--primary)/0.3)] hover:shadow-[0_6px_0_hsl(var(--primary)/0.3)] hover:-translate-y-0.5 active:shadow-[0_2px_0_hsl(var(--primary)/0.3)] active:translate-y-0.5",secondary:"bg-secondary text-secondary-foreground border-2 border-secondary-foreground/20 shadow-[0_4px_0_hsl(270_40%_70%)] hover:shadow-[0_6px_0_hsl(270_40%_70%)] hover:-translate-y-0.5 active:shadow-[0_2px_0_hsl(270_40%_70%)] active:translate-y-0.5",ghost:"text-foreground hover:bg-secondary hover:text-primary rounded-xl",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-white shadow-[0_4px_0_hsl(145_70%_35%)] hover:shadow-[0_6px_0_hsl(145_70%_35%)] hover:-translate-y-0.5 active:shadow-[0_2px_0_hsl(145_70%_35%)] active:translate-y-0.5",coin:"bg-gradient-to-r from-coin to-fun-orange text-amber-900 font-display shadow-coin hover:-translate-y-0.5 active:translate-y-0.5",fun:"bg-gradient-to-r from-fun-pink to-accent text-white shadow-[0_4px_0_hsl(280_70%_50%)] hover:shadow-[0_6px_0_hsl(280_70%_50%)] hover:-translate-y-0.5 active:shadow-[0_2px_0_hsl(280_70%_50%)] active:translate-y-0.5"},size:{default:"h-12 px-6 py-3",sm:"h-10 rounded-xl px-4 text-sm",lg:"h-14 rounded-2xl px-8 text-lg",xl:"h-16 rounded-3xl px-10 text-xl",icon:"h-12 w-12 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),Oe=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?iO:"button";return c.jsx(i,{className:se(fO({variant:t,size:r,className:e})),ref:o,...s})});Oe.displayName="Button";const Lt=m.forwardRef(({className:e,type:t,...r},n)=>c.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Lt.displayName="Input";var hO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pO=hO.reduce((e,t)=>{const r=Wx(`Primitive.${t}`),n=m.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),mO="Label",Vx=m.forwardRef((e,t)=>c.jsx(pO.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Vx.displayName=mO;var Hx=Vx;const gO=Fh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=m.forwardRef(({className:e,...t},r)=>c.jsx(Hx,{ref:r,className:se(gO(),e),...t}));Fe.displayName=Hx.displayName;var Xu="focusScope.autoFocusOnMount",Zu="focusScope.autoFocusOnUnmount",Yg={bubbles:!1,cancelable:!0},vO="FocusScope",cp=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=m.useState(null),u=Yt(s),d=Yt(o),f=m.useRef(null),p=_e(t,g=>l(g)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(x){if(h.paused||!a)return;const _=x.target;a.contains(_)?f.current=_:un(f.current,{select:!0})},w=function(x){if(h.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||un(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&un(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),y.disconnect()}}},[n,a,h.paused]),m.useEffect(()=>{if(a){Xg.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Xu,Yg);a.addEventListener(Xu,u),a.dispatchEvent(v),v.defaultPrevented||(yO(SO(qx(a)),{select:!0}),document.activeElement===g&&un(a))}return()=>{a.removeEventListener(Xu,u),setTimeout(()=>{const v=new CustomEvent(Zu,Yg);a.addEventListener(Zu,d),a.dispatchEvent(v),v.defaultPrevented||un(g??document.body,{select:!0}),a.removeEventListener(Zu,d),Xg.remove(h)},0)}}},[a,u,d,h]);const b=m.useCallback(g=>{if(!r&&!n||h.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const y=g.currentTarget,[x,_]=wO(y);x&&_?!g.shiftKey&&v===_?(g.preventDefault(),r&&un(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),r&&un(_,{select:!0})):v===y&&g.preventDefault()}},[r,n,h.paused]);return c.jsx(ue.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});cp.displayName=vO;function yO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(un(n,{select:t}),document.activeElement!==r)return}function wO(e){const t=qx(e),r=Jg(t,e),n=Jg(t.reverse(),e);return[r,n]}function qx(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jg(e,t){for(const r of e)if(!xO(r,{upTo:t}))return r}function xO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bO(e){return e instanceof HTMLInputElement&&"select"in e}function un(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&bO(e)&&t&&e.select()}}var Xg=_O();function _O(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Zg(e,t),e.unshift(t)},remove(t){var r;e=Zg(e,t),(r=e[0])==null||r.resume()}}}function Zg(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function SO(e){return e.filter(t=>t.tagName!=="A")}var ed=0;function Kx(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ev()),document.body.insertAdjacentElement("beforeend",e[1]??ev()),ed++,()=>{ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ed--}},[])}function ev(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tl="right-scroll-bar-position",Pl="width-before-scroll-bar",EO="with-scroll-bars-hidden",kO="--removed-body-scroll-bar-size";function td(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CO(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var NO=typeof window<"u"?m.useLayoutEffect:m.useEffect,tv=new WeakMap;function jO(e,t){var r=CO(null,function(n){return e.forEach(function(s){return td(s,n)})});return NO(function(){var n=tv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||td(a,null)}),o.forEach(function(a){s.has(a)||td(a,i)})}tv.set(r,e)},[e]),r}function TO(e){return e}function PO(e,t){t===void 0&&(t=TO);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function RO(e){e===void 0&&(e={});var t=PO(null);return t.options=Nr({async:!0,ssr:!1},e),t}var Gx=function(e){var t=e.sideCar,r=ni(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Nr({},r))};Gx.isSideCarExport=!0;function OO(e,t){return e.useMedium(t),Gx}var Qx=RO(),rd=function(){},Qc=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:rd,onWheelCapture:rd,onTouchMoveCapture:rd}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,b=e.noIsolation,g=e.inert,w=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,x=e.gapMode,_=ni(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,N=jO([r,t]),j=Nr(Nr({},_),s);return m.createElement(m.Fragment,null,d&&m.createElement(C,{sideCar:Qx,removeScrollBar:u,shards:f,noRelative:h,noIsolation:b,inert:g,setCallbacks:o,allowPinchZoom:!!w,lockRef:r,gapMode:x}),i?m.cloneElement(m.Children.only(a),Nr(Nr({},j),{ref:N})):m.createElement(y,Nr({},j,{className:l,ref:N}),a))});Qc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qc.classNames={fullWidth:Pl,zeroRight:Tl};var AO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AO();return t&&e.setAttribute("nonce",t),e}function MO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=IO())&&(MO(t,r),DO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$O=function(){var e=LO();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Yx=function(){var e=$O(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},FO={left:0,top:0,right:0,gap:0},nd=function(e){return parseInt(e||"",10)||0},UO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[nd(r),nd(n),nd(s)]},BO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FO;var t=UO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},zO=Yx(),So="data-scroll-locked",WO=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(EO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Pl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Tl," .").concat(Tl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pl," .").concat(Pl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(So,`] {
    `).concat(kO,": ").concat(a,`px;
  }
`)},rv=function(){var e=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(e)?e:0},VO=function(){m.useEffect(function(){return document.body.setAttribute(So,(rv()+1).toString()),function(){var e=rv()-1;e<=0?document.body.removeAttribute(So):document.body.setAttribute(So,e.toString())}},[])},HO=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;VO();var o=m.useMemo(function(){return BO(s)},[s]);return m.createElement(zO,{styles:WO(o,!t,s,r?"":"!important")})},Tf=!1;if(typeof window<"u")try{var ol=Object.defineProperty({},"passive",{get:function(){return Tf=!0,!0}});window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Tf=!1}var zs=Tf?{passive:!1}:!1,qO=function(e){return e.tagName==="TEXTAREA"},Jx=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!qO(e)&&r[t]==="visible")},KO=function(e){return Jx(e,"overflowY")},GO=function(e){return Jx(e,"overflowX")},nv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Xx(e,n);if(s){var o=Zx(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},QO=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},YO=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Xx=function(e,t){return e==="v"?KO(t):GO(t)},Zx=function(e,t){return e==="v"?QO(t):YO(t)},JO=function(e,t){return e==="h"&&t==="rtl"?-1:1},XO=function(e,t,r,n,s){var o=JO(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,l=t.contains(a),u=!1,d=i>0,f=0,p=0;do{if(!a)break;var h=Zx(e,a),b=h[0],g=h[1],w=h[2],v=g-w-o*b;(b||v)&&Xx(e,a)&&(f+=v,p+=b);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},il=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sv=function(e){return[e.deltaX,e.deltaY]},ov=function(e){return e&&"current"in e?e.current:e},ZO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tA=0,Ws=[];function rA(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(tA++)[0],o=m.useState(Yx)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=ST([e.lockRef.current],(e.shards||[]).map(ov),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=il(g),y=r.current,x="deltaX"in g?g.deltaX:y[0]-v[0],_="deltaY"in g?g.deltaY:y[1]-v[1],C,N=g.target,j=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in g&&j==="h"&&N.type==="range")return!1;var P=window.getSelection(),D=P&&P.anchorNode,I=D?D===N||D.contains(N):!1;if(I)return!1;var U=nv(j,N);if(!U)return!0;if(U?C=j:(C=j==="v"?"h":"v",U=nv(j,N)),!U)return!1;if(!n.current&&"changedTouches"in g&&(x||_)&&(n.current=C),!C)return!0;var B=n.current||C;return XO(B,w,g,B==="h"?x:_)},[]),l=m.useCallback(function(g){var w=g;if(!(!Ws.length||Ws[Ws.length-1]!==o)){var v="deltaY"in w?sv(w):il(w),y=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&ZO(C.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var x=(i.current.shards||[]).map(ov).filter(Boolean).filter(function(C){return C.contains(w.target)}),_=x.length>0?a(w,x[0]):!i.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(g,w,v,y){var x={name:g,delta:w,target:v,should:y,shadowParent:nA(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=m.useCallback(function(g){r.current=il(g),n.current=void 0},[]),f=m.useCallback(function(g){u(g.type,sv(g),g.target,a(g,e.lockRef.current))},[]),p=m.useCallback(function(g){u(g.type,il(g),g.target,a(g,e.lockRef.current))},[]);m.useEffect(function(){return Ws.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,zs),document.addEventListener("touchmove",l,zs),document.addEventListener("touchstart",d,zs),function(){Ws=Ws.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,zs),document.removeEventListener("touchmove",l,zs),document.removeEventListener("touchstart",d,zs)}},[]);var h=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(o,{styles:eA(s)}):null,h?m.createElement(HO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nA(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sA=OO(Qx,rA);var up=m.forwardRef(function(e,t){return m.createElement(Qc,Nr({},e,{ref:t,sideCar:sA}))});up.classNames=Qc.classNames;var oA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vs=new WeakMap,al=new WeakMap,ll={},sd=0,eb=function(e){return e&&(e.host||eb(e.parentNode))},iA=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=eb(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},aA=function(e,t,r,n){var s=iA(t,Array.isArray(e)?e:[e]);ll[r]||(ll[r]=new WeakMap);var o=ll[r],i=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var h=p.getAttribute(n),b=h!==null&&h!=="false",g=(Vs.get(p)||0)+1,w=(o.get(p)||0)+1;Vs.set(p,g),o.set(p,w),i.push(p),g===1&&b&&al.set(p,!0),w===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(t),a.clear(),sd++,function(){i.forEach(function(f){var p=Vs.get(f)-1,h=o.get(f)-1;Vs.set(f,p),o.set(f,h),p||(al.has(f)||f.removeAttribute(n),al.delete(f)),h||f.removeAttribute(r)}),sd--,sd||(Vs=new WeakMap,Vs=new WeakMap,al=new WeakMap,ll={})}},tb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=oA(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),aA(n,s,r,"aria-hidden")):function(){return null}},Yc="Dialog",[rb]=yr(Yc),[lA,wr]=rb(Yc),nb=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=m.useRef(null),l=m.useRef(null),[u,d]=Ln({prop:n,defaultProp:s??!1,onChange:o,caller:Yc});return c.jsx(lA,{scope:t,triggerRef:a,contentRef:l,contentId:In(),titleId:In(),descriptionId:In(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};nb.displayName=Yc;var sb="DialogTrigger",ob=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(sb,r),o=_e(t,s.triggerRef);return c.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hp(s.open),...n,ref:o,onClick:ne(e.onClick,s.onOpenToggle)})});ob.displayName=sb;var dp="DialogPortal",[cA,ib]=rb(dp,{forceMount:void 0}),ab=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=wr(dp,t);return c.jsx(cA,{scope:t,forceMount:r,children:m.Children.map(n,i=>c.jsx(Wn,{present:r||o.open,children:c.jsx(Oc,{asChild:!0,container:s,children:i})}))})};ab.displayName=dp;var fc="DialogOverlay",lb=m.forwardRef((e,t)=>{const r=ib(fc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=wr(fc,e.__scopeDialog);return o.modal?c.jsx(Wn,{present:n||o.open,children:c.jsx(dA,{...s,ref:t})}):null});lb.displayName=fc;var uA=ra("DialogOverlay.RemoveScroll"),dA=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(fc,r);return c.jsx(up,{as:uA,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ue.div,{"data-state":hp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Cs="DialogContent",cb=m.forwardRef((e,t)=>{const r=ib(Cs,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=wr(Cs,e.__scopeDialog);return c.jsx(Wn,{present:n||o.open,children:o.modal?c.jsx(fA,{...s,ref:t}):c.jsx(hA,{...s,ref:t})})});cb.displayName=Cs;var fA=m.forwardRef((e,t)=>{const r=wr(Cs,e.__scopeDialog),n=m.useRef(null),s=_e(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return tb(o)},[]),c.jsx(ub,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,o=>o.preventDefault())})}),hA=m.forwardRef((e,t)=>{const r=wr(Cs,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return c.jsx(ub,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),ub=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=wr(Cs,r),l=m.useRef(null),u=_e(t,l);return Kx(),c.jsxs(c.Fragment,{children:[c.jsx(cp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(ka,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hp(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(pA,{titleId:a.titleId}),c.jsx(gA,{contentRef:l,descriptionId:a.descriptionId})]})]})}),fp="DialogTitle",db=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(fp,r);return c.jsx(ue.h2,{id:s.titleId,...n,ref:t})});db.displayName=fp;var fb="DialogDescription",hb=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(fb,r);return c.jsx(ue.p,{id:s.descriptionId,...n,ref:t})});hb.displayName=fb;var pb="DialogClose",mb=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=wr(pb,r);return c.jsx(ue.button,{type:"button",...n,ref:t,onClick:ne(e.onClick,()=>s.onOpenChange(!1))})});mb.displayName=pb;function hp(e){return e?"open":"closed"}var gb="DialogTitleWarning",[t5,vb]=ME(gb,{contentName:Cs,titleName:fp,docsSlug:"dialog"}),pA=({titleId:e})=>{const t=vb(gb),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mA="DialogDescriptionWarning",gA=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vb(mA).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},vA=nb,yA=ob,wA=ab,yb=lb,wb=cb,xb=db,bb=hb,xA=mb;const Eo=vA,ko=yA,bA=wA,_b=m.forwardRef(({className:e,...t},r)=>c.jsx(yb,{ref:r,className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_b.displayName=yb.displayName;const gs=m.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(bA,{children:[c.jsx(_b,{}),c.jsxs(wb,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,c.jsxs(xA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(yw,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gs.displayName=wb.displayName;const vs=({className:e,...t})=>c.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vs.displayName="DialogHeader";const ys=m.forwardRef(({className:e,...t},r)=>c.jsx(xb,{ref:r,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));ys.displayName=xb.displayName;const ws=m.forwardRef(({className:e,...t},r)=>c.jsx(bb,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));ws.displayName=bb.displayName;const _A=({balance:e,size:t="sm"})=>{const r=e.toLocaleString();return t==="lg"?c.jsxs("div",{className:"fun-card p-8 text-center relative overflow-visible",children:[c.jsx(Cl,{className:"absolute -top-3 -left-3 w-8 h-8 text-fun-yellow fill-fun-yellow animate-float"}),c.jsx(Cl,{className:"absolute -top-2 -right-4 w-6 h-6 text-fun-pink fill-fun-pink animate-float",style:{animationDelay:"0.5s"}}),c.jsx(Cl,{className:"absolute -bottom-2 left-1/4 w-5 h-5 text-primary fill-primary animate-float",style:{animationDelay:"1s"}}),c.jsx("p",{className:"text-sm text-muted-foreground font-display uppercase tracking-wider mb-3",children:"Your Treasure "}),c.jsxs("div",{className:"flex items-center justify-center gap-4",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-coin to-fun-orange flex items-center justify-center shadow-coin animate-bounce-in",children:c.jsx(Qr,{className:"w-10 h-10 text-amber-800"})}),c.jsx("span",{className:"text-6xl md:text-7xl font-display font-bold bg-gradient-to-r from-coin to-fun-orange bg-clip-text text-transparent",children:r})]}),c.jsx("p",{className:"text-muted-foreground mt-4 font-display text-lg",children:"Coins Ready to Spend! "})]}):c.jsxs("div",{className:"coin-display",children:[c.jsx(Qr,{className:"w-5 h-5"}),c.jsx("span",{className:"font-display text-lg",children:r})]})},SA=[{id:"youtube",name:"YouTube",cost:50,url:"https://youtube.com",icon:c.jsx(Gk,{className:"w-8 h-8"}),emoji:"",color:"bg-red-500"},{id:"roblox",name:"Roblox",cost:75,url:"https://roblox.com",icon:c.jsx(Lu,{className:"w-8 h-8"}),emoji:"",color:"bg-emerald-500"},{id:"minecraft",name:"Minecraft",cost:100,url:"https://minecraft.net",icon:c.jsx(Lu,{className:"w-8 h-8"}),emoji:"",color:"bg-green-600"},{id:"netflix",name:"Netflix",cost:60,url:"https://netflix.com",icon:c.jsx(Lk,{className:"w-8 h-8"}),emoji:"",color:"bg-rose-600"},{id:"disney",name:"Disney+",cost:55,url:"https://disneyplus.com",icon:c.jsx(Ik,{className:"w-8 h-8"}),emoji:"",color:"bg-blue-600"},{id:"twitch",name:"Twitch",cost:45,url:"https://twitch.tv",icon:c.jsx(Lu,{className:"w-8 h-8"}),emoji:"",color:"bg-purple-600"}],EA=()=>{const{profile:e,user:t,refreshProfile:r}=Vn(),[n,s]=m.useState(null),[o,i]=m.useState(null),[a,l]=m.useState(null);m.useEffect(()=>{t&&u()},[t]);const u=async()=>{if(!t)return;const{data:f}=await fe.from("family_links").select("spending_limit").eq("child_id",t.id).eq("status","active").maybeSingle();(f==null?void 0:f.spending_limit)!==void 0&&l(f.spending_limit)},d=async f=>{if(!(!e||!t)){if(e.balance<f.cost){s(f.id),he.error("Not enough coins",{description:`You need ${f.cost-e.balance} more coins for ${f.name}.`,icon:c.jsx(sf,{className:"w-5 h-5 text-destructive"})}),setTimeout(()=>s(null),500);return}if(a!==null&&f.cost>a){s(f.id),he.error("Spending limit exceeded",{description:`This costs ${f.cost} coins but your limit is ${a} coins per purchase.`,icon:c.jsx(qm,{className:"w-5 h-5 text-destructive"})}),setTimeout(()=>s(null),500);return}i(f.id);try{const{error:p}=await fe.from("transactions").insert({user_id:t.id,amount:f.cost,type:"spend",description:`Opened ${f.name}`});if(p)throw p;await r(),he.success("Have fun!",{description:`Opening ${f.name}...`,icon:c.jsx(Bm,{className:"w-5 h-5 text-primary"})}),window.open(f.url,"_blank")}catch(p){console.error("Purchase error:",p),he.error("Something went wrong")}finally{i(null)}}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center slide-up",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-foreground mb-2",children:"Shop"}),c.jsx("p",{className:"text-muted-foreground",children:"Spend your coins on fun activities!"}),a!==null&&c.jsxs("p",{className:"text-sm text-accent-foreground mt-2 flex items-center justify-center gap-2",children:[c.jsx(qm,{className:"w-4 h-4"}),"Max ",a," coins per purchase"]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:SA.map(f=>{const p=e&&e.balance>=f.cost;return c.jsxs("button",{onClick:()=>d(f),disabled:o===f.id||!p,className:se("clean-card group relative p-5 text-left transition-all duration-200",n===f.id&&"shake",!p&&"opacity-60"),children:[c.jsx("div",{className:se("w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-white transition-transform group-hover:scale-105",f.color),children:c.jsx("span",{className:"text-2xl",children:f.emoji})}),c.jsx("h3",{className:"text-lg font-display font-bold mb-3",children:f.name}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:se("flex items-center gap-2 px-3 py-1.5 rounded-full font-semibold",p?"bg-accent/20 text-accent-foreground":"bg-destructive/10 text-destructive"),children:[c.jsx(Qr,{className:"w-4 h-4"}),c.jsx("span",{children:f.cost})]}),p?c.jsx(Bm,{className:"w-5 h-5 text-primary opacity-0 group-hover:opacity-100 transition-opacity"}):c.jsx(sf,{className:"w-5 h-5 text-muted-foreground"})]}),!p&&c.jsxs("div",{className:"mt-3 text-sm text-muted-foreground",children:["Need ",f.cost-((e==null?void 0:e.balance)||0)," more coins"]})]},f.id)})})]})};function iv(e,[t,r]){return Math.min(r,Math.max(t,e))}var kA=m.createContext(void 0);function Jc(e){const t=m.useContext(kA);return e||t||"ltr"}function pp(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var CA=[" ","Enter","ArrowUp","ArrowDown"],NA=[" ","Enter"],Ns="Select",[Xc,Zc,jA]=Mh(Ns),[si]=yr(Ns,[jA,Fc]),eu=Fc(),[TA,Hn]=si(Ns),[PA,RA]=si(Ns),Sb=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:b}=e,g=eu(t),[w,v]=m.useState(null),[y,x]=m.useState(null),[_,C]=m.useState(!1),N=Jc(u),[j,P]=Ln({prop:n,defaultProp:s??!1,onChange:o,caller:Ns}),[D,I]=Ln({prop:i,defaultProp:a,onChange:l,caller:Ns}),U=m.useRef(null),B=w?b||!!w.closest("form"):!0,[Z,$]=m.useState(new Set),J=Array.from(Z).map(V=>V.props.value).join(";");return c.jsx(Rj,{...g,children:c.jsxs(TA,{required:h,scope:t,trigger:w,onTriggerChange:v,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:In(),value:D,onValueChange:I,open:j,onOpenChange:P,dir:N,triggerPointerDownPosRef:U,disabled:p,children:[c.jsx(Xc.Provider,{scope:t,children:c.jsx(PA,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(V=>{$(q=>new Set(q).add(V))},[]),onNativeOptionRemove:m.useCallback(V=>{$(q=>{const E=new Set(q);return E.delete(V),E})},[]),children:r})}),B?c.jsxs(Kb,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:D,onChange:V=>I(V.target.value),disabled:p,form:b,children:[D===void 0?c.jsx("option",{value:""}):null,Array.from(Z)]},J):null]})})};Sb.displayName=Ns;var Eb="SelectTrigger",kb=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=eu(r),i=Hn(Eb,r),a=i.disabled||n,l=_e(t,i.onTriggerChange),u=Zc(r),d=m.useRef("touch"),[f,p,h]=Qb(g=>{const w=u().filter(x=>!x.disabled),v=w.find(x=>x.value===i.value),y=Yb(w,g,v);y!==void 0&&i.onValueChange(y.value)}),b=g=>{a||(i.onOpenChange(!0),h()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(Yw,{asChild:!0,...o,children:c.jsx(ue.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Gb(i.value)?"":void 0,...s,ref:l,onClick:ne(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:ne(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:ne(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(w&&g.key===" ")&&CA.includes(g.key)&&(b(),g.preventDefault())})})})});kb.displayName=Eb;var Cb="SelectValue",Nb=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,l=Hn(Cb,r),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,f=_e(t,l.onValueNodeChange);return ct(()=>{u(d)},[u,d]),c.jsx(ue.span,{...a,ref:f,style:{pointerEvents:"none"},children:Gb(l.value)?c.jsx(c.Fragment,{children:i}):o})});Nb.displayName=Cb;var OA="SelectIcon",jb=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return c.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});jb.displayName=OA;var AA="SelectPortal",Tb=e=>c.jsx(Oc,{asChild:!0,...e});Tb.displayName=AA;var js="SelectContent",Pb=m.forwardRef((e,t)=>{const r=Hn(js,e.__scopeSelect),[n,s]=m.useState();if(ct(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Os.createPortal(c.jsx(Rb,{scope:e.__scopeSelect,children:c.jsx(Xc.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(Ob,{...e,ref:t})});Pb.displayName=js;var nr=10,[Rb,qn]=si(js),IA="SelectContentImpl",MA=ra("SelectContent.RemoveScroll"),Ob=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:b,hideWhenDetached:g,avoidCollisions:w,...v}=e,y=Hn(js,r),[x,_]=m.useState(null),[C,N]=m.useState(null),j=_e(t,R=>_(R)),[P,D]=m.useState(null),[I,U]=m.useState(null),B=Zc(r),[Z,$]=m.useState(!1),J=m.useRef(!1);m.useEffect(()=>{if(x)return tb(x)},[x]),Kx();const V=m.useCallback(R=>{const[H,...oe]=B().map(ee=>ee.ref.current),[te]=oe.slice(-1),G=document.activeElement;for(const ee of R)if(ee===G||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===H&&C&&(C.scrollTop=0),ee===te&&C&&(C.scrollTop=C.scrollHeight),ee==null||ee.focus(),document.activeElement!==G))return},[B,C]),q=m.useCallback(()=>V([P,x]),[V,P,x]);m.useEffect(()=>{Z&&q()},[Z,q]);const{onOpenChange:E,triggerPointerDownPosRef:T}=y;m.useEffect(()=>{if(x){let R={x:0,y:0};const H=te=>{var G,ee;R={x:Math.abs(Math.round(te.pageX)-(((G=T.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(te.pageY)-(((ee=T.current)==null?void 0:ee.y)??0))}},oe=te=>{R.x<=10&&R.y<=10?te.preventDefault():x.contains(te.target)||E(!1),document.removeEventListener("pointermove",H),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",oe,{capture:!0})}}},[x,E,T]),m.useEffect(()=>{const R=()=>E(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[E]);const[k,S]=Qb(R=>{const H=B().filter(G=>!G.disabled),oe=H.find(G=>G.ref.current===document.activeElement),te=Yb(H,R,oe);te&&setTimeout(()=>te.ref.current.focus())}),A=m.useCallback((R,H,oe)=>{const te=!J.current&&!oe;(y.value!==void 0&&y.value===H||te)&&(D(R),te&&(J.current=!0))},[y.value]),L=m.useCallback(()=>x==null?void 0:x.focus(),[x]),z=m.useCallback((R,H,oe)=>{const te=!J.current&&!oe;(y.value!==void 0&&y.value===H||te)&&U(R)},[y.value]),K=n==="popper"?Pf:Ab,Y=K===Pf?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:b,hideWhenDetached:g,avoidCollisions:w}:{};return c.jsx(Rb,{scope:r,content:x,viewport:C,onViewportChange:N,itemRefCallback:A,selectedItem:P,onItemLeave:L,itemTextRefCallback:z,focusSelectedItem:q,selectedItemText:I,position:n,isPositioned:Z,searchRef:k,children:c.jsx(up,{as:MA,allowPinchZoom:!0,children:c.jsx(cp,{asChild:!0,trapped:y.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:ne(s,R=>{var H;(H=y.trigger)==null||H.focus({preventScroll:!0}),R.preventDefault()}),children:c.jsx(ka,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(K,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:R=>R.preventDefault(),...v,...Y,onPlaced:()=>$(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ne(v.onKeyDown,R=>{const H=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!H&&R.key.length===1&&S(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let te=B().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(R.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const G=R.target,ee=te.indexOf(G);te=te.slice(ee+1)}setTimeout(()=>V(te)),R.preventDefault()}})})})})})})});Ob.displayName=IA;var DA="SelectItemAlignedPosition",Ab=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Hn(js,r),i=qn(js,r),[a,l]=m.useState(null),[u,d]=m.useState(null),f=_e(t,j=>d(j)),p=Zc(r),h=m.useRef(!1),b=m.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:v,focusSelectedItem:y}=i,x=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&w&&v){const j=o.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),D=o.valueNode.getBoundingClientRect(),I=v.getBoundingClientRect();if(o.dir!=="rtl"){const G=I.left-P.left,ee=D.left-G,ye=j.left-ee,le=j.width+ye,Te=Math.max(le,P.width),De=window.innerWidth-nr,He=iv(ee,[nr,Math.max(nr,De-Te)]);a.style.minWidth=le+"px",a.style.left=He+"px"}else{const G=P.right-I.right,ee=window.innerWidth-D.right-G,ye=window.innerWidth-j.right-ee,le=j.width+ye,Te=Math.max(le,P.width),De=window.innerWidth-nr,He=iv(ee,[nr,Math.max(nr,De-Te)]);a.style.minWidth=le+"px",a.style.right=He+"px"}const U=p(),B=window.innerHeight-nr*2,Z=g.scrollHeight,$=window.getComputedStyle(u),J=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),q=parseInt($.borderBottomWidth,10),E=parseInt($.paddingBottom,10),T=J+V+Z+E+q,k=Math.min(w.offsetHeight*5,T),S=window.getComputedStyle(g),A=parseInt(S.paddingTop,10),L=parseInt(S.paddingBottom,10),z=j.top+j.height/2-nr,K=B-z,Y=w.offsetHeight/2,R=w.offsetTop+Y,H=J+V+R,oe=T-H;if(H<=z){const G=U.length>0&&w===U[U.length-1].ref.current;a.style.bottom="0px";const ee=u.clientHeight-g.offsetTop-g.offsetHeight,ye=Math.max(K,Y+(G?L:0)+ee+q),le=H+ye;a.style.height=le+"px"}else{const G=U.length>0&&w===U[0].ref.current;a.style.top="0px";const ye=Math.max(z,J+g.offsetTop+(G?A:0)+Y)+oe;a.style.height=ye+"px",g.scrollTop=H-z+g.offsetTop}a.style.margin=`${nr}px 0`,a.style.minHeight=k+"px",a.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,o.trigger,o.valueNode,a,u,g,w,v,o.dir,n]);ct(()=>x(),[x]);const[_,C]=m.useState();ct(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const N=m.useCallback(j=>{j&&b.current===!0&&(x(),y==null||y(),b.current=!1)},[x,y]);return c.jsx($A,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:N,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ab.displayName=DA;var LA="SelectPopperPosition",Pf=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=nr,...o}=e,i=eu(r);return c.jsx(Jw,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pf.displayName=LA;var[$A,mp]=si(js,{}),Rf="SelectViewport",Ib=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=qn(Rf,r),i=mp(Rf,r),a=_e(t,o.onViewportChange),l=m.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Xc.Slot,{scope:r,children:c.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const b=window.innerHeight-nr*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(g,w);if(v<b){const y=v+h,x=Math.min(b,y),_=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Ib.displayName=Rf;var Mb="SelectGroup",[FA,UA]=si(Mb),BA=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=In();return c.jsx(FA,{scope:r,id:s,children:c.jsx(ue.div,{role:"group","aria-labelledby":s,...n,ref:t})})});BA.displayName=Mb;var Db="SelectLabel",Lb=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=UA(Db,r);return c.jsx(ue.div,{id:s.id,...n,ref:t})});Lb.displayName=Db;var hc="SelectItem",[zA,$b]=si(hc),Fb=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=Hn(hc,r),l=qn(hc,r),u=a.value===n,[d,f]=m.useState(o??""),[p,h]=m.useState(!1),b=_e(t,y=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,y,n,s)}),g=In(),w=m.useRef("touch"),v=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(zA,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(Xc.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:c.jsx(ue.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:ne(i.onFocus,()=>h(!0)),onBlur:ne(i.onBlur,()=>h(!1)),onClick:ne(i.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:ne(i.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:ne(i.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:ne(i.onPointerMove,y=>{var x;w.current=y.pointerType,s?(x=l.onItemLeave)==null||x.call(l):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(i.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:ne(i.onKeyDown,y=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(NA.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});Fb.displayName=hc;var Ei="SelectItemText",Ub=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Hn(Ei,r),a=qn(Ei,r),l=$b(Ei,r),u=RA(Ei,r),[d,f]=m.useState(null),p=_e(t,v=>f(v),l.onItemTextChange,v=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,v,l.value,l.disabled)}),h=d==null?void 0:d.textContent,b=m.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return ct(()=>(g(b),()=>w(b)),[g,w,b]),c.jsxs(c.Fragment,{children:[c.jsx(ue.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Os.createPortal(o.children,i.valueNode):null]})});Ub.displayName=Ei;var Bb="SelectItemIndicator",zb=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return $b(Bb,r).isSelected?c.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});zb.displayName=Bb;var Of="SelectScrollUpButton",Wb=m.forwardRef((e,t)=>{const r=qn(Of,e.__scopeSelect),n=mp(Of,e.__scopeSelect),[s,o]=m.useState(!1),i=_e(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(Hb,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Wb.displayName=Of;var Af="SelectScrollDownButton",Vb=m.forwardRef((e,t)=>{const r=qn(Af,e.__scopeSelect),n=mp(Af,e.__scopeSelect),[s,o]=m.useState(!1),i=_e(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(Hb,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Vb.displayName=Af;var Hb=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=qn("SelectScrollButton",r),i=m.useRef(null),a=Zc(r),l=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),ct(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ne(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{l()})})}),WA="SelectSeparator",qb=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});qb.displayName=WA;var If="SelectArrow",VA=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=eu(r),o=Hn(If,r),i=qn(If,r);return o.open&&i.position==="popper"?c.jsx(Xw,{...s,...n,ref:t}):null});VA.displayName=If;var HA="SelectBubbleInput",Kb=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),o=_e(n,s),i=pp(t);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),c.jsx(ue.select,{...r,style:{...V0,...r.style},ref:o,defaultValue:t})});Kb.displayName=HA;function Gb(e){return e===""||e===void 0}function Qb(e){const t=Yt(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const a=r.current+i;t(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function Yb(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=qA(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function qA(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var KA=Sb,Jb=kb,GA=Nb,QA=jb,YA=Tb,Xb=Pb,JA=Ib,Zb=Lb,e1=Fb,XA=Ub,ZA=zb,t1=Wb,r1=Vb,n1=qb;const ki=KA,Ci=GA,uo=m.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(Jb,{ref:n,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,c.jsx(QA,{asChild:!0,children:c.jsx(Bh,{className:"h-4 w-4 opacity-50"})})]}));uo.displayName=Jb.displayName;const s1=m.forwardRef(({className:e,...t},r)=>c.jsx(t1,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(pw,{className:"h-4 w-4"})}));s1.displayName=t1.displayName;const o1=m.forwardRef(({className:e,...t},r)=>c.jsx(r1,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(Bh,{className:"h-4 w-4"})}));o1.displayName=r1.displayName;const fo=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>c.jsx(YA,{children:c.jsxs(Xb,{ref:s,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[c.jsx(s1,{}),c.jsx(JA,{className:se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(o1,{})]})}));fo.displayName=Xb.displayName;const eI=m.forwardRef(({className:e,...t},r)=>c.jsx(Zb,{ref:r,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));eI.displayName=Zb.displayName;const sr=m.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(e1,{ref:n,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(ZA,{children:c.jsx(Uh,{className:"h-4 w-4"})})}),c.jsx(XA,{children:t})]}));sr.displayName=e1.displayName;const tI=m.forwardRef(({className:e,...t},r)=>c.jsx(n1,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));tI.displayName=n1.displayName;const gp=()=>({playSound:m.useCallback(t=>{try{const r=new(window.AudioContext||window.webkitAudioContext),n=(s,o,i=0,a="sine",l=.3)=>{const u=r.createOscillator(),d=r.createGain();u.connect(d),d.connect(r.destination),u.type=a,u.frequency.setValueAtTime(s,r.currentTime+i),d.gain.setValueAtTime(l,r.currentTime+i),d.gain.exponentialRampToValueAtTime(.01,r.currentTime+i+o),u.start(r.currentTime+i),u.stop(r.currentTime+i+o)};switch(t){case"success":n(523.25,.15,0,"sine",.2),n(659.25,.15,.1,"sine",.2),n(783.99,.25,.2,"sine",.25);break;case"coin":n(987.77,.1,0,"square",.15),n(1318.51,.2,.08,"square",.15);break;case"celebrate":n(523.25,.15,0,"sine",.2),n(659.25,.12,.12,"sine",.2),n(783.99,.12,.22,"sine",.2),n(1046.5,.3,.32,"sine",.25),n(1567.98,.15,.5,"sine",.1),n(2093,.2,.6,"sine",.08);break;case"error":n(392,.15,0,"triangle",.2),n(330,.2,.12,"triangle",.2);break}}catch(r){console.warn("Audio playback not supported:",r)}},[])});var vp={};(function e(t,r,n,s){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;try{var k=new OffscreenCanvas(1,1),S=k.getContext("2d");S.fillRect(0,0,1,1);var A=k.transferToImageBitmap();S.createPattern(A,"no-repeat")}catch{return!1}return!0}();function l(){}function u(k){var S=r.exports.Promise,A=S!==void 0?S:t.Promise;return typeof A=="function"?new A(k):(k(l,l),null)}var d=function(k,S){return{transform:function(A){if(k)return A;if(S.has(A))return S.get(A);var L=new OffscreenCanvas(A.width,A.height),z=L.getContext("2d");return z.drawImage(A,0,0),S.set(A,L),L},clear:function(){S.clear()}}}(a,new Map),f=function(){var k=Math.floor(16.666666666666668),S,A,L={},z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(K){var Y=Math.random();return L[Y]=requestAnimationFrame(function R(H){z===H||z+k-1<H?(z=H,delete L[Y],K()):L[Y]=requestAnimationFrame(R)}),Y},A=function(K){L[K]&&cancelAnimationFrame(L[K])}):(S=function(K){return setTimeout(K,k)},A=function(K){return clearTimeout(K)}),{frame:S,cancel:A}}(),p=function(){var k,S,A={};function L(z){function K(Y,R){z.postMessage({options:Y||{},callback:R})}z.init=function(R){var H=R.transferControlToOffscreen();z.postMessage({canvas:H},[H])},z.fire=function(R,H,oe){if(S)return K(R,null),S;var te=Math.random().toString(36).slice(2);return S=u(function(G){function ee(ye){ye.data.callback===te&&(delete A[te],z.removeEventListener("message",ee),S=null,d.clear(),oe(),G())}z.addEventListener("message",ee),K(R,te),A[te]=ee.bind(null,{data:{callback:te}})}),S},z.reset=function(){z.postMessage({reset:!0});for(var R in A)A[R](),delete A[R]}}return function(){if(k)return k;if(!n&&o){var z=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([z])))}catch(K){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",K),null}L(k)}return k}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(k,S){return S?S(k):k}function g(k){return k!=null}function w(k,S,A){return b(k&&g(k[S])?k[S]:h[S],A)}function v(k){return k<0?0:Math.floor(k)}function y(k,S){return Math.floor(Math.random()*(S-k))+k}function x(k){return parseInt(k,16)}function _(k){return k.map(C)}function C(k){var S=String(k).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:x(S.substring(0,2)),g:x(S.substring(2,4)),b:x(S.substring(4,6))}}function N(k){var S=w(k,"origin",Object);return S.x=w(S,"x",Number),S.y=w(S,"y",Number),S}function j(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function P(k){var S=k.getBoundingClientRect();k.width=S.width,k.height=S.height}function D(k){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=k,S}function I(k,S,A,L,z,K,Y,R,H){k.save(),k.translate(S,A),k.rotate(K),k.scale(L,z),k.arc(0,0,1,Y,R,H),k.restore()}function U(k){var S=k.angle*(Math.PI/180),A=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-S+(.5*A-Math.random()*A),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function B(k,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var A=S.tick++/S.totalTicks,L=S.x+S.random*S.tiltCos,z=S.y+S.random*S.tiltSin,K=S.wobbleX+S.random*S.tiltCos,Y=S.wobbleY+S.random*S.tiltSin;if(k.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-A)+")",k.beginPath(),i&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))k.fill(q(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(K-L)*.1,Math.abs(Y-z)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var R=Math.PI/10*S.wobble,H=Math.abs(K-L)*.1,oe=Math.abs(Y-z)*.1,te=S.shape.bitmap.width*S.scalar,G=S.shape.bitmap.height*S.scalar,ee=new DOMMatrix([Math.cos(R)*H,Math.sin(R)*H,-Math.sin(R)*oe,Math.cos(R)*oe,S.x,S.y]);ee.multiplySelf(new DOMMatrix(S.shape.matrix));var ye=k.createPattern(d.transform(S.shape.bitmap),"no-repeat");ye.setTransform(ee),k.globalAlpha=1-A,k.fillStyle=ye,k.fillRect(S.x-te/2,S.y-G/2,te,G),k.globalAlpha=1}else if(S.shape==="circle")k.ellipse?k.ellipse(S.x,S.y,Math.abs(K-L)*S.ovalScalar,Math.abs(Y-z)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):I(k,S.x,S.y,Math.abs(K-L)*S.ovalScalar,Math.abs(Y-z)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var le=Math.PI/2*3,Te=4*S.scalar,De=8*S.scalar,He=S.x,nt=S.y,ut=5,vt=Math.PI/ut;ut--;)He=S.x+Math.cos(le)*De,nt=S.y+Math.sin(le)*De,k.lineTo(He,nt),le+=vt,He=S.x+Math.cos(le)*Te,nt=S.y+Math.sin(le)*Te,k.lineTo(He,nt),le+=vt;else k.moveTo(Math.floor(S.x),Math.floor(S.y)),k.lineTo(Math.floor(S.wobbleX),Math.floor(z)),k.lineTo(Math.floor(K),Math.floor(Y)),k.lineTo(Math.floor(L),Math.floor(S.wobbleY));return k.closePath(),k.fill(),S.tick<S.totalTicks}function Z(k,S,A,L,z){var K=S.slice(),Y=k.getContext("2d"),R,H,oe=u(function(te){function G(){R=H=null,Y.clearRect(0,0,L.width,L.height),d.clear(),z(),te()}function ee(){n&&!(L.width===s.width&&L.height===s.height)&&(L.width=k.width=s.width,L.height=k.height=s.height),!L.width&&!L.height&&(A(k),L.width=k.width,L.height=k.height),Y.clearRect(0,0,L.width,L.height),K=K.filter(function(ye){return B(Y,ye)}),K.length?R=f.frame(ee):G()}R=f.frame(ee),H=G});return{addFettis:function(te){return K=K.concat(te),oe},canvas:k,promise:oe,reset:function(){R&&f.cancel(R),H&&H()}}}function $(k,S){var A=!k,L=!!w(S||{},"resize"),z=!1,K=w(S,"disableForReducedMotion",Boolean),Y=o&&!!w(S||{},"useWorker"),R=Y?p():null,H=A?j:P,oe=k&&R?!!k.__confetti_initialized:!1,te=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,G;function ee(le,Te,De){for(var He=w(le,"particleCount",v),nt=w(le,"angle",Number),ut=w(le,"spread",Number),vt=w(le,"startVelocity",Number),M=w(le,"decay",Number),pe=w(le,"gravity",Number),ge=w(le,"drift",Number),be=w(le,"colors",_),Ze=w(le,"ticks",Number),ke=w(le,"shapes"),dt=w(le,"scalar"),en=!!w(le,"flat"),Ir=N(le),Mr=He,oi=[],Pa=k.width*Ir.x,ii=k.height*Ir.y;Mr--;)oi.push(U({x:Pa,y:ii,angle:nt,spread:ut,startVelocity:vt,color:be[Mr%be.length],shape:ke[y(0,ke.length)],ticks:Ze,decay:M,gravity:pe,drift:ge,scalar:dt,flat:en}));return G?G.addFettis(oi):(G=Z(k,oi,H,Te,De),G.promise)}function ye(le){var Te=K||w(le,"disableForReducedMotion",Boolean),De=w(le,"zIndex",Number);if(Te&&te)return u(function(vt){vt()});A&&G?k=G.canvas:A&&!k&&(k=D(De),document.body.appendChild(k)),L&&!oe&&H(k);var He={width:k.width,height:k.height};R&&!oe&&R.init(k),oe=!0,R&&(k.__confetti_initialized=!0);function nt(){if(R){var vt={getBoundingClientRect:function(){if(!A)return k.getBoundingClientRect()}};H(vt),R.postMessage({resize:{width:vt.width,height:vt.height}});return}He.width=He.height=null}function ut(){G=null,L&&(z=!1,t.removeEventListener("resize",nt)),A&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,oe=!1)}return L&&!z&&(z=!0,t.addEventListener("resize",nt,!1)),R?R.fire(le,He,ut):ee(le,He,ut)}return ye.reset=function(){R&&R.reset(),G&&G.reset()},ye}var J;function V(){return J||(J=$(null,{useWorker:!0,resize:!0})),J}function q(k,S,A,L,z,K,Y){var R=new Path2D(k),H=new Path2D;H.addPath(R,new DOMMatrix(S));var oe=new Path2D;return oe.addPath(H,new DOMMatrix([Math.cos(Y)*z,Math.sin(Y)*z,-Math.sin(Y)*K,Math.cos(Y)*K,A,L])),oe}function E(k){if(!i)throw new Error("path confetti are not supported in this browser");var S,A;typeof k=="string"?S=k:(S=k.path,A=k.matrix);var L=new Path2D(S),z=document.createElement("canvas"),K=z.getContext("2d");if(!A){for(var Y=1e3,R=Y,H=Y,oe=0,te=0,G,ee,ye=0;ye<Y;ye+=2)for(var le=0;le<Y;le+=2)K.isPointInPath(L,ye,le,"nonzero")&&(R=Math.min(R,ye),H=Math.min(H,le),oe=Math.max(oe,ye),te=Math.max(te,le));G=oe-R,ee=te-H;var Te=10,De=Math.min(Te/G,Te/ee);A=[De,0,0,De,-Math.round(G/2+R)*De,-Math.round(ee/2+H)*De]}return{type:"path",path:S,matrix:A}}function T(k){var S,A=1,L="#000000",z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?S=k:(S=k.text,A="scalar"in k?k.scalar:A,z="fontFamily"in k?k.fontFamily:z,L="color"in k?k.color:L);var K=10*A,Y=""+K+"px "+z,R=new OffscreenCanvas(K,K),H=R.getContext("2d");H.font=Y;var oe=H.measureText(S),te=Math.ceil(oe.actualBoundingBoxRight+oe.actualBoundingBoxLeft),G=Math.ceil(oe.actualBoundingBoxAscent+oe.actualBoundingBoxDescent),ee=2,ye=oe.actualBoundingBoxLeft+ee,le=oe.actualBoundingBoxAscent+ee;te+=ee+ee,G+=ee+ee,R=new OffscreenCanvas(te,G),H=R.getContext("2d"),H.font=Y,H.fillStyle=L,H.fillText(S,ye,le);var Te=1/A;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[Te,0,0,Te,-te*Te/2,-G*Te/2]}}r.exports=function(){return V().apply(this,arguments)},r.exports.reset=function(){V().reset()},r.exports.create=$,r.exports.shapeFromPath=E,r.exports.shapeFromText=T})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),vp,!1);const cl=vp.exports;vp.exports.create;const yp=()=>({fireConfetti:m.useCallback(t=>{switch(t){case"success":cl({particleCount:80,spread:60,origin:{y:.6},colors:["#14b8a6","#facc15","#f472b6","#60a5fa"]});break;case"celebrate":const n=Date.now()+2e3,s=["#14b8a6","#facc15","#f472b6","#60a5fa","#a855f7"];(function o(){cl({particleCount:3,angle:60,spread:55,origin:{x:0,y:.6},colors:s}),cl({particleCount:3,angle:120,spread:55,origin:{x:1,y:.6},colors:s}),Date.now()<n&&requestAnimationFrame(o)})();break;case"coins":cl({particleCount:50,spread:100,origin:{y:.4},colors:["#facc15","#fbbf24","#f59e0b","#d97706"],shapes:["circle"],scalar:1.2,gravity:1.2});break}},[])}),Mf=e=>{const t=m.useRef({attempts:[],cooldownUntil:null}),[r,n]=m.useState(!1),[s,o]=m.useState(0),i=m.useCallback(()=>{const l=Date.now(),u=t.current;if(u.cooldownUntil&&l<u.cooldownUntil){const d=Math.ceil((u.cooldownUntil-l)/1e3);return o(d),n(!0),he.error(e.warningMessage||`Please wait ${d} seconds before trying again`),!1}if(u.cooldownUntil&&l>=u.cooldownUntil&&(u.cooldownUntil=null,u.attempts=[],n(!1),o(0)),u.attempts=u.attempts.filter(d=>l-d<e.windowMs),u.attempts.length>=e.maxAttempts){u.cooldownUntil=l+e.cooldownMs;const d=Math.ceil(e.cooldownMs/1e3);return o(d),n(!0),he.error(e.warningMessage||`Too many attempts. Please wait ${d} seconds.`),!1}return u.attempts.push(l),!0},[e]),a=m.useCallback(()=>{t.current={attempts:[],cooldownUntil:null},n(!1),o(0)},[]);return{checkLimit:i,isLimited:r,remainingTime:s,reset:a}},Df={INVITE_CODE:{maxAttempts:3,windowMs:6e4,cooldownMs:6e4,warningMessage:"Too many invite codes generated. Please wait a minute."},QUEST_VERIFICATION:{maxAttempts:5,windowMs:6e4,cooldownMs:3e4,warningMessage:"Too many quest submissions. Please wait before trying again."},BONUS_GRANT:{maxAttempts:5,windowMs:6e4,cooldownMs:3e4,warningMessage:"Too many coin grants. Please slow down."}},rI=[{id:"reading",name:"Reading",icon:Pk,tokens:50,emoji:"",description:"Read a book or story",color:"bg-blue-500",type:"reading"},{id:"drawing",name:"Drawing",icon:Wk,tokens:40,emoji:"",description:"Create awesome art",color:"bg-pink-500",type:"drawing"},{id:"homework",name:"Homework",icon:$k,tokens:75,emoji:"",description:"Complete your work",color:"bg-green-500",type:"homework"},{id:"chores",name:"Chores",icon:Rk,tokens:60,emoji:"",description:"Help around the house",color:"bg-orange-500",type:"chores"},{id:"exercise",name:"Exercise",icon:Dk,tokens:55,emoji:"",description:"Get active & move",color:"bg-red-500",type:"exercise"},{id:"music",name:"Music Practice",icon:zk,tokens:65,emoji:"",description:"Practice your instrument",color:"bg-purple-500",type:"music"}],nI=()=>{const{profile:e,user:t,refreshProfile:r}=Vn(),[n,s]=m.useState(!1),[o,i]=m.useState(""),[a,l]=m.useState(null),[u,d]=m.useState(null),[f,p]=m.useState(!1),[h,b]=m.useState(null),[g,w]=m.useState(""),[v,y]=m.useState([]),[x,_]=m.useState(0),C=m.useRef(null),{playSound:N}=gp(),{fireConfetti:j}=yp(),P=Mf(Df.QUEST_VERIFICATION);m.useEffect(()=>{t&&(D(),I())},[t]);const D=async()=>{if(!t)return;const{data:E,error:T}=await fe.from("quests").select("*").eq("child_id",t.id).eq("status","active");!T&&E&&y(E)},I=async()=>{if(!t)return;const{count:E}=await fe.from("pending_verifications").select("*",{count:"exact",head:!0}).eq("child_id",t.id).eq("status","pending");_(E||0)},U=[...rI,...v.map(E=>({id:E.id,name:E.name,icon:Ho,tokens:E.tokens,emoji:"",description:E.description||"Complete this quest!",color:"bg-accent",type:E.quest_type,verificationMethod:E.verification_method}))],B=E=>{var k;const T=(k=E.target.files)==null?void 0:k[0];T&&(l(T),d(URL.createObjectURL(T)),b(null),w(""))},Z=E=>new Promise((T,k)=>{const S=new FileReader;S.onload=()=>{const L=S.result.split(",")[1];T(L)},S.onerror=k,S.readAsDataURL(E)}),$=async()=>{if(!t)return null;const{data:E}=await fe.from("family_links").select("parent_id").eq("child_id",t.id).eq("status","active").limit(1).single();return(E==null?void 0:E.parent_id)||null},J=async()=>{if(!a||!o||!t||!P.checkLimit())return;p(!0),b(null),w("");const E=U.find(T=>T.id===o);if(!E){p(!1);return}try{const T=`${t.id}/${Date.now()}-${a.name}`,{error:k}=await fe.storage.from("quest-proofs").upload(T,a);if(k)throw k;const S=await Z(a);if(E.verificationMethod==="parent"){await V(E,T,"Parent verification requested");return}const{data:L,error:z}=await fe.functions.invoke("verify-quest",{body:{questType:E.type,imageBase64:S}});if(z)throw new Error(z.message||"Verification failed");const{valid:K,reason:Y,confidence:R}=L;if(w(Y||""),K){const{error:H}=await fe.from("transactions").insert({user_id:t.id,amount:E.tokens,type:"earn",description:`${E.name} Quest Complete! (${R}% match)`});if(H)throw H;E.verificationMethod&&await fe.from("quests").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",E.id),await r(),b("success"),N("celebrate"),j("coins"),he.success("Great job!",{description:`You earned ${E.tokens} coins!`,icon:c.jsx(Qr,{className:"w-5 h-5 text-accent"})}),setTimeout(()=>{s(!1),q(),D()},2500)}else await V(E,T,Y||"AI could not verify")}catch(T){console.error("Verification error:",T),he.error("Something went wrong"),p(!1)}},V=async(E,T,k)=>{const S=await $();if(!S){he.error("No linked parent",{description:"Ask a parent to link their account."}),b("failed"),w("No parent linked for verification"),p(!1);return}try{const{error:A}=await fe.from("pending_verifications").insert({child_id:t.id,parent_id:S,quest_id:E.verificationMethod?E.id:null,quest_type:E.type,quest_name:E.name,tokens:E.tokens,image_path:T,ai_reason:k,status:"pending"});if(A)throw A;try{await fe.functions.invoke("send-quest-notification",{body:{childId:t.id,childName:(e==null?void 0:e.username)||"Your child",questName:E.name,questType:E.type,tokens:E.tokens,status:"pending"}})}catch(L){console.log("Email notification failed (non-critical):",L)}b("pending"),w("Sent to parent for review!"),he.info("Sent to Parent",{description:"Your parent will review and approve.",icon:c.jsx(wo,{className:"w-5 h-5 text-primary"})}),setTimeout(()=>{s(!1),q(),I()},2500)}catch(A){console.error("Error submitting to parent:",A),he.error("Failed to send to parent"),b("failed")}finally{p(!1)}},q=()=>{i(""),l(null),d(null),b(null),w("")};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center slide-up",children:[c.jsx("h2",{className:"text-3xl font-display font-bold text-foreground mb-2",children:"Earn Coins"}),c.jsxs("p",{className:"text-muted-foreground flex items-center justify-center gap-2",children:[c.jsx(tc,{className:"w-4 h-4 text-primary"}),"Complete quests & our AI checks your work!"]}),x>0&&c.jsxs("p",{className:"text-sm text-accent-foreground mt-2 flex items-center justify-center gap-2",children:[c.jsx(Vo,{className:"w-4 h-4"}),x," quest",x>1?"s":""," waiting for parent review"]})]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:U.map(E=>c.jsxs("div",{className:"clean-card p-4 text-center",children:[c.jsx("div",{className:se("w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-3 text-white",E.color),children:c.jsx("span",{className:"text-xl",children:E.emoji})}),c.jsx("h3",{className:"font-display font-bold text-sm mb-1",children:E.name}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:E.description}),c.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-accent/20 text-accent-foreground font-semibold text-xs",children:[c.jsx(Qr,{className:"w-3 h-3"}),"+",E.tokens]}),E.verificationMethod==="parent"&&c.jsxs("div",{className:"mt-2 text-xs text-muted-foreground flex items-center justify-center gap-1",children:[c.jsx(wo,{className:"w-3 h-3"}),"Parent verifies"]})]},E.id))}),c.jsx("div",{className:"text-center",children:c.jsxs(Eo,{open:n,onOpenChange:E=>{s(E),E||q()},children:[c.jsx(ko,{asChild:!0,children:c.jsxs(Oe,{size:"lg",className:"gap-2",children:[c.jsx(Ho,{className:"w-5 h-5"}),"Start a Quest"]})}),c.jsxs(gs,{className:"sm:max-w-md clean-card",children:[c.jsxs(vs,{children:[c.jsx(ys,{className:"font-display text-xl",children:"New Quest"}),c.jsx(ws,{children:"Show us what you did and earn coins!"})]}),c.jsxs("div",{className:"space-y-5 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Pick a Quest"}),c.jsxs(ki,{value:o,onValueChange:i,children:[c.jsx(uo,{className:"h-12 rounded-xl",children:c.jsx(Ci,{placeholder:"Choose your quest..."})}),c.jsx(fo,{children:U.map(E=>c.jsx(sr,{value:E.id,className:"py-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xl",children:E.emoji}),c.jsx("span",{className:"font-medium",children:E.name}),c.jsxs("span",{className:"text-muted-foreground",children:["(+",E.tokens,")"]}),E.verificationMethod==="parent"&&c.jsx(wo,{className:"w-3 h-3 text-muted-foreground"})]})},E.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Take a Photo"}),c.jsx("input",{ref:C,type:"file",accept:"image/*",capture:"environment",onChange:B,className:"hidden"}),u?c.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-border",children:[c.jsx("img",{src:u,alt:"Quest proof",className:"w-full h-48 object-cover"}),c.jsx("button",{onClick:()=>{l(null),d(null),b(null),w("")},className:"absolute top-3 right-3 p-2 rounded-full bg-card/90 text-destructive hover:bg-card",children:c.jsx(Wo,{className:"w-5 h-5"})}),h&&c.jsx("div",{className:se("absolute inset-0 flex items-center justify-center",h==="success"?"bg-primary/20 backdrop-blur-sm":h==="pending"?"bg-accent/20 backdrop-blur-sm":"bg-destructive/20 backdrop-blur-sm"),children:h==="success"?c.jsxs("div",{className:"text-center celebrate p-4",children:[c.jsx(zo,{className:"w-16 h-16 text-primary mx-auto mb-2"}),c.jsx("p",{className:"font-display text-xl text-primary font-bold",children:"Great job!"}),g&&c.jsx("p",{className:"text-primary/80 mt-1 text-sm",children:g})]}):h==="pending"?c.jsxs("div",{className:"text-center p-4",children:[c.jsx(Vo,{className:"w-16 h-16 text-accent-foreground mx-auto mb-2"}),c.jsx("p",{className:"font-display text-xl text-accent-foreground font-bold",children:"Sent to Parent!"}),g&&c.jsx("p",{className:"text-accent-foreground/80 mt-1 text-sm",children:g})]}):c.jsxs("div",{className:"text-center shake p-4",children:[c.jsx(Wo,{className:"w-16 h-16 text-destructive mx-auto mb-2"}),c.jsx("p",{className:"font-display text-xl text-destructive font-bold",children:"Try Again"}),g&&c.jsx("p",{className:"text-destructive/80 mt-1 text-sm",children:g})]})}),f&&c.jsx("div",{className:"absolute inset-0 bg-card/80 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(tc,{className:"w-12 h-12 text-primary animate-pulse mx-auto"}),c.jsx("p",{className:"font-medium text-primary mt-3",children:"Checking..."})]})})]}):c.jsxs("button",{onClick:()=>{var E;return(E=C.current)==null?void 0:E.click()},className:"w-full h-48 rounded-2xl border-2 border-dashed border-border hover:border-primary transition-colors flex flex-col items-center justify-center gap-3 text-muted-foreground hover:text-primary bg-secondary/30",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:c.jsx(Ok,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-semibold",children:"Tap to take a photo"}),c.jsx("p",{className:"text-sm",children:"Show us your completed quest"})]})]})]}),c.jsx(Oe,{onClick:J,disabled:!o||!a||f||h==="success"||h==="pending",className:"w-full gap-2",children:f?c.jsxs(c.Fragment,{children:[c.jsx(bt,{className:"w-5 h-5 animate-spin"}),"Checking..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Kk,{className:"w-5 h-5"}),"Check My Work"]})})]})]})]})})]})};function xr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ts(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const i1=6048e5,sI=864e5;let oI={};function tu(){return oI}function ga(e,t){var a,l,u,d;const r=tu(),n=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=xr(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function pc(e){return ga(e,{weekStartsOn:1})}function a1(e){const t=xr(e),r=t.getFullYear(),n=Ts(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=pc(n),o=Ts(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=pc(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function av(e){const t=xr(e);return t.setHours(0,0,0,0),t}function lv(e){const t=xr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function iI(e,t){const r=av(e),n=av(t),s=+r-lv(r),o=+n-lv(n);return Math.round((s-o)/sI)}function aI(e){const t=a1(e),r=Ts(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),pc(r)}function lI(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function cI(e){if(!lI(e)&&typeof e!="number")return!1;const t=xr(e);return!isNaN(Number(t))}function uI(e){const t=xr(e),r=Ts(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const dI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fI=(e,t,r)=>{let n;const s=dI[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function od(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const hI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gI={date:od({formats:hI,defaultWidth:"full"}),time:od({formats:pI,defaultWidth:"full"}),dateTime:od({formats:mI,defaultWidth:"full"})},vI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yI=(e,t,r,n)=>vI[e];function vi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const wI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_I={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kI=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},CI={ordinalNumber:kI,era:vi({values:wI,defaultWidth:"wide"}),quarter:vi({values:xI,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vi({values:bI,defaultWidth:"wide"}),day:vi({values:_I,defaultWidth:"wide"}),dayPeriod:vi({values:SI,defaultWidth:"wide",formattingValues:EI,defaultFormattingWidth:"wide"})};function yi(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?jI(a,f=>f.test(i)):NI(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function NI(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function jI(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function TI(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const PI=/^(\d+)(th|st|nd|rd)?/i,RI=/\d+/i,OI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AI={any:[/^b/i,/^(a|c)/i]},II={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MI={any:[/1/i,/2/i,/3/i,/4/i]},DI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$I={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zI={ordinalNumber:TI({matchPattern:PI,parsePattern:RI,valueCallback:e=>parseInt(e,10)}),era:yi({matchPatterns:OI,defaultMatchWidth:"wide",parsePatterns:AI,defaultParseWidth:"any"}),quarter:yi({matchPatterns:II,defaultMatchWidth:"wide",parsePatterns:MI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yi({matchPatterns:DI,defaultMatchWidth:"wide",parsePatterns:LI,defaultParseWidth:"any"}),day:yi({matchPatterns:$I,defaultMatchWidth:"wide",parsePatterns:FI,defaultParseWidth:"any"}),dayPeriod:yi({matchPatterns:UI,defaultMatchWidth:"any",parsePatterns:BI,defaultParseWidth:"any"})},WI={code:"en-US",formatDistance:fI,formatLong:gI,formatRelative:yI,localize:CI,match:zI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VI(e){const t=xr(e);return iI(t,uI(t))+1}function HI(e){const t=xr(e),r=+pc(t)-+aI(t);return Math.round(r/i1)+1}function l1(e,t){var d,f,p,h;const r=xr(e),n=r.getFullYear(),s=tu(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(p=s.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,i=Ts(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=ga(i,t),l=Ts(e,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const u=ga(l,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function qI(e,t){var a,l,u,d;const r=tu(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=l1(e,t),o=Ts(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),ga(o,t)}function KI(e,t){const r=xr(e),n=+ga(r,t)-+qI(r,t);return Math.round(n/i1)+1}function Se(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ln={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Se(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Se(r+1,2)},d(e,t){return Se(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Se(e.getHours()%12||12,t.length)},H(e,t){return Se(e.getHours(),t.length)},m(e,t){return Se(e.getMinutes(),t.length)},s(e,t){return Se(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Se(s,t.length)}},Hs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cv={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ln.y(e,t)},Y:function(e,t,r,n){const s=l1(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Se(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Se(o,t.length)},R:function(e,t){const r=a1(e);return Se(r,t.length)},u:function(e,t){const r=e.getFullYear();return Se(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Se(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Se(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ln.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Se(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=KI(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Se(s,t.length)},I:function(e,t,r){const n=HI(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Se(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ln.d(e,t)},D:function(e,t,r){const n=VI(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Se(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Se(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Se(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Se(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Hs.noon:n===0?s=Hs.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Hs.evening:n>=12?s=Hs.afternoon:n>=4?s=Hs.morning:s=Hs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ln.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ln.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Se(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Se(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ln.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ln.s(e,t)},S:function(e,t){return ln.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return dv(n);case"XXXX":case"XX":return es(n);case"XXXXX":case"XXX":default:return es(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return dv(n);case"xxxx":case"xx":return es(n);case"xxxxx":case"xxx":default:return es(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uv(n,":");case"OOOO":default:return"GMT"+es(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uv(n,":");case"zzzz":default:return"GMT"+es(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Se(n,t.length)},T:function(e,t,r){const n=e.getTime();return Se(n,t.length)}};function uv(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Se(o,2)}function dv(e,t){return e%60===0?(e>0?"-":"+")+Se(Math.abs(e)/60,2):es(e,t)}function es(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Se(Math.trunc(n/60),2),o=Se(n%60,2);return r+s+t+o}const fv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},c1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},GI=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return fv(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",fv(n,t)).replace("{{time}}",c1(s,t))},QI={p:c1,P:GI},YI=/^D+$/,JI=/^Y+$/,XI=["D","DD","YY","YYYY"];function ZI(e){return YI.test(e)}function eM(e){return JI.test(e)}function tM(e,t,r){const n=rM(e,t,r);if(console.warn(n),XI.includes(e))throw new RangeError(n)}function rM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oM=/^'([^]*?)'?$/,iM=/''/g,aM=/[a-zA-Z]/;function Co(e,t,r){var d,f,p,h;const n=tu(),s=n.locale??WI,o=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)??0,a=xr(e);if(!cI(a))throw new RangeError("Invalid time value");let l=t.match(sM).map(b=>{const g=b[0];if(g==="p"||g==="P"){const w=QI[g];return w(b,s.formatLong)}return b}).join("").match(nM).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const g=b[0];if(g==="'")return{isToken:!1,value:lM(b)};if(cv[g])return{isToken:!0,value:b};if(g.match(aM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(b=>{if(!b.isToken)return b.value;const g=b.value;(eM(g)||ZI(g))&&tM(g,t,String(e));const w=cv[g[0]];return w(a,g,s.localize,u)}).join("")}function lM(e){const t=e.match(oM);return t?t[1].replace(iM,"'"):e}const Yn=[{name:"Beginner",threshold:0,color:"text-slate-500",bgColor:"bg-slate-100 dark:bg-slate-800",icon:c.jsx(Cl,{className:"w-5 h-5"}),emoji:""},{name:"Bronze",threshold:5,color:"text-amber-700",bgColor:"bg-amber-100 dark:bg-amber-900/30",icon:c.jsx(Bk,{className:"w-5 h-5"}),emoji:""},{name:"Silver",threshold:15,color:"text-slate-400",bgColor:"bg-slate-200 dark:bg-slate-700",icon:c.jsx(Tk,{className:"w-5 h-5"}),emoji:""},{name:"Gold",threshold:30,color:"text-yellow-500",bgColor:"bg-yellow-100 dark:bg-yellow-900/30",icon:c.jsx(qo,{className:"w-5 h-5"}),emoji:""},{name:"Platinum",threshold:50,color:"text-cyan-400",bgColor:"bg-cyan-100 dark:bg-cyan-900/30",icon:c.jsx(Ho,{className:"w-5 h-5"}),emoji:""},{name:"Champion",threshold:100,color:"text-purple-500",bgColor:"bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30",icon:c.jsx(qo,{className:"w-5 h-5"}),emoji:""}],cM=({completedQuests:e,className:t})=>{const{currentLevel:r,nextLevel:n,progress:s}=m.useMemo(()=>{let o=Yn[0],i=Yn[1];for(let l=Yn.length-1;l>=0;l--)if(e>=Yn[l].threshold){o=Yn[l],i=Yn[l+1]||null;break}const a=i?(e-o.threshold)/(i.threshold-o.threshold)*100:100;return{currentLevel:o,nextLevel:i,progress:Math.min(a,100)}},[e]);return c.jsxs("div",{className:se("clean-card p-5",t),children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:se("w-16 h-16 rounded-2xl flex items-center justify-center text-3xl",r.bgColor),children:r.emoji}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Rank"}),c.jsx("h3",{className:se("font-display text-2xl font-bold",r.color),children:r.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[e," quest",e!==1?"s":""," completed"]})]})]}),n&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-muted-foreground",children:["Progress to ",n.name]}),c.jsxs("span",{className:"font-semibold",children:[e," / ",n.threshold]})]}),c.jsx("div",{className:"h-3 rounded-full bg-secondary overflow-hidden",children:c.jsx("div",{className:se("h-full rounded-full transition-all duration-500 ease-out",n.name==="Bronze"&&"bg-amber-600",n.name==="Silver"&&"bg-slate-400",n.name==="Gold"&&"bg-yellow-500",n.name==="Platinum"&&"bg-cyan-400",n.name==="Champion"&&"bg-gradient-to-r from-purple-500 to-pink-500"),style:{width:`${s}%`}})}),c.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[n.threshold-e," more quest",n.threshold-e!==1?"s":""," to reach ",n.emoji," ",n.name,"!"]})]}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[c.jsx("p",{className:"text-sm font-semibold mb-3",children:"All Ranks"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Yn.map(o=>{const i=e>=o.threshold;return c.jsxs("div",{className:se("flex items-center gap-2 px-3 py-2 rounded-xl text-sm transition-all",i?se(o.bgColor,o.color,"font-semibold"):"bg-secondary/50 text-muted-foreground opacity-50"),children:[c.jsx("span",{children:o.emoji}),c.jsx("span",{children:o.name}),i&&o.name===r.name&&c.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-1.5 py-0.5 rounded-full",children:"Current"})]},o.name)})})]})]})},uM=()=>{const{user:e}=Vn(),[t,r]=m.useState([]),[n,s]=m.useState(!0),[o,i]=m.useState(null);m.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const{data:p,error:h}=await fe.from("pending_verifications").select("*").eq("child_id",e.id).eq("status","approved").order("reviewed_at",{ascending:!1}).limit(20);if(h)throw h;r(p||[])}catch(p){console.error("Error fetching quest history:",p)}finally{s(!1)}},[l,u]=m.useState({});m.useEffect(()=>{const p=async()=>{const h=t.map(g=>g.image_path),b={};for(const g of h)if(!l[g]){const{data:w}=await fe.storage.from("quest-proofs").createSignedUrl(g,3600);w!=null&&w.signedUrl&&(b[g]=w.signedUrl)}Object.keys(b).length>0&&u(g=>({...g,...b}))};t.length>0&&p()},[t]);const d=p=>l[p]||"",f=p=>({reading:"",drawing:"",homework:"",chores:"",exercise:"",music:"",custom:""})[p]||"";return n?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(bt,{className:"w-8 h-8 animate-spin text-primary"})}):t.length===0?c.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[c.jsx(qo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"font-medium",children:"No completed quests yet"}),c.jsx("p",{className:"text-sm mt-1",children:"Complete quests to see your achievements here!"})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(cM,{completedQuests:t.length}),c.jsxs("div",{className:"text-center slide-up",children:[c.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-2",children:"Quest Gallery"}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Your completed quests with proof photos"})]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(p=>c.jsxs("div",{className:"clean-card overflow-hidden group cursor-pointer",onClick:()=>i(d(p.image_path)),children:[c.jsxs("div",{className:"relative aspect-square bg-secondary overflow-hidden",children:[c.jsx("img",{src:d(p.image_path),alt:p.quest_name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-center pb-2",children:c.jsx(Yk,{className:"w-5 h-5 text-white"})}),c.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-card/90 flex items-center justify-center text-lg shadow-sm",children:f(p.quest_type)})]}),c.jsxs("div",{className:"p-3",children:[c.jsx("h4",{className:"font-display font-bold text-sm truncate",children:p.quest_name}),c.jsxs("div",{className:"flex items-center justify-between mt-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(hw,{className:"w-3 h-3"}),Co(new Date(p.reviewed_at),"MMM d")]}),c.jsxs("span",{className:"text-xs font-semibold text-accent-foreground flex items-center gap-1",children:[c.jsx(Qr,{className:"w-3 h-3"}),"+",p.tokens]})]})]})]},p.id))}),o&&c.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:()=>i(null),children:c.jsxs("div",{className:"relative max-w-2xl max-h-[80vh] animate-scale-in",children:[c.jsx("img",{src:o,alt:"Quest proof",className:"max-w-full max-h-[80vh] object-contain rounded-2xl"}),c.jsx("button",{onClick:()=>i(null),className:"absolute top-2 right-2 w-10 h-10 rounded-full bg-card/90 flex items-center justify-center text-foreground hover:bg-card",children:""})]})})]})},dM=({onApproval:e})=>{const{user:t,refreshProfile:r}=Vn(),{playSound:n}=gp(),{fireConfetti:s}=yp(),o=m.useRef(null);return m.useEffect(()=>{if(!t)return;const i=fe.channel(`verification-updates-${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pending_verifications",filter:`child_id=eq.${t.id}`},async a=>{const l=a.new;l.status==="approved"?(n("celebrate"),s("celebrate"),he.success("Quest Approved! ",{description:`You earned ${l.tokens} coins for ${l.quest_name}!`,icon:c.jsx(zo,{className:"w-5 h-5 text-primary"}),duration:5e3}),await r(),e==null||e()):l.status==="rejected"&&(n("error"),he.error("Quest Not Approved",{description:`${l.quest_name} was not approved. Try again!`,icon:c.jsx(Wo,{className:"w-5 h-5 text-destructive"}),duration:5e3}),e==null||e())}).subscribe();return o.current=i,()=>{o.current&&fe.removeChannel(o.current)}},[t,n,s,r,e]),null},fM=({currentStreak:e,longestStreak:t,lastQuestDate:r,className:n})=>{const s=new Date().toISOString().split("T")[0],o=r===s,i=Math.min((e+1)*5,50),a=Math.min(e*5,50),u=(()=>{if(!r)return{message:"Start your streak today!",color:"text-muted-foreground"};const f=new Date(r),p=new Date(s),h=Math.floor((p.getTime()-f.getTime())/(1e3*60*60*24));return h===0?{message:"Streak active! ",color:"text-primary"}:h===1?{message:"Complete a quest to keep your streak!",color:"text-orange-500"}:{message:"Streak ended. Start a new one!",color:"text-muted-foreground"}})(),d=()=>e>=10?"w-8 h-8":e>=5?"w-7 h-7":"w-6 h-6";return c.jsxs("div",{className:se("clean-card p-5",n),children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsxs("div",{className:se("relative flex items-center justify-center w-16 h-16 rounded-2xl",e>0?"bg-gradient-to-br from-orange-400 to-red-500":"bg-secondary"),children:[c.jsx(rc,{className:se(d(),e>0?"text-white":"text-muted-foreground",e>0&&"animate-pulse")}),e>=7&&c.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-yellow-400 flex items-center justify-center text-xs font-bold text-yellow-900",children:""})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Streak"}),c.jsxs("h3",{className:"font-display text-3xl font-bold",children:[e," ",c.jsxs("span",{className:"text-lg text-muted-foreground",children:["day",e!==1?"s":""]})]}),c.jsx("p",{className:se("text-sm",u.color),children:u.message})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[c.jsxs("div",{className:"p-3 rounded-xl bg-secondary/50",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(qo,{className:"w-4 h-4 text-yellow-500"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Best Streak"})]}),c.jsxs("p",{className:"font-display font-bold text-lg",children:[t," days"]})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-secondary/50",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Qk,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Today's Bonus"})]}),c.jsxs("p",{className:"font-display font-bold text-lg text-primary",children:[o?`+${a}`:`+${i}`," coins"]})]})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-950/30 dark:to-red-950/30 border border-orange-200 dark:border-orange-800",children:[c.jsxs("p",{className:"text-sm font-medium text-orange-800 dark:text-orange-200 flex items-center gap-2",children:[c.jsx(rc,{className:"w-4 h-4"}),"Streak Bonus: +5 coins per day (max 50)"]}),c.jsx("div",{className:"mt-2 flex gap-1",children:[1,2,3,4,5,6,7].map(f=>c.jsx("div",{className:se("flex-1 h-2 rounded-full transition-all",f<=e?"bg-gradient-to-r from-orange-400 to-red-500":"bg-secondary")},f))}),c.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[c.jsx("span",{children:"Day 1"}),c.jsx("span",{children:"Day 7+"})]})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[c.jsxs("p",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[c.jsx(hw,{className:"w-4 h-4"}),"This Week"]}),c.jsx("div",{className:"flex gap-2 justify-between",children:["S","M","T","W","T","F","S"].map((f,p)=>{const b=new Date().getDay(),g=p===b,w=p<b,v=b-p,y=w&&v<=e&&e>0;return c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:f}),c.jsx("div",{className:se("w-8 h-8 rounded-lg flex items-center justify-center text-sm font-medium transition-all",g&&o&&"bg-gradient-to-br from-orange-400 to-red-500 text-white",g&&!o&&"border-2 border-dashed border-orange-400 text-orange-500",y&&!g&&"bg-primary/20 text-primary",!y&&!g&&w&&"bg-secondary text-muted-foreground",!w&&!g&&"bg-secondary/50 text-muted-foreground/50"),children:y||g&&o?"":""})]},p)})})]})]})},hM=()=>{const{profile:e,signOut:t,user:r,refreshProfile:n}=Vn(),[s,o]=m.useState("market"),[i,a]=m.useState(!1),[l,u]=m.useState(""),[d,f]=m.useState(!1),[p,h]=m.useState(0),b=m.useCallback(()=>{h(w=>w+1)},[]),g=async()=>{if(!(!l.trim()||!r)){f(!0);try{const{data:w,error:v}=await fe.from("family_links").select("*").eq("invite_code",l.toUpperCase().trim()).eq("status","pending").single();if(v||!w){he.error("Invalid code",{description:"Please check the code and try again."}),f(!1);return}const{error:y}=await fe.from("family_links").update({child_id:r.id,status:"active",linked_at:new Date().toISOString(),invite_code:null}).eq("id",w.id);if(y)throw y;he.success("Connected!",{description:"You are now linked with your parent.",icon:c.jsx(Uh,{className:"w-5 h-5 text-primary"})}),a(!1),u(""),n()}catch(w){console.error("Link error:",w),he.error("Something went wrong")}finally{f(!1)}}};return e?c.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[c.jsx(dM,{onApproval:b}),c.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:c.jsx("span",{className:"text-xl",children:""})}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-display font-bold text-lg text-foreground",children:"Aether"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Hi, ",e.username||"there","!"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Eo,{open:i,onOpenChange:a,children:[c.jsx(ko,{asChild:!0,children:c.jsxs(Oe,{variant:"outline",size:"sm",className:"hidden sm:flex gap-2",children:[c.jsx(Uk,{className:"w-4 h-4"}),"Link Parent"]})}),c.jsxs(gs,{className:"clean-card",children:[c.jsxs(vs,{children:[c.jsx(ys,{className:"font-display text-xl",children:"Link with Parent"}),c.jsx(ws,{children:"Enter the invite code from your parent to connect."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Invite Code"}),c.jsx(Lt,{placeholder:"ABCD1234",value:l,onChange:w=>u(w.target.value.toUpperCase()),maxLength:8,className:"font-display text-xl tracking-widest text-center h-14 rounded-xl"})]}),c.jsx(Oe,{onClick:g,disabled:l.length!==8||d,className:"w-full",children:d?c.jsx(bt,{className:"w-5 h-5 animate-spin"}):"Connect"})]})]})]}),(e.current_streak||0)>0&&c.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-gradient-to-r from-orange-100 to-red-100 dark:from-orange-900/30 dark:to-red-900/30 text-orange-600 dark:text-orange-400",children:[c.jsx(rc,{className:"w-4 h-4"}),c.jsx("span",{className:"font-semibold text-sm",children:e.current_streak})]}),c.jsx(_A,{balance:e.balance}),c.jsx(Oe,{variant:"ghost",size:"icon",onClick:t,className:"text-muted-foreground hover:text-destructive",children:c.jsx(mw,{className:"w-5 h-5"})})]})]})})}),c.jsx("nav",{className:"border-b border-border bg-card",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex gap-1 py-2",children:[c.jsxs("button",{onClick:()=>o("market"),className:`nav-link flex items-center gap-2 ${s==="market"?"active":""}`,children:[c.jsx(Hk,{className:"w-4 h-4"}),"Shop"]}),c.jsxs("button",{onClick:()=>o("mint"),className:`nav-link flex items-center gap-2 ${s==="mint"?"active":""}`,children:[c.jsx(Ho,{className:"w-4 h-4"}),"Earn Coins"]}),c.jsxs("button",{onClick:()=>o("history"),className:`nav-link flex items-center gap-2 ${s==="history"?"active":""}`,children:[c.jsx(qo,{className:"w-4 h-4"}),"Achievements"]})]})})}),c.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:c.jsxs("div",{className:"fade-in space-y-6",children:[s==="mint"&&c.jsx(fM,{currentStreak:e.current_streak||0,longestStreak:e.longest_streak||0,lastQuestDate:e.last_quest_date}),s==="market"&&c.jsx(EA,{}),s==="mint"&&c.jsx(nI,{}),s==="history"&&c.jsx(uM,{},p)]})})]}):null};var id="rovingFocusGroup.onEntryFocus",pM={bubbles:!1,cancelable:!0},Ta="RovingFocusGroup",[Lf,u1,mM]=Mh(Ta),[gM,ru]=yr(Ta,[mM]),[vM,yM]=gM(Ta),d1=m.forwardRef((e,t)=>c.jsx(Lf.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Lf.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(wM,{...e,ref:t})})}));d1.displayName=Ta;var wM=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=m.useRef(null),h=_e(t,p),b=Jc(o),[g,w]=Ln({prop:i,defaultProp:a??null,onChange:l,caller:Ta}),[v,y]=m.useState(!1),x=Yt(u),_=u1(r),C=m.useRef(!1),[N,j]=m.useState(0);return m.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(id,x),()=>P.removeEventListener(id,x)},[x]),c.jsx(vM,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(P=>w(P),[w]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>j(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>j(P=>P-1),[]),children:c.jsx(ue.div,{tabIndex:v||N===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{C.current=!0}),onFocus:ne(e.onFocus,P=>{const D=!C.current;if(P.target===P.currentTarget&&D&&!v){const I=new CustomEvent(id,pM);if(P.currentTarget.dispatchEvent(I),!I.defaultPrevented){const U=_().filter(V=>V.focusable),B=U.find(V=>V.active),Z=U.find(V=>V.id===g),J=[B,Z,...U].filter(Boolean).map(V=>V.ref.current);p1(J,d)}}C.current=!1}),onBlur:ne(e.onBlur,()=>y(!1))})})}),f1="RovingFocusGroupItem",h1=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=In(),u=o||l,d=yM(f1,r),f=d.currentTabStopId===u,p=u1(r),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:g}=d;return m.useEffect(()=>{if(n)return h(),()=>b()},[n,h,b]),c.jsx(Lf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:c.jsx(ue.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:ne(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:ne(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ne(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=_M(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=p().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const _=x.indexOf(w.currentTarget);x=d.loop?SM(x,_+1):x.slice(_+1)}setTimeout(()=>p1(x))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});h1.displayName=f1;var xM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _M(e,t,r){const n=bM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return xM[n]}function p1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function SM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var m1=d1,g1=h1,nu="Tabs",[EM]=yr(nu,[ru]),v1=ru(),[kM,wp]=EM(nu),y1=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=Jc(a),[f,p]=Ln({prop:n,onChange:s,defaultProp:o??"",caller:nu});return c.jsx(kM,{scope:r,baseId:In(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:l,children:c.jsx(ue.div,{dir:d,"data-orientation":i,...u,ref:t})})});y1.displayName=nu;var w1="TabsList",x1=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=wp(w1,r),i=v1(r);return c.jsx(m1,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:c.jsx(ue.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});x1.displayName=w1;var b1="TabsTrigger",_1=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=wp(b1,r),a=v1(r),l=k1(i.baseId,n),u=C1(i.baseId,n),d=n===i.value;return c.jsx(g1,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:ne(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:ne(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});_1.displayName=b1;var S1="TabsContent",E1=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=wp(S1,r),l=k1(a.baseId,n),u=C1(a.baseId,n),d=n===a.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Wn,{present:s||d,children:({present:p})=>c.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});E1.displayName=S1;function k1(e,t){return`${e}-trigger-${t}`}function C1(e,t){return`${e}-content-${t}`}var CM=y1,N1=x1,j1=_1,T1=E1;const NM=CM,P1=m.forwardRef(({className:e,...t},r)=>c.jsx(N1,{ref:r,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));P1.displayName=N1.displayName;const Qs=m.forwardRef(({className:e,...t},r)=>c.jsx(j1,{ref:r,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Qs.displayName=j1.displayName;const Ys=m.forwardRef(({className:e,...t},r)=>c.jsx(T1,{ref:r,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ys.displayName=T1.displayName;var su="Switch",[jM]=yr(su),[TM,PM]=jM(su),R1=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...f}=e,[p,h]=m.useState(null),b=_e(t,x=>h(x)),g=m.useRef(!1),w=p?d||!!p.closest("form"):!0,[v,y]=Ln({prop:s,defaultProp:o??!1,onChange:u,caller:su});return c.jsxs(TM,{scope:r,checked:v,disabled:a,children:[c.jsx(ue.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":M1(v),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:b,onClick:ne(e.onClick,x=>{y(_=>!_),w&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),w&&c.jsx(I1,{control:p,bubbles:!g.current,name:n,value:l,checked:v,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});R1.displayName=su;var O1="SwitchThumb",A1=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=PM(O1,r);return c.jsx(ue.span,{"data-state":M1(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});A1.displayName=O1;var RM="SwitchBubbleInput",I1=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=m.useRef(null),a=_e(i,o),l=pp(r),u=Qh(t);return m.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const b=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(b)}},[l,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});I1.displayName=RM;function M1(e){return e?"checked":"unchecked"}var D1=R1,OM=A1;const L1=m.forwardRef(({className:e,...t},r)=>c.jsx(D1,{className:se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:c.jsx(OM,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));L1.displayName=D1.displayName;const ul=[{name:"Beginner",threshold:0,emoji:"",color:"text-slate-500"},{name:"Bronze",threshold:5,emoji:"",color:"text-amber-700"},{name:"Silver",threshold:15,emoji:"",color:"text-slate-400"},{name:"Gold",threshold:30,emoji:"",color:"text-yellow-500"},{name:"Platinum",threshold:50,emoji:"",color:"text-cyan-400"},{name:"Champion",threshold:100,emoji:"",color:"text-purple-500"}],AM=e=>{let t=ul[0];for(let r=ul.length-1;r>=0;r--)if(e>=ul[r].threshold){t=ul[r];break}return t},hv=({childId:e,initialProfile:t})=>{const[r,n]=m.useState(!1),[s,o]=m.useState(null),[i,a]=m.useState([]),[l,u]=m.useState([]),[d,f]=m.useState(!1);m.useEffect(()=>{p()},[e]);const p=async()=>{f(!0);try{const{data:v}=await fe.from("profiles").select("id, username, balance, current_streak, longest_streak, last_quest_date").eq("id",e).maybeSingle();v&&o(v);const{data:y}=await fe.from("quests").select("*").eq("child_id",e).order("created_at",{ascending:!1}).limit(20);a(y||[]);const{data:x}=await fe.from("transactions").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(20);u(x||[])}catch(v){console.error("Error fetching child data:",v)}finally{f(!1)}},h=i.filter(v=>v.status==="completed").length,b=i.filter(v=>v.status==="active").length,g=AM(h),w=s||{...t};return c.jsxs("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[c.jsx("div",{className:"p-4 cursor-pointer hover:bg-secondary/30 transition-colors",onClick:()=>n(!r),children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary flex items-center justify-center text-primary-foreground flex-shrink-0",children:c.jsx(wo,{className:"w-7 h-7"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("p",{className:"font-display font-bold text-lg truncate",children:(w==null?void 0:w.username)||"Player"}),c.jsxs("span",{className:se("text-sm font-medium",g.color),children:[g.emoji," ",g.name]})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-1 text-accent-foreground",children:[c.jsx(Qr,{className:"w-4 h-4"}),c.jsx("span",{className:"font-semibold",children:(w==null?void 0:w.balance)||0})]}),c.jsxs("div",{className:"flex items-center gap-1 text-orange-500",children:[c.jsx(rc,{className:"w-4 h-4"}),c.jsxs("span",{className:"font-semibold",children:[(s==null?void 0:s.current_streak)||0," day streak"]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[c.jsx(na,{className:"w-4 h-4"}),c.jsxs("span",{children:[b," active"]})]})]})]}),c.jsx(Oe,{variant:"ghost",size:"icon",className:"flex-shrink-0",children:r?c.jsx(pw,{className:"w-5 h-5"}):c.jsx(Bh,{className:"w-5 h-5"})})]})}),r&&c.jsx("div",{className:"border-t border-border",children:d?c.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading..."}):c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[c.jsxs("div",{className:"p-3 rounded-xl bg-secondary/50",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Balance"}),c.jsxs("p",{className:"font-display font-bold text-lg text-accent-foreground",children:[(s==null?void 0:s.balance)||0," coins"]})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-secondary/50",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Streak"}),c.jsxs("p",{className:"font-display font-bold text-lg text-orange-500",children:[" ",(s==null?void 0:s.current_streak)||0," days"]})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-secondary/50",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Best Streak"}),c.jsxs("p",{className:"font-display font-bold text-lg text-primary",children:[" ",(s==null?void 0:s.longest_streak)||0," days"]})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-secondary/50",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Quests Done"}),c.jsxs("p",{className:"font-display font-bold text-lg text-foreground",children:[" ",h]})]})]}),i.filter(v=>v.status==="active").length>0&&c.jsxs("div",{children:[c.jsxs("h4",{className:"font-display font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[c.jsx(na,{className:"w-4 h-4"}),"Active Quests"]}),c.jsx("div",{className:"space-y-2",children:i.filter(v=>v.status==="active").slice(0,5).map(v=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-secondary/30 border border-border",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm truncate",children:v.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v.verification_method==="ai"?" AI Verified":" Parent Verified"})]}),c.jsxs("span",{className:"text-sm font-semibold text-primary flex-shrink-0",children:["+",v.tokens," coins"]})]},v.id))})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-display font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[c.jsx(qo,{className:"w-4 h-4"}),"Quest History"]}),i.filter(v=>v.status!=="active").length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No completed quests yet"}):c.jsx("div",{className:"space-y-2",children:i.filter(v=>v.status!=="active").slice(0,5).map(v=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-secondary/30",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[v.status==="completed"?c.jsx(zo,{className:"w-5 h-5 text-primary flex-shrink-0"}):c.jsx(Wo,{className:"w-5 h-5 text-destructive flex-shrink-0"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-medium text-sm truncate",children:v.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v.completed_at?Co(new Date(v.completed_at),"MMM d, h:mm a"):Co(new Date(v.created_at),"MMM d, h:mm a")})]})]}),c.jsx("span",{className:se("text-sm font-semibold flex-shrink-0",v.status==="completed"?"text-primary":"text-muted-foreground"),children:v.status==="completed"?`+${v.tokens}`:""})]},v.id))})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-display font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[c.jsx(kl,{className:"w-4 h-4"}),"Recent Activity"]}),l.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No activity yet"}):c.jsx("div",{className:"space-y-2",children:l.slice(0,5).map(v=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-secondary/30",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-medium text-sm truncate",children:v.description||(v.type==="earn"?"Earned":"Spent")}),c.jsx("p",{className:"text-xs text-muted-foreground",children:Co(new Date(v.created_at),"MMM d, h:mm a")})]}),c.jsxs("span",{className:se("font-display font-bold text-sm flex-shrink-0",v.type==="earn"?"text-primary":"text-destructive"),children:[v.type==="earn"?"+":"-",v.amount]})]},v.id))})]})]})})]})},$1=m.forwardRef(({className:e,...t},r)=>c.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));$1.displayName="Textarea";const IM=({userId:e,linkedChildren:t,onQuestCreated:r})=>{const[n,s]=m.useState([]),[o,i]=m.useState(!0),[a,l]=m.useState(!1),[u,d]=m.useState(!1),[f,p]=m.useState(null),[h,b]=m.useState(""),[g,w]=m.useState(""),[v,y]=m.useState("25"),[x,_]=m.useState(""),[C,N]=m.useState("ai"),[j,P]=m.useState("all"),[D,I]=m.useState("all");m.useEffect(()=>{U()},[e]);const U=async()=>{i(!0);try{const{data:E,error:T}=await fe.from("quests").select("*").eq("parent_id",e).order("created_at",{ascending:!1});if(T)throw T;s(E||[])}catch(E){console.error("Error fetching quests:",E)}finally{i(!1)}},B=async()=>{if(!x||!h||!v)return;const E=parseInt(v);if(isNaN(E)||E<=0){he.error("Please enter a valid token amount");return}d(!0);try{const{error:T}=await fe.from("quests").insert({parent_id:e,child_id:x,name:h,description:g,tokens:E,quest_type:"custom",verification_method:C,status:"active"});if(T)throw T;he.success("Quest Created!",{description:`${h} assigned to your child.`,icon:c.jsx(Ho,{className:"w-5 h-5 text-primary"})}),l(!1),$(),U(),r==null||r()}catch(T){console.error("Quest creation error:",T),he.error("Failed to create quest")}finally{d(!1)}},Z=async E=>{p(E);try{const{error:T}=await fe.from("quests").update({status:"cancelled"}).eq("id",E);if(T)throw T;he.success("Quest cancelled"),U()}catch(T){console.error("Delete error:",T),he.error("Failed to cancel quest")}finally{p(null)}},$=()=>{b(""),w(""),y("25"),_(""),N("ai")},J=n.filter(E=>!(j!=="all"&&E.child_id!==j||D!=="all"&&E.status!==D)),V=E=>{var k;const T=t.find(S=>S.child_id===E);return((k=T==null?void 0:T.child)==null?void 0:k.username)||"Unknown"},q=E=>{switch(E){case"completed":return c.jsx(zo,{className:"w-4 h-4 text-primary"});case"active":return c.jsx(Vo,{className:"w-4 h-4 text-orange-500"});case"cancelled":return c.jsx(Wo,{className:"w-4 h-4 text-muted-foreground"});default:return c.jsx(Vo,{className:"w-4 h-4 text-muted-foreground"})}};return c.jsxs("div",{className:"clean-card overflow-hidden",children:[c.jsxs("div",{className:"p-5 border-b border-border flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(na,{className:"w-5 h-5 text-primary"}),c.jsx("h3",{className:"font-display font-bold text-lg",children:"Quest Manager"})]}),c.jsxs(Eo,{open:a,onOpenChange:l,children:[c.jsx(ko,{asChild:!0,children:c.jsxs(Oe,{className:"gap-2",children:[c.jsx(Vk,{className:"w-4 h-4"}),"New Quest"]})}),c.jsxs(gs,{className:"clean-card",children:[c.jsxs(vs,{children:[c.jsx(ys,{className:"font-display text-xl",children:"Create Quest"}),c.jsx(ws,{children:"Assign a custom task to your child."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Select Child"}),c.jsxs(ki,{value:x,onValueChange:_,children:[c.jsx(uo,{className:"h-12 rounded-xl",children:c.jsx(Ci,{placeholder:"Choose a child..."})}),c.jsx(fo,{children:t.map(E=>{var T;return c.jsx(sr,{value:E.child_id,children:((T=E.child)==null?void 0:T.username)||"Child"},E.id)})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Quest Name"}),c.jsx(Lt,{placeholder:"e.g., Clean your room",value:h,onChange:E=>b(E.target.value),className:"h-12 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Description (optional)"}),c.jsx($1,{placeholder:"What should they do?",value:g,onChange:E=>w(E.target.value),className:"rounded-xl resize-none",rows:2})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Coin Reward"}),c.jsx(Lt,{type:"number",placeholder:"25",value:v,onChange:E=>y(E.target.value),min:"1",className:"h-12 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Verification Method"}),c.jsxs(ki,{value:C,onValueChange:E=>N(E),children:[c.jsx(uo,{className:"h-12 rounded-xl",children:c.jsx(Ci,{})}),c.jsxs(fo,{children:[c.jsx(sr,{value:"ai",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tc,{className:"w-4 h-4 text-primary"}),c.jsx("span",{children:"AI First (falls back to you)"})]})}),c.jsx(sr,{value:"parent",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wo,{className:"w-4 h-4 text-primary"}),c.jsx("span",{children:"Parent Only"})]})})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:C==="ai"?"AI will check first. If it fails, you'll review.":"You'll review all submissions manually."})]}),c.jsxs(Oe,{onClick:B,disabled:!x||!h||!v||u,className:"w-full gap-2",children:[u?c.jsx(bt,{className:"w-5 h-5 animate-spin"}):c.jsx(Ho,{className:"w-5 h-5"}),"Create Quest"]})]})]})]})]}),c.jsxs("div",{className:"p-4 border-b border-border bg-secondary/30 flex flex-wrap gap-3",children:[c.jsxs(ki,{value:j,onValueChange:P,children:[c.jsx(uo,{className:"w-[150px] h-9 rounded-lg",children:c.jsx(Ci,{placeholder:"All Kids"})}),c.jsxs(fo,{children:[c.jsx(sr,{value:"all",children:"All Kids"}),t.map(E=>{var T;return c.jsx(sr,{value:E.child_id,children:((T=E.child)==null?void 0:T.username)||"Child"},E.id)})]})]}),c.jsxs(ki,{value:D,onValueChange:I,children:[c.jsx(uo,{className:"w-[150px] h-9 rounded-lg",children:c.jsx(Ci,{placeholder:"All Status"})}),c.jsxs(fo,{children:[c.jsx(sr,{value:"all",children:"All Status"}),c.jsx(sr,{value:"active",children:"Active"}),c.jsx(sr,{value:"completed",children:"Completed"}),c.jsx(sr,{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsx("div",{className:"divide-y divide-border",children:o?c.jsx("div",{className:"p-8 text-center",children:c.jsx(bt,{className:"w-8 h-8 animate-spin mx-auto text-primary"})}):J.length===0?c.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[c.jsx(na,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"font-medium",children:"No quests found"}),c.jsx("p",{className:"text-sm mt-1",children:"Create a quest to get started."})]}):J.slice(0,20).map(E=>c.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-secondary/30 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[q(E.status),c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("p",{className:"font-medium text-sm",children:E.name}),c.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-secondary text-muted-foreground",children:V(E.child_id)})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[c.jsx("span",{children:Co(new Date(E.created_at),"MMM d")}),c.jsx("span",{children:""}),c.jsx("span",{children:E.verification_method==="ai"?" AI":" Parent"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:se("font-display font-bold text-sm",E.status==="completed"?"text-primary":"text-muted-foreground"),children:["+",E.tokens]}),E.status==="active"&&c.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>Z(E.id),disabled:f===E.id,className:"text-muted-foreground hover:text-destructive h-8 w-8",children:f===E.id?c.jsx(bt,{className:"w-4 h-4 animate-spin"}):c.jsx(qk,{className:"w-4 h-4"})})]})]},E.id))})]})},MM=({link:e,onUpdateSpendingLimit:t,onUpdateEmailSettings:r})=>{var h,b,g,w;const[n,s]=m.useState(((h=e.spending_limit)==null?void 0:h.toString())||""),[o,i]=m.useState(e.parent_email||""),[a,l]=m.useState(e.email_notifications_enabled??!0),[u,d]=m.useState(!1),f=async()=>{d(!0);const v=n?parseInt(n):null;await t(e.child_id,v),d(!1)},p=async()=>{d(!0),await r(e.child_id,o,a),d(!1)};return c.jsxs("div",{className:"p-4 rounded-xl bg-secondary/50 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:((b=e.child)==null?void 0:b.username)||"Child"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[((g=e.child)==null?void 0:g.balance)||0," coins"]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Fe,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(Qr,{className:"w-4 h-4 text-primary"}),"Spending Limit (per purchase)"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Lt,{type:"number",placeholder:"No limit",value:n,onChange:v=>s(v.target.value),min:"0",className:"flex-1 h-10 rounded-lg"}),c.jsx(Oe,{size:"sm",variant:"outline",onClick:f,disabled:u,children:u?c.jsx(bt,{className:"w-4 h-4 animate-spin"}):"Save"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:n?`Max ${n} coins per purchase`:"No spending limit set"})]}),c.jsxs("div",{className:"space-y-3 pt-2 border-t border-border",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Fe,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(gw,{className:"w-4 h-4 text-primary"}),"Quest Notifications"]}),c.jsx(L1,{checked:a,onCheckedChange:l})]}),a&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Lt,{type:"email",placeholder:"your-email@example.com",value:o,onChange:v=>i(v.target.value),className:"h-10 rounded-lg"}),c.jsx(Oe,{size:"sm",variant:"outline",onClick:p,disabled:u||!o,className:"w-full",children:u?c.jsx(bt,{className:"w-4 h-4 animate-spin"}):"Save Email Settings"})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Get notified when ",((w=e.child)==null?void 0:w.username)||"your child"," completes quests"]})]})]})},DM=()=>{const{profile:e,signOut:t,user:r}=Vn(),[n,s]=m.useState([]),[o,i]=m.useState([]),[a,l]=m.useState([]),[u,d]=m.useState([]),[f,p]=m.useState(!0),[h,b]=m.useState(""),[g,w]=m.useState(""),[v,y]=m.useState(!1),[x,_]=m.useState(!1),[C,N]=m.useState(!1),[j,P]=m.useState(!1),[D,I]=m.useState(null),[U,B]=m.useState(null),[Z,$]=m.useState("overview"),[J,V]=m.useState(""),[q,E]=m.useState(""),[T,k]=m.useState(!1),[S,A]=m.useState(!1),{playSound:L}=gp(),{fireConfetti:z}=yp(),K=Mf(Df.INVITE_CODE),Y=Mf(Df.BONUS_GRANT);m.useEffect(()=>{G(),R()},[r]);const R=async()=>{try{const{data:M,error:pe}=await fe.from("app_settings").select("value").eq("key","parent_registration_pin").single();!pe&&M&&V(M.value)}catch(M){console.error("Error fetching parent PIN:",M)}},H=async()=>{if(!q.trim()){he.error("Please enter a new PIN");return}if(q.length<4){he.error("PIN must be at least 4 characters");return}k(!0);try{const{error:M}=await fe.from("app_settings").update({value:q,updated_at:new Date().toISOString()}).eq("key","parent_registration_pin");if(M)throw M;V(q),E(""),A(!1),he.success("Parent PIN updated successfully!")}catch(M){console.error("Error updating PIN:",M),he.error("Failed to update PIN")}finally{k(!1)}},oe=async(M,pe)=>{try{const{error:ge}=await fe.from("family_links").update({spending_limit:pe}).eq("parent_id",r==null?void 0:r.id).eq("child_id",M).eq("status","active");if(ge)throw ge;i(be=>be.map(Ze=>Ze.child_id===M?{...Ze,spending_limit:pe}:Ze)),he.success(pe?`Spending limit set to ${pe} coins`:"Spending limit removed")}catch(ge){console.error("Error updating spending limit:",ge),he.error("Failed to update spending limit")}},te=async(M,pe,ge)=>{try{const{error:be}=await fe.from("family_links").update({parent_email:pe||null,email_notifications_enabled:ge}).eq("parent_id",r==null?void 0:r.id).eq("child_id",M).eq("status","active");if(be)throw be;i(Ze=>Ze.map(ke=>ke.child_id===M?{...ke,parent_email:pe||null,email_notifications_enabled:ge}:ke)),he.success("Email settings updated")}catch(be){console.error("Error updating email settings:",be),he.error("Failed to update email settings")}},G=async()=>{if(r){p(!0);try{const{data:M,error:pe}=await fe.from("family_links").select("*").eq("parent_id",r.id);if(pe)throw pe;const ge=M||[],be=ge.filter(ke=>ke.status==="active"),Ze=ge.filter(ke=>ke.status==="pending");if(be.length>0){const ke=be.map(dt=>dt.child_id).filter(Boolean);if(ke.length>0){const{data:dt}=await fe.from("profiles").select("id, username, balance").in("id",ke);be.forEach(Ir=>{Ir.child=dt==null?void 0:dt.find(Mr=>Mr.id===Ir.child_id)});const{data:en}=await fe.from("pending_verifications").select("*").eq("parent_id",r.id).eq("status","pending").order("created_at",{ascending:!1});d(en||[])}}if(i(be),l(Ze),be.length>0){const ke=be.map(Ir=>Ir.child_id).filter(Boolean),{data:dt,error:en}=await fe.from("transactions").select("*").in("user_id",ke).order("created_at",{ascending:!1}).limit(50);if(en)throw en;s(dt||[])}else s([])}catch(M){console.error("Error fetching data:",M),he.error("Failed to load data")}finally{p(!1)}}},ee=async()=>{if(r&&K.checkLimit()){P(!0);try{const M=Array.from({length:8},()=>"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[Math.floor(Math.random()*36)]).join(""),{error:pe}=await fe.from("family_links").insert({parent_id:r.id,child_id:r.id,invite_code:M,status:"pending"});if(pe)throw pe;he.success("Code Created!",{description:"Share this with your child."}),G()}catch(M){console.error("Error creating invite:",M),he.error("Failed to create code")}finally{P(!1)}}},ye=async M=>{await navigator.clipboard.writeText(M),I(M),he.success("Copied!"),setTimeout(()=>I(null),2e3)},le=async()=>{if(!g||!h||!r)return;const M=parseInt(h);if(isNaN(M)||M<=0){he.error("Please enter a valid amount");return}if(Y.checkLimit()){y(!0);try{const{error:pe}=await fe.from("transactions").insert({user_id:g,amount:M,type:"earn",description:"Bonus from Parent"});if(pe)throw pe;he.success("Coins Sent!",{description:`Gave ${M} coins.`,icon:c.jsx(zm,{className:"w-5 h-5 text-primary"})}),_(!1),b(""),w(""),G()}catch(pe){console.error("Grant error:",pe),he.error("Failed to send coins")}finally{y(!1)}}},Te=async(M,pe)=>{B(M);try{const ge=u.find(Ze=>Ze.id===M);if(!ge)throw new Error("Verification not found");const{error:be}=await fe.from("pending_verifications").update({status:pe?"approved":"rejected",reviewed_at:new Date().toISOString()}).eq("id",M);if(be)throw be;pe?(await fe.from("transactions").insert({user_id:ge.child_id,amount:ge.tokens,type:"earn",description:`${ge.quest_name} (Parent Approved)`}),L("celebrate"),z("celebrate"),he.success("Approved!",{description:`Awarded ${ge.tokens} coins.`,icon:c.jsx(zo,{className:"w-5 h-5 text-primary"})})):(L("error"),he.info("Rejected",{description:"Quest was not approved."})),G()}catch(ge){console.error("Review error:",ge),he.error("Failed to review")}finally{B(null)}},[De,He]=m.useState({});m.useEffect(()=>{const M=async()=>{const pe=u.map(be=>be.image_path),ge={};for(const be of pe)if(!De[be]){const{data:Ze}=await fe.storage.from("quest-proofs").createSignedUrl(be,3600);Ze!=null&&Ze.signedUrl&&(ge[be]=Ze.signedUrl)}Object.keys(ge).length>0&&He(be=>({...be,...ge}))};u.length>0&&M()},[u]);const nt=M=>De[M]||"",ut=n.filter(M=>M.type==="earn").reduce((M,pe)=>M+pe.amount,0),vt=n.filter(M=>M.type==="spend").reduce((M,pe)=>M+pe.amount,0);return c.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[c.jsx("header",{className:"sticky top-0 z-50 border-b border-border bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center",children:c.jsx(vw,{className:"w-5 h-5 text-primary-foreground"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-display font-bold text-lg text-foreground",children:"Parent Dashboard"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Hi, ",(e==null?void 0:e.username)||"Parent","!"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Eo,{open:x,onOpenChange:_,children:[c.jsx(ko,{asChild:!0,children:c.jsxs(Oe,{size:"sm",className:"gap-2 hidden sm:flex",children:[c.jsx(zm,{className:"w-4 h-4"}),"Give Coins"]})}),c.jsxs(gs,{className:"clean-card",children:[c.jsxs(vs,{children:[c.jsx(ys,{className:"font-display text-xl",children:"Give Coins"}),c.jsx(ws,{children:"Reward your child with bonus coins."})]}),c.jsxs("div",{className:"space-y-5 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Select Child"}),c.jsxs("select",{value:g,onChange:M=>w(M.target.value),className:"w-full h-12 px-4 rounded-xl border border-border bg-secondary text-foreground font-medium",children:[c.jsx("option",{value:"",children:"Choose a child..."}),o.map(M=>{var pe,ge;return c.jsxs("option",{value:M.child_id,children:[((pe=M.child)==null?void 0:pe.username)||"Player"," (",((ge=M.child)==null?void 0:ge.balance)||0," coins)"]},M.id)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Amount"}),c.jsx(Lt,{type:"number",placeholder:"How many coins?",value:h,onChange:M=>b(M.target.value),min:"1",className:"h-12 rounded-xl"})]}),c.jsxs(Oe,{onClick:le,disabled:!g||!h||v,className:"w-full gap-2",children:[v?c.jsx(bt,{className:"w-5 h-5 animate-spin"}):c.jsx(Qr,{className:"w-5 h-5"}),"Send Coins"]})]})]})]}),c.jsx(Oe,{variant:"ghost",size:"icon",onClick:t,className:"text-muted-foreground hover:text-destructive",children:c.jsx(mw,{className:"w-5 h-5"})})]})]})})}),c.jsx("main",{className:"flex-1 container mx-auto px-4 py-6",children:c.jsxs(NM,{value:Z,onValueChange:$,className:"space-y-6",children:[c.jsxs(P1,{className:"grid grid-cols-5 w-full max-w-lg mx-auto",children:[c.jsxs(Qs,{value:"overview",className:"gap-2",children:[c.jsx(Fk,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),c.jsxs(Qs,{value:"kids",className:"gap-2",children:[c.jsx(Ja,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Kids"})]}),c.jsxs(Qs,{value:"quests",className:"gap-2",children:[c.jsx(na,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Quests"})]}),c.jsxs(Qs,{value:"history",className:"gap-2",children:[c.jsx(kl,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"History"})]}),c.jsxs(Qs,{value:"settings",className:"gap-2",children:[c.jsx(Wm,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),c.jsxs(Ys,{value:"overview",className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"clean-card p-4 fade-in",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:c.jsx(Hm,{className:"w-4 h-4 text-primary"})}),c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Earned"})]}),c.jsxs("p",{className:"text-2xl font-display font-bold text-primary",children:["+",ut.toLocaleString()]})]}),c.jsxs("div",{className:"clean-card p-4 fade-in",style:{animationDelay:"0.1s"},children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-destructive/10 flex items-center justify-center",children:c.jsx(Vm,{className:"w-4 h-4 text-destructive"})}),c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Spent"})]}),c.jsxs("p",{className:"text-2xl font-display font-bold text-destructive",children:["-",vt.toLocaleString()]})]}),c.jsxs("div",{className:"clean-card p-4 fade-in",style:{animationDelay:"0.2s"},children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent/20 flex items-center justify-center",children:c.jsx(Ja,{className:"w-4 h-4 text-accent-foreground"})}),c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Kids"})]}),c.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:o.length})]}),c.jsxs("div",{className:"clean-card p-4 fade-in",style:{animationDelay:"0.3s"},children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/10 flex items-center justify-center",children:c.jsx(Vo,{className:"w-4 h-4 text-orange-500"})}),c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"To Review"})]}),c.jsx("p",{className:"text-2xl font-display font-bold text-orange-500",children:u.length})]})]}),u.length>0&&c.jsxs("div",{className:"clean-card overflow-hidden",children:[c.jsxs("div",{className:"p-5 border-b border-border flex items-center gap-3",children:[c.jsx(Vo,{className:"w-5 h-5 text-orange-500"}),c.jsx("h3",{className:"font-display font-bold text-lg",children:"Awaiting Your Review"})]}),c.jsx("div",{className:"divide-y divide-border",children:u.map(M=>{var ge;const pe=(ge=o.find(be=>be.child_id===M.child_id))==null?void 0:ge.child;return c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-secondary flex-shrink-0",children:c.jsx("img",{src:nt(M.image_path),alt:"Quest proof",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[c.jsx("p",{className:"font-display font-bold",children:M.quest_name}),c.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-accent/20 text-accent-foreground",children:["+",M.tokens," coins"]})]}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["By ",(pe==null?void 0:pe.username)||"Child"]}),M.ai_reason&&c.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mb-3",children:[c.jsx(tc,{className:"w-3 h-3"}),"AI: ",M.ai_reason]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Oe,{size:"sm",onClick:()=>Te(M.id,!0),disabled:U===M.id,className:"gap-1",children:[U===M.id?c.jsx(bt,{className:"w-4 h-4 animate-spin"}):c.jsx(zo,{className:"w-4 h-4"}),"Approve"]}),c.jsxs(Oe,{size:"sm",variant:"outline",onClick:()=>Te(M.id,!1),disabled:U===M.id,className:"gap-1",children:[c.jsx(Wo,{className:"w-4 h-4"}),"Reject"]})]})]})]})},M.id)})})]}),o.length>0&&c.jsxs("div",{className:"clean-card overflow-hidden",children:[c.jsxs("div",{className:"p-5 border-b border-border flex items-center justify-between",children:[c.jsx("h3",{className:"font-display font-bold text-lg",children:"My Kids"}),c.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>$("kids"),className:"text-muted-foreground",children:"View All "})]}),c.jsx("div",{className:"p-4 space-y-3",children:o.slice(0,3).map(M=>c.jsx(hv,{childId:M.child_id,initialProfile:M.child},M.id))})]})]}),c.jsxs(Ys,{value:"kids",className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"font-display font-bold text-xl",children:"My Kids"}),c.jsxs(Eo,{open:C,onOpenChange:N,children:[c.jsx(ko,{asChild:!0,children:c.jsxs(Oe,{className:"gap-2",children:[c.jsx($u,{className:"w-4 h-4"}),"Add Child"]})}),c.jsxs(gs,{className:"clean-card",children:[c.jsxs(vs,{children:[c.jsx(ys,{className:"font-display text-xl",children:"Link a Child"}),c.jsx(ws,{children:"Create an invite code for your child to enter."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs(Oe,{onClick:ee,disabled:j,className:"w-full gap-2",children:[j?c.jsx(bt,{className:"w-5 h-5 animate-spin"}):c.jsx($u,{className:"w-5 h-5"}),"Create Invite Code"]}),a.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx(Fe,{className:"text-muted-foreground",children:"Active Codes"}),a.map(M=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-secondary border border-border",children:[c.jsx("code",{className:"font-display text-xl text-primary tracking-widest",children:M.invite_code}),c.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>M.invite_code&&ye(M.invite_code),children:D===M.invite_code?c.jsx(Uh,{className:"w-5 h-5 text-primary"}):c.jsx(Mk,{className:"w-5 h-5"})})]},M.id))]})]})]})]})]}),o.length===0?c.jsxs("div",{className:"clean-card p-12 text-center",children:[c.jsx(Ja,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),c.jsx("h3",{className:"font-display font-bold text-lg mb-2",children:"No kids linked yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Create an invite code to connect your child's account."}),c.jsxs(Oe,{onClick:()=>N(!0),className:"gap-2",children:[c.jsx($u,{className:"w-4 h-4"}),"Add Your First Child"]})]}):c.jsx("div",{className:"space-y-4",children:o.map(M=>c.jsx(hv,{childId:M.child_id,initialProfile:M.child},M.id))})]}),c.jsx(Ys,{value:"quests",children:r&&c.jsx(IM,{userId:r.id,linkedChildren:o,onQuestCreated:G})}),c.jsx(Ys,{value:"history",children:c.jsxs("div",{className:"clean-card overflow-hidden",children:[c.jsxs("div",{className:"p-5 border-b border-border flex items-center gap-3",children:[c.jsx(kl,{className:"w-5 h-5 text-muted-foreground"}),c.jsx("h3",{className:"font-display font-bold text-lg",children:"Activity History"})]}),c.jsx("div",{className:"divide-y divide-border",children:f?c.jsx("div",{className:"p-8 text-center",children:c.jsx(bt,{className:"w-8 h-8 animate-spin mx-auto text-primary"})}):n.length===0?c.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[c.jsx(kl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"font-medium",children:"No activity yet"})]}):n.map(M=>c.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-secondary/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:se("w-10 h-10 rounded-xl flex items-center justify-center",M.type==="earn"?"bg-primary/10":"bg-destructive/10"),children:M.type==="earn"?c.jsx(Hm,{className:"w-5 h-5 text-primary"}):c.jsx(Vm,{className:"w-5 h-5 text-destructive"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:M.description||(M.type==="earn"?"Earned":"Spent")}),c.jsx("p",{className:"text-xs text-muted-foreground",children:Co(new Date(M.created_at),"MMM d, h:mm a")})]})]}),c.jsxs("p",{className:se("font-display font-bold",M.type==="earn"?"text-primary":"text-destructive"),children:[M.type==="earn"?"+":"-",M.amount]})]},M.id))})]})}),c.jsx(Ys,{value:"settings",className:"space-y-6",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"clean-card p-6 fade-in",children:[c.jsxs("h2",{className:"font-display font-bold text-xl mb-6 flex items-center gap-2",children:[c.jsx(Wm,{className:"w-5 h-5 text-primary"}),"Settings"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-secondary/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:c.jsx(nf,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Parent Registration PIN"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current PIN: ",c.jsx("span",{className:"font-mono font-bold",children:J||"****"})]})]})]}),c.jsxs(Eo,{open:S,onOpenChange:A,children:[c.jsx(ko,{asChild:!0,children:c.jsx(Oe,{variant:"outline",size:"sm",children:"Change PIN"})}),c.jsxs(gs,{className:"clean-card",children:[c.jsxs(vs,{children:[c.jsx(ys,{className:"font-display text-xl",children:"Change Parent PIN"}),c.jsx(ws,{children:"Enter a new PIN that other parents will need to register."})]}),c.jsxs("div",{className:"space-y-5 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"Current PIN"}),c.jsx(Lt,{type:"text",value:J,disabled:!0,className:"h-12 rounded-xl font-mono bg-secondary"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fe,{className:"font-semibold",children:"New PIN"}),c.jsx(Lt,{type:"text",placeholder:"Enter new PIN (min 4 characters)",value:q,onChange:M=>E(M.target.value),minLength:4,maxLength:20,className:"h-12 rounded-xl font-mono"})]}),c.jsxs(Oe,{onClick:H,disabled:!q.trim()||T,className:"w-full gap-2",children:[T?c.jsx(bt,{className:"w-5 h-5 animate-spin"}):c.jsx(nf,{className:"w-5 h-5"}),"Update PIN"]})]})]})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground px-4",children:"This PIN is required when someone wants to register as a parent. Share it only with trusted family members."})]}),o.length>0&&c.jsxs("div",{className:"space-y-4 mt-8",children:[c.jsxs("h3",{className:"font-display font-semibold text-lg flex items-center gap-2",children:[c.jsx(Ja,{className:"w-5 h-5 text-primary"}),"Child Settings"]}),o.map(M=>c.jsx(MM,{link:M,onUpdateSpendingLimit:oe,onUpdateEmailSettings:te},M.id))]})]})})})]})})]})},LM=()=>{const{user:e,profile:t,loading:r}=Vn(),n=xx();return m.useEffect(()=>{!r&&!e&&n("/auth")},[e,r,n]),r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary/30",children:c.jsxs("div",{className:"text-center fade-in",children:[c.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary flex items-center justify-center",children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsx("h1",{className:"text-2xl font-display font-bold text-foreground",children:"Project Aether"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[c.jsx(bt,{className:"w-5 h-5 animate-spin text-primary"}),c.jsx("span",{className:"font-medium",children:"Loading..."})]})]})}):!e||!t?null:c.jsx("div",{className:"min-h-screen",children:t.role==="child"?c.jsx(hM,{}):c.jsx(DM,{})})};var xp="Radio",[$M,F1]=yr(xp),[FM,UM]=$M(xp),U1=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:a="on",onCheck:l,form:u,...d}=e,[f,p]=m.useState(null),h=_e(t,w=>p(w)),b=m.useRef(!1),g=f?u||!!f.closest("form"):!0;return c.jsxs(FM,{scope:r,checked:s,disabled:i,children:[c.jsx(ue.button,{type:"button",role:"radio","aria-checked":s,"data-state":V1(s),"data-disabled":i?"":void 0,disabled:i,value:a,...d,ref:h,onClick:ne(e.onClick,w=>{s||l==null||l(),g&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),g&&c.jsx(W1,{control:f,bubbles:!b.current,name:n,value:a,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});U1.displayName=xp;var B1="RadioIndicator",z1=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=UM(B1,r);return c.jsx(Wn,{present:n||o.checked,children:c.jsx(ue.span,{"data-state":V1(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});z1.displayName=B1;var BM="RadioBubbleInput",W1=m.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=m.useRef(null),a=_e(i,o),l=pp(r),u=Qh(t);return m.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const b=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(b)}},[l,r,n]),c.jsx(ue.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});W1.displayName=BM;function V1(e){return e?"checked":"unchecked"}var zM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ou="RadioGroup",[WM]=yr(ou,[ru,F1]),H1=ru(),q1=F1(),[VM,HM]=WM(ou),K1=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:a=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...p}=e,h=H1(r),b=Jc(u),[g,w]=Ln({prop:o,defaultProp:s??null,onChange:f,caller:ou});return c.jsx(VM,{scope:r,name:n,required:i,disabled:a,value:g,onValueChange:w,children:c.jsx(m1,{asChild:!0,...h,orientation:l,dir:b,loop:d,children:c.jsx(ue.div,{role:"radiogroup","aria-required":i,"aria-orientation":l,"data-disabled":a?"":void 0,dir:b,...p,ref:t})})})});K1.displayName=ou;var G1="RadioGroupItem",Q1=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=HM(G1,r),i=o.disabled||n,a=H1(r),l=q1(r),u=m.useRef(null),d=_e(t,u),f=o.value===s.value,p=m.useRef(!1);return m.useEffect(()=>{const h=g=>{zM.includes(g.key)&&(p.current=!0)},b=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",b)}},[]),c.jsx(g1,{asChild:!0,...a,focusable:!i,active:f,children:c.jsx(U1,{disabled:i,required:o.required,checked:f,...l,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:ne(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ne(s.onFocus,()=>{var h;p.current&&((h=u.current)==null||h.click())})})})});Q1.displayName=G1;var qM="RadioGroupIndicator",Y1=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=q1(r);return c.jsx(z1,{...s,...n,ref:t})});Y1.displayName=qM;var J1=K1,X1=Q1,KM=Y1;const Z1=m.forwardRef(({className:e,...t},r)=>c.jsx(J1,{className:se("grid gap-2",e),...t,ref:r}));Z1.displayName=J1.displayName;const $f=m.forwardRef(({className:e,...t},r)=>c.jsx(X1,{ref:r,className:se("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(KM,{className:"flex items-center justify-center",children:c.jsx(Ak,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$f.displayName=X1.displayName;const GM=()=>{const[e,t]=m.useState(!0),[r,n]=m.useState(""),[s,o]=m.useState(""),[i,a]=m.useState(""),[l,u]=m.useState("child"),[d,f]=m.useState(""),[p,h]=m.useState(!1),{signIn:b,signUp:g,user:w}=Vn(),v=xx();m.useEffect(()=>{w&&v("/")},[w,v]);const y=async x=>{if(x.preventDefault(),h(!0),e)await b(r,s);else{if(l==="parent")try{const{data:_,error:C}=await fe.from("app_settings").select("value").eq("key","parent_registration_pin").single();if(C||!_){he.error("Unable to verify parent PIN. Please try again."),h(!1);return}if(d!==_.value){he.error("Invalid parent PIN. Please enter the correct PIN to register as a parent."),h(!1);return}}catch{he.error("Unable to verify parent PIN. Please try again."),h(!1);return}await g(r,s,i,l)}h(!1)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-secondary/30",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8 slide-up",children:[c.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary flex items-center justify-center",children:c.jsx("span",{className:"text-2xl",children:""})}),c.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Project Aether"})]}),c.jsx("p",{className:"text-muted-foreground font-medium",children:"Earn, Learn & Play!"})]}),c.jsxs("div",{className:"clean-card p-8 fade-in",children:[c.jsxs("div",{className:"flex gap-2 mb-8 p-1 bg-secondary rounded-xl",children:[c.jsx("button",{type:"button",onClick:()=>t(!0),className:`flex-1 py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 ${e?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:"Sign In"}),c.jsx("button",{type:"button",onClick:()=>t(!1),className:`flex-1 py-2.5 px-4 rounded-lg font-semibold transition-all duration-200 ${e?"text-muted-foreground hover:text-foreground":"bg-primary text-primary-foreground"}`,children:"Sign Up"})]}),c.jsxs("form",{onSubmit:y,className:"space-y-5",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Fe,{htmlFor:"email",className:"text-sm font-semibold flex items-center gap-2",children:[c.jsx(gw,{className:"w-4 h-4 text-primary"}),"Email"]}),c.jsx(Lt,{id:"email",type:"email",placeholder:"your-email@example.com",value:r,onChange:x=>n(x.target.value),required:!0,className:"h-12 rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Fe,{htmlFor:"password",className:"text-sm font-semibold flex items-center gap-2",children:[c.jsx(sf,{className:"w-4 h-4 text-primary"}),"Password"]}),c.jsx(Lt,{id:"password",type:"password",placeholder:"",value:s,onChange:x=>o(x.target.value),required:!0,minLength:6,className:"h-12 rounded-xl"})]}),!e&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2 slide-up",children:[c.jsxs(Fe,{htmlFor:"username",className:"text-sm font-semibold flex items-center gap-2",children:[c.jsx(wo,{className:"w-4 h-4 text-primary"}),"Your Name"]}),c.jsx(Lt,{id:"username",type:"text",placeholder:"Enter your name",value:i,onChange:x=>a(x.target.value),required:!e,className:"h-12 rounded-xl"})]}),c.jsxs("div",{className:"space-y-3 slide-up",children:[c.jsxs(Fe,{className:"text-sm font-semibold flex items-center gap-2",children:[c.jsx(vw,{className:"w-4 h-4 text-primary"}),"I am a..."]}),c.jsxs(Z1,{value:l,onValueChange:x=>{u(x),x==="child"&&f("")},className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx($f,{value:"child",id:"child",className:"peer sr-only"}),c.jsxs(Fe,{htmlFor:"child",className:"flex flex-col items-center justify-center p-4 rounded-xl border-2 border-border cursor-pointer transition-all duration-200 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 hover:border-primary/50",children:[c.jsx("span",{className:"text-3xl mb-2",children:""}),c.jsx("span",{className:"font-display font-semibold",children:"Kid"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Earn & Play"})]})]}),c.jsxs("div",{children:[c.jsx($f,{value:"parent",id:"parent",className:"peer sr-only"}),c.jsxs(Fe,{htmlFor:"parent",className:"flex flex-col items-center justify-center p-4 rounded-xl border-2 border-border cursor-pointer transition-all duration-200 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 hover:border-primary/50",children:[c.jsx("span",{className:"text-3xl mb-2",children:""}),c.jsx("span",{className:"font-display font-semibold",children:"Parent"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Guide & Reward"})]})]})]})]}),l==="parent"&&c.jsxs("div",{className:"space-y-2 slide-up",children:[c.jsxs(Fe,{htmlFor:"parentPin",className:"text-sm font-semibold flex items-center gap-2",children:[c.jsx(nf,{className:"w-4 h-4 text-primary"}),"Parent PIN"]}),c.jsx(Lt,{id:"parentPin",type:"password",placeholder:"Enter parent PIN",value:d,onChange:x=>f(x.target.value),required:l==="parent",maxLength:10,className:"h-12 rounded-xl"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Ask your family admin for the parent PIN"})]})]}),c.jsx(Oe,{type:"submit",size:"lg",className:"w-full mt-6",disabled:p,children:p?c.jsx(bt,{className:"w-5 h-5 animate-spin"}):c.jsxs(c.Fragment,{children:[e?"Sign In":"Get Started",c.jsx(jk,{className:"w-5 h-5"})]})})]})]}),c.jsxs("p",{className:"text-center text-muted-foreground text-sm mt-6",children:[e?"Don't have an account? ":"Already have an account? ",c.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-primary hover:underline font-semibold",children:e?"Sign Up":"Sign In"})]})]})})},QM=()=>{const e=np();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},YM=new S2,JM=()=>c.jsx(k2,{client:YM,children:c.jsx(Qj,{children:c.jsxs(nO,{children:[c.jsx(OC,{}),c.jsx(uN,{theme:"dark",toastOptions:{style:{background:"hsl(270 50% 8%)",border:"1px solid hsl(270 40% 20%)",color:"hsl(180 100% 95%)"}}}),c.jsx(bT,{basename:"/aether/",children:c.jsxs(yT,{children:[c.jsx(jl,{path:"/",element:c.jsx(LM,{})}),c.jsx(jl,{path:"/auth",element:c.jsx(GM,{})}),c.jsx(jl,{path:"*",element:c.jsx(QM,{})})]})})]})})});L0(document.getElementById("root")).render(c.jsx(JM,{}));
